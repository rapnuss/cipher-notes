function Dz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u1={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function Rz(){if(XE)return Sh;XE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return Sh.Fragment=e,Sh.jsx=n,Sh.jsxs=n,Sh}var GE;function Mz(){return GE||(GE=1,u1.exports=Rz()),u1.exports}var S=Mz(),f1={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function Nz(){if(QE)return Pt;QE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function E($,q,se){this.props=$,this.context=q,this.refs=_,this.updater=se||b}E.prototype.isReactComponent={},E.prototype.setState=function($,q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,q,"setState")},E.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=E.prototype;function O($,q,se){this.props=$,this.context=q,this.refs=_,this.updater=se||b}var T=O.prototype=new A;T.constructor=O,y(T,E.prototype),T.isPureReactComponent=!0;var R=Array.isArray;function N(){}var j={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function H($,q,se){var le=se.ref;return{$$typeof:t,type:$,key:q,ref:le!==void 0?le:null,props:se}}function Z($,q){return H($.type,q,$.props)}function te($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function I($){var q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(se){return q[se]})}var Y=/\/+/g;function M($,q){return typeof $=="object"&&$!==null&&$.key!=null?I(""+$.key):q.toString(36)}function J($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(N,N):($.status="pending",$.then(function(q){$.status==="pending"&&($.status="fulfilled",$.value=q)},function(q){$.status==="pending"&&($.status="rejected",$.reason=q)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function V($,q,se,le,me){var je=typeof $;(je==="undefined"||je==="boolean")&&($=null);var We=!1;if($===null)We=!0;else switch(je){case"bigint":case"string":case"number":We=!0;break;case"object":switch($.$$typeof){case t:case e:We=!0;break;case h:return We=$._init,V(We($._payload),q,se,le,me)}}if(We)return me=me($),We=le===""?"."+M($,0):le,R(me)?(se="",We!=null&&(se=We.replace(Y,"$&/")+"/"),V(me,q,se,"",function(ht){return ht})):me!=null&&(te(me)&&(me=Z(me,se+(me.key==null||$&&$.key===me.key?"":(""+me.key).replace(Y,"$&/")+"/")+We)),q.push(me)),1;We=0;var Xe=le===""?".":le+":";if(R($))for(var Ae=0;Ae<$.length;Ae++)le=$[Ae],je=Xe+M(le,Ae),We+=V(le,q,se,je,me);else if(Ae=v($),typeof Ae=="function")for($=Ae.call($),Ae=0;!(le=$.next()).done;)le=le.value,je=Xe+M(le,Ae++),We+=V(le,q,se,je,me);else if(je==="object"){if(typeof $.then=="function")return V(J($),q,se,le,me);throw q=String($),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return We}function X($,q,se){if($==null)return $;var le=[],me=0;return V($,le,"","",function(je){return q.call(se,je,me++)}),le}function Q($){if($._status===-1){var q=$._result;q=q(),q.then(function(se){($._status===0||$._status===-1)&&($._status=1,$._result=se)},function(se){($._status===0||$._status===-1)&&($._status=2,$._result=se)}),$._status===-1&&($._status=0,$._result=q)}if($._status===1)return $._result.default;throw $._result}var ne=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ue={map:X,forEach:function($,q,se){X($,function(){q.apply(this,arguments)},se)},count:function($){var q=0;return X($,function(){q++}),q},toArray:function($){return X($,function(q){return q})||[]},only:function($){if(!te($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Pt.Activity=p,Pt.Children=ue,Pt.Component=E,Pt.Fragment=n,Pt.Profiler=i,Pt.PureComponent=O,Pt.StrictMode=r,Pt.Suspense=u,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Pt.__COMPILER_RUNTIME={__proto__:null,c:function($){return j.H.useMemoCache($)}},Pt.cache=function($){return function(){return $.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function($,q,se){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var le=y({},$.props),me=$.key;if(q!=null)for(je in q.key!==void 0&&(me=""+q.key),q)!U.call(q,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&q.ref===void 0||(le[je]=q[je]);var je=arguments.length-2;if(je===1)le.children=se;else if(1<je){for(var We=Array(je),Xe=0;Xe<je;Xe++)We[Xe]=arguments[Xe+2];le.children=We}return H($.type,me,le)},Pt.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Pt.createElement=function($,q,se){var le,me={},je=null;if(q!=null)for(le in q.key!==void 0&&(je=""+q.key),q)U.call(q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=q[le]);var We=arguments.length-2;if(We===1)me.children=se;else if(1<We){for(var Xe=Array(We),Ae=0;Ae<We;Ae++)Xe[Ae]=arguments[Ae+2];me.children=Xe}if($&&$.defaultProps)for(le in We=$.defaultProps,We)me[le]===void 0&&(me[le]=We[le]);return H($,je,me)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function($){return{$$typeof:l,render:$}},Pt.isValidElement=te,Pt.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:Q}},Pt.memo=function($,q){return{$$typeof:f,type:$,compare:q===void 0?null:q}},Pt.startTransition=function($){var q=j.T,se={};j.T=se;try{var le=$(),me=j.S;me!==null&&me(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(N,ne)}catch(je){ne(je)}finally{q!==null&&se.types!==null&&(q.types=se.types),j.T=q}},Pt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Pt.use=function($){return j.H.use($)},Pt.useActionState=function($,q,se){return j.H.useActionState($,q,se)},Pt.useCallback=function($,q){return j.H.useCallback($,q)},Pt.useContext=function($){return j.H.useContext($)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function($,q){return j.H.useDeferredValue($,q)},Pt.useEffect=function($,q){return j.H.useEffect($,q)},Pt.useEffectEvent=function($){return j.H.useEffectEvent($)},Pt.useId=function(){return j.H.useId()},Pt.useImperativeHandle=function($,q,se){return j.H.useImperativeHandle($,q,se)},Pt.useInsertionEffect=function($,q){return j.H.useInsertionEffect($,q)},Pt.useLayoutEffect=function($,q){return j.H.useLayoutEffect($,q)},Pt.useMemo=function($,q){return j.H.useMemo($,q)},Pt.useOptimistic=function($,q){return j.H.useOptimistic($,q)},Pt.useReducer=function($,q,se){return j.H.useReducer($,q,se)},Pt.useRef=function($){return j.H.useRef($)},Pt.useState=function($){return j.H.useState($)},Pt.useSyncExternalStore=function($,q,se){return j.H.useSyncExternalStore($,q,se)},Pt.useTransition=function(){return j.H.useTransition()},Pt.version="19.2.0",Pt}var JE;function oy(){return JE||(JE=1,f1.exports=Nz()),f1.exports}var P=oy();const Tt=eu(P),PT=Dz({__proto__:null,default:Tt},[P]);var d1={exports:{}},_h={},h1={exports:{}},p1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function jz(){return eA||(eA=1,(function(t){function e(V,X){var Q=V.length;V.push(X);e:for(;0<Q;){var ne=Q-1>>>1,ue=V[ne];if(0<i(ue,X))V[ne]=X,V[Q]=ue,Q=ne;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],Q=V.pop();if(Q!==X){V[0]=Q;e:for(var ne=0,ue=V.length,$=ue>>>1;ne<$;){var q=2*(ne+1)-1,se=V[q],le=q+1,me=V[le];if(0>i(se,Q))le<ue&&0>i(me,se)?(V[ne]=me,V[le]=Q,ne=le):(V[ne]=se,V[q]=Q,ne=q);else if(le<ue&&0>i(me,Q))V[ne]=me,V[le]=Q,ne=le;else break e}}return X}function i(V,X){var Q=V.sortIndex-X.sortIndex;return Q!==0?Q:V.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],f=[],h=1,p=null,g=3,v=!1,b=!1,y=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function T(V){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=V)r(f),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(f)}}function R(V){if(y=!1,T(V),!b)if(n(u)!==null)b=!0,N||(N=!0,I());else{var X=n(f);X!==null&&J(R,X.startTime-V)}}var N=!1,j=-1,U=5,H=-1;function Z(){return _?!0:!(t.unstable_now()-H<U)}function te(){if(_=!1,N){var V=t.unstable_now();H=V;var X=!0;try{e:{b=!1,y&&(y=!1,A(j),j=-1),v=!0;var Q=g;try{t:{for(T(V),p=n(u);p!==null&&!(p.expirationTime>V&&Z());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,g=p.priorityLevel;var ue=ne(p.expirationTime<=V);if(V=t.unstable_now(),typeof ue=="function"){p.callback=ue,T(V),X=!0;break t}p===n(u)&&r(u),T(V)}else r(u);p=n(u)}if(p!==null)X=!0;else{var $=n(f);$!==null&&J(R,$.startTime-V),X=!1}}break e}finally{p=null,g=Q,v=!1}X=void 0}}finally{X?I():N=!1}}}var I;if(typeof O=="function")I=function(){O(te)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,M=Y.port2;Y.port1.onmessage=te,I=function(){M.postMessage(null)}}else I=function(){E(te,0)};function J(V,X){j=E(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var Q=g;g=X;try{return V()}finally{g=Q}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=g;g=V;try{return X()}finally{g=Q}},t.unstable_scheduleCallback=function(V,X,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,V){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Q+ue,V={id:h++,callback:X,priorityLevel:V,startTime:Q,expirationTime:ue,sortIndex:-1},Q>ne?(V.sortIndex=Q,e(f,V),n(u)===null&&V===n(f)&&(y?(A(j),j=-1):y=!0,J(R,Q-ne))):(V.sortIndex=ue,e(u,V),b||v||(b=!0,N||(N=!0,I()))),V},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(V){var X=g;return function(){var Q=g;g=X;try{return V.apply(this,arguments)}finally{g=Q}}}})(p1)),p1}var tA;function zz(){return tA||(tA=1,h1.exports=jz()),h1.exports}var m1={exports:{}},ti={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA;function Pz(){if(nA)return ti;nA=1;var t=oy();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ti.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,h)},ti.flushSync=function(u){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=f,r.p=h,r.d.f()}},ti.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},ti.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},ti.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ti.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},ti.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ti.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},ti.requestFormReset=function(u){r.d.r(u)},ti.unstable_batchedUpdates=function(u,f){return u(f)},ti.useFormState=function(u,f,h){return s.H.useFormState(u,f,h)},ti.useFormStatus=function(){return s.H.useHostTransitionStatus()},ti.version="19.2.0",ti}var rA;function LT(){if(rA)return m1.exports;rA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m1.exports=Pz(),m1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA;function Lz(){if(iA)return _h;iA=1;var t=zz(),e=oy(),n=LT();function r(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var c=a,d=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(d=c.return),a=c.return;while(a)}return c.tag===3?d:null}function s(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(r(188))}function f(a){var c=a.alternate;if(!c){if(c=o(a),c===null)throw Error(r(188));return c!==a?null:a}for(var d=a,m=c;;){var x=d.return;if(x===null)break;var k=x.alternate;if(k===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===k.child){for(k=x.child;k;){if(k===d)return u(x),a;if(k===m)return u(x),c;k=k.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=k;else{for(var L=!1,W=x.child;W;){if(W===d){L=!0,d=x,m=k;break}if(W===m){L=!0,m=x,d=k;break}W=W.sibling}if(!L){for(W=k.child;W;){if(W===d){L=!0,d=k,m=x;break}if(W===m){L=!0,m=k,d=x;break}W=W.sibling}if(!L)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:c}function h(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=h(a),c!==null)return c;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),O=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function I(a){return a===null||typeof a!="object"?null:(a=te&&a[te]||a["@@iterator"],typeof a=="function"?a:null)}var Y=Symbol.for("react.client.reference");function M(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Y?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case y:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList";case H:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case O:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case T:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return c=a.displayName||null,c!==null?c:M(a.type)||"Memo";case U:c=a._payload,a=a._init;try{return M(a(c))}catch{}}return null}var J=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ne=[],ue=-1;function $(a){return{current:a}}function q(a){0>ue||(a.current=ne[ue],ne[ue]=null,ue--)}function se(a,c){ue++,ne[ue]=a.current,a.current=c}var le=$(null),me=$(null),je=$(null),We=$(null);function Xe(a,c){switch(se(je,c),se(me,a),se(le,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?bE(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=bE(c),a=wE(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}q(le),se(le,a)}function Ae(){q(le),q(me),q(je)}function ht(a){a.memoizedState!==null&&se(We,a);var c=le.current,d=wE(c,a.type);c!==d&&(se(me,a),se(le,d))}function Ye(a){me.current===a&&(q(le),q(me)),We.current===a&&(q(We),yh._currentValue=Q)}var Je,ct;function B(a){if(Je===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);Je=c&&c[1]||"",ct=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+a+ct}var Ee=!1;function be(a,c){if(!a||Ee)return"";Ee=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var qe=function(){throw Error()};if(Object.defineProperty(qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qe,[])}catch(Le){var Re=Le}Reflect.construct(a,[],qe)}else{try{qe.call()}catch(Le){Re=Le}a.call(qe.prototype)}}else{try{throw Error()}catch(Le){Re=Le}(qe=a())&&typeof qe.catch=="function"&&qe.catch(function(){})}}catch(Le){if(Le&&Re&&typeof Le.stack=="string")return[Le.stack,Re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=m.DetermineComponentFrameRoot(),L=k[0],W=k[1];if(L&&W){var ce=L.split(`
`),De=W.split(`
`);for(x=m=0;m<ce.length&&!ce[m].includes("DetermineComponentFrameRoot");)m++;for(;x<De.length&&!De[x].includes("DetermineComponentFrameRoot");)x++;if(m===ce.length||x===De.length)for(m=ce.length-1,x=De.length-1;1<=m&&0<=x&&ce[m]!==De[x];)x--;for(;1<=m&&0<=x;m--,x--)if(ce[m]!==De[x]){if(m!==1||x!==1)do if(m--,x--,0>x||ce[m]!==De[x]){var $e=`
`+ce[m].replace(" at new "," at ");return a.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",a.displayName)),$e}while(1<=m&&0<=x);break}}}finally{Ee=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?B(d):""}function ee(a,c){switch(a.tag){case 26:case 27:case 5:return B(a.type);case 16:return B("Lazy");case 13:return a.child!==c&&c!==null?B("Suspense Fallback"):B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return be(a.type,!1);case 11:return be(a.type.render,!1);case 1:return be(a.type,!0);case 31:return B("Activity");default:return""}}function G(a){try{var c="",d=null;do c+=ee(a,d),d=a,a=a.return;while(a);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ae=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,pe=t.unstable_shouldYield,Ue=t.unstable_requestPaint,ge=t.unstable_now,Oe=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,vt=t.unstable_NormalPriority,zt=t.unstable_LowPriority,ln=t.unstable_IdlePriority,Qt=t.log,Ct=t.unstable_setDisableYieldValue,St=null,$t=null;function Ut(a){if(typeof Qt=="function"&&Ct(a),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(St,a)}catch{}}var nt=Math.clz32?Math.clz32:Vn,jn=Math.log,Vt=Math.LN2;function Vn(a){return a>>>=0,a===0?32:31-(jn(a)/Vt|0)|0}var Qe=256,Tr=262144,zn=4194304;function Xr(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ec(a,c,d){var m=a.pendingLanes;if(m===0)return 0;var x=0,k=a.suspendedLanes,L=a.pingedLanes;a=a.warmLanes;var W=m&134217727;return W!==0?(m=W&~k,m!==0?x=Xr(m):(L&=W,L!==0?x=Xr(L):d||(d=W&~a,d!==0&&(x=Xr(d))))):(W=m&~k,W!==0?x=Xr(W):L!==0?x=Xr(L):d||(d=m&~a,d!==0&&(x=Xr(d)))),x===0?0:c!==0&&c!==x&&(c&k)===0&&(k=x&-x,d=c&-c,k>=d||k===32&&(d&4194048)!==0)?c:x}function Is(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function w0(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(){var a=zn;return zn<<=1,(zn&62914560)===0&&(zn=4194304),a}function Go(a){for(var c=[],d=0;31>d;d++)c.push(a);return c}function eo(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function md(a,c,d,m,x,k){var L=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var W=a.entanglements,ce=a.expirationTimes,De=a.hiddenUpdates;for(d=L&~d;0<d;){var $e=31-nt(d),qe=1<<$e;W[$e]=0,ce[$e]=-1;var Re=De[$e];if(Re!==null)for(De[$e]=null,$e=0;$e<Re.length;$e++){var Le=Re[$e];Le!==null&&(Le.lane&=-536870913)}d&=~qe}m!==0&&tc(a,m,0),k!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=k&~(L&~c))}function tc(a,c,d){a.pendingLanes|=c,a.suspendedLanes&=~c;var m=31-nt(c);a.entangledLanes|=c,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function _n(a,c){var d=a.entangledLanes|=c;for(a=a.entanglements;d;){var m=31-nt(d),x=1<<m;x&c|a[m]&c&&(a[m]|=c),d&=~x}}function lr(a,c){var d=c&-c;return d=(d&42)!==0?1:gd(d),(d&(a.suspendedLanes|c))!==0?0:d}function gd(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function za(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function nc(){var a=X.p;return a!==0?a:(a=window.event,a===void 0?32:HE(a.type))}function rc(a,c){var d=X.p;try{return X.p=a,c()}finally{X.p=d}}var Qo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Qo,cr="__reactProps$"+Qo,di="__reactContainer$"+Qo,Pa="__reactEvents$"+Qo,x0="__reactListeners$"+Qo,Jo="__reactHandles$"+Qo,vd="__reactResources$"+Qo,ji="__reactMarker$"+Qo;function du(a){delete a[Tn],delete a[cr],delete a[Pa],delete a[x0],delete a[Jo]}function es(a){var c=a[Tn];if(c)return c;for(var d=a.parentNode;d;){if(c=d[di]||d[Tn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(a=AE(a);a!==null;){if(d=a[Tn])return d;a=AE(a)}return c}a=d,d=a.parentNode}return null}function gn(a){if(a=a[Tn]||a[di]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function zi(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(r(33))}function Gr(a){var c=a[vd];return c||(c=a[vd]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ur(a){a[ji]=!0}var $s=new Set,ic={};function Ao(a,c){ts(a,c),ts(a+"Capture",c)}function ts(a,c){for(ic[a]=c,a=0;a<c.length;a++)$s.add(c[a])}var Fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yd={},oc={};function Gp(a){return ae.call(oc,a)?!0:ae.call(yd,a)?!1:Fs.test(a)?oc[a]=!0:(yd[a]=!0,!1)}function Ht(a,c,d){if(Gp(c))if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+d)}}function sc(a,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+d)}}function to(a,c,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(c,d,""+m)}}function Br(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function bd(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Cn(a,c,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,k=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return x.call(this)},set:function(L){d=""+L,k.call(this,L)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(L){d=""+L},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Us(a){if(!a._valueTracker){var c=bd(a)?"checked":"value";a._valueTracker=Cn(a,c,""+a[c])}}function La(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var d=c.getValue(),m="";return a&&(m=bd(a)?a.checked?"true":"false":a.value),a=m,a!==d?(c.setValue(a),!0):!1}function Oo(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var wd=/[\n"\\]/g;function Qr(a){return a.replace(wd,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ba(a,c,d,m,x,k,L,W){a.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.type=L:a.removeAttribute("type"),c!=null?L==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Br(c)):a.value!==""+Br(c)&&(a.value=""+Br(c)):L!=="submit"&&L!=="reset"||a.removeAttribute("value"),c!=null?Ia(a,L,Br(c)):d!=null?Ia(a,L,Br(d)):m!=null&&a.removeAttribute("value"),x==null&&k!=null&&(a.defaultChecked=!!k),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Br(W):a.removeAttribute("name")}function xd(a,c,d,m,x,k,L,W){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.type=k),c!=null||d!=null){if(!(k!=="submit"&&k!=="reset"||c!=null)){Us(a);return}d=d!=null?""+Br(d):"",c=c!=null?""+Br(c):d,W||c===a.value||(a.value=c),a.defaultValue=c}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=W?a.checked:!!m,a.defaultChecked=!!m,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(a.name=L),Us(a)}function Ia(a,c,d){c==="number"&&Oo(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Hs(a,c,d,m){if(a=a.options,c){c={};for(var x=0;x<d.length;x++)c["$"+d[x]]=!0;for(d=0;d<a.length;d++)x=c.hasOwnProperty("$"+a[d].value),a[d].selected!==x&&(a[d].selected=x),x&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Br(d),c=null,x=0;x<a.length;x++){if(a[x].value===d){a[x].selected=!0,m&&(a[x].defaultSelected=!0);return}c!==null||a[x].disabled||(c=a[x])}c!==null&&(c.selected=!0)}}function $a(a,c,d){if(c!=null&&(c=""+Br(c),c!==a.value&&(a.value=c),d==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=d!=null?""+Br(d):""}function Sd(a,c,d,m){if(c==null){if(m!=null){if(d!=null)throw Error(r(92));if(J(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),c=d}d=Br(c),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),Us(a)}function Fa(a,c){if(c){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=c;return}}a.textContent=c}var tn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _d(a,c,d){var m=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":m?a.setProperty(c,d):typeof d!="number"||d===0||tn.has(c)?c==="float"?a.cssFloat=d:a[c]=(""+d).trim():a[c]=d+"px"}function Qp(a,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var x in c)m=c[x],c.hasOwnProperty(x)&&d[x]!==m&&_d(a,x,m)}else for(var k in c)c.hasOwnProperty(k)&&_d(a,k,c[k])}function Cd(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(a){return Ua.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Dr(){}var hu=null;function pu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Pn=null,Ir=null;function Ha(a){var c=gn(a);if(c&&(a=c.stateNode)){var d=a[cr]||null;e:switch(a=c.stateNode,c.type){case"input":if(Ba(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Qr(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var m=d[c];if(m!==a&&m.form===a.form){var x=m[cr]||null;if(!x)throw Error(r(90));Ba(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<d.length;c++)m=d[c],m.form===a.form&&La(m)}break e;case"textarea":$a(a,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Hs(a,!!d.multiple,c,!1)}}}var Ks=!1;function mu(a,c,d){if(Ks)return a(c,d);Ks=!0;try{var m=a(c);return m}finally{if(Ks=!1,(Pn!==null||Ir!==null)&&(Im(),Pn&&(c=Pn,a=Ir,Ir=Pn=null,Ha(c),a)))for(c=0;c<a.length;c++)Ha(a[c])}}function yi(a,c){var d=a.stateNode;if(d===null)return null;var m=d[cr]||null;if(m===null)return null;d=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var To=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=!1;if(To)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){bi=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{bi=!1}var Do=null,ac=null,ns=null;function gu(){if(ns)return ns;var a,c=ac,d=c.length,m,x="value"in Do?Do.value:Do.textContent,k=x.length;for(a=0;a<d&&c[a]===x[a];a++);var L=d-a;for(m=1;m<=L&&c[d-m]===x[k-m];m++);return ns=x.slice(a,1<m?1-m:void 0)}function lc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function vu(){return!0}function qa(){return!1}function Jr(a){function c(d,m,x,k,L){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=k,this.target=L,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(d=a[W],this[W]=d?d(k):k[W]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?vu:qa,this.isPropagationStopped=qa,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),c}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Jr(Ws),rs=p({},Ws,{view:0,detail:0}),kd=Jr(rs),Ed,Ad,cc,Ka=p({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==cc&&(cc&&a.type==="mousemove"?(Ed=a.screenX-cc.screenX,Ad=a.screenY-cc.screenY):Ad=Ed=0,cc=a),Ed)},movementY:function(a){return"movementY"in a?a.movementY:Ad}}),yu=Jr(Ka),Jp=p({},Ka,{dataTransfer:0}),bu=Jr(Jp),wu=p({},rs,{relatedTarget:0}),Va=Jr(wu),em=p({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),S0=Jr(em),Wa=p({},Ws,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Od=Jr(Wa),Td=p({},Ws,{data:0}),xu=Jr(Td),Dd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=uc[a])?!!c[a]:!1}function Su(){return fc}var _u=p({},rs,{key:function(a){if(a.key){var c=Dd[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=lc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Rr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(a){return a.type==="keypress"?lc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?lc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tm=Jr(_u),nm=p({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Jr(nm),Rd=p({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),Zs=Jr(Rd),Md=p({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nd=Jr(Md),Cu=p({},Ka,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jd=Jr(Cu),rm=p({},Ws,{newState:0,oldState:0}),_0=Jr(rm),zd=[9,13,27,32],Ya=To&&"CompositionEvent"in window,hc=null;To&&"documentMode"in document&&(hc=document.documentMode);var Pd=To&&"TextEvent"in window&&!hc,ku=To&&(!Ya||hc&&8<hc&&11>=hc),im=" ",Ld=!1;function om(a,c){switch(a){case"keyup":return zd.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Xs=!1;function C0(a,c){switch(a){case"compositionend":return Bd(c);case"keypress":return c.which!==32?null:(Ld=!0,im);case"textInput":return a=c.data,a===im&&Ld?null:a;default:return null}}function sm(a,c){if(Xs)return a==="compositionend"||!Ya&&om(a,c)?(a=gu(),ns=ac=Do=null,Xs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ku&&c.locale!=="ko"?null:c.data;default:return null}}var Id={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Id[a.type]:c==="textarea"}function Fd(a,c,d,m){Pn?Ir?Ir.push(m):Ir=[m]:Pn=m,c=Vm(c,"onChange"),0<c.length&&(d=new Ys("onChange","change",null,d,m),a.push({event:d,listeners:c}))}var pc=null,mc=null;function k0(a){hE(a,0)}function Gs(a){var c=zi(a);if(La(c))return a}function no(a,c){if(a==="change")return c}var Un=!1;if(To){var Za;if(To){var ei="oninput"in document;if(!ei){var am=document.createElement("div");am.setAttribute("oninput","return;"),ei=typeof am.oninput=="function"}Za=ei}else Za=!1;Un=Za&&(!document.documentMode||9<document.documentMode)}function Eu(){pc&&(pc.detachEvent("onpropertychange",Ud),mc=pc=null)}function Ud(a){if(a.propertyName==="value"&&Gs(mc)){var c=[];Fd(c,mc,a,pu(a)),mu(k0,c)}}function Qs(a,c,d){a==="focusin"?(Eu(),pc=c,mc=d,pc.attachEvent("onpropertychange",Ud)):a==="focusout"&&Eu()}function Hd(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Gs(mc)}function Xa(a,c){if(a==="click")return Gs(c)}function is(a,c){if(a==="input"||a==="change")return Gs(c)}function lm(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var w=typeof Object.is=="function"?Object.is:lm;function C(a,c){if(w(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var d=Object.keys(a),m=Object.keys(c);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!ae.call(c,x)||!w(a[x],c[x]))return!1}return!0}function D(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function z(a,c){var d=D(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=c&&m>=c)return{node:d,offset:c-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=D(d)}}function F(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?F(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function K(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Oo(a.document);c instanceof a.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)a=c.contentWindow;else break;c=Oo(a.document)}return c}function re(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var ie=To&&"documentMode"in document&&11>=document.documentMode,fe=null,ve=null,we=null,oe=!1;function Ce(a,c,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;oe||fe==null||fe!==Oo(m)||(m=fe,"selectionStart"in m&&re(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),we&&C(we,m)||(we=m,m=Vm(ve,"onSelect"),0<m.length&&(c=new Ys("onSelect","select",null,c,d),a.push({event:c,listeners:m}),c.target=fe)))}function de(a,c){var d={};return d[a.toLowerCase()]=c.toLowerCase(),d["Webkit"+a]="webkit"+c,d["Moz"+a]="moz"+c,d}var ye={animationend:de("Animation","AnimationEnd"),animationiteration:de("Animation","AnimationIteration"),animationstart:de("Animation","AnimationStart"),transitionrun:de("Transition","TransitionRun"),transitionstart:de("Transition","TransitionStart"),transitioncancel:de("Transition","TransitionCancel"),transitionend:de("Transition","TransitionEnd")},Se={},xe={};To&&(xe=document.createElement("div").style,"AnimationEvent"in window||(delete ye.animationend.animation,delete ye.animationiteration.animation,delete ye.animationstart.animation),"TransitionEvent"in window||delete ye.transitionend.transition);function ke(a){if(Se[a])return Se[a];if(!ye[a])return a;var c=ye[a],d;for(d in c)if(c.hasOwnProperty(d)&&d in xe)return Se[a]=c[d];return a}var Pe=ke("animationend"),Be=ke("animationiteration"),Ie=ke("animationstart"),it=ke("transitionrun"),at=ke("transitionstart"),ot=ke("transitioncancel"),st=ke("transitionend"),pt=new Map,dt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dt.push("scrollEnd");function lt(a,c){pt.set(a,c),Ao(c,[a])}var Rt=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Mt=[],Et=0,Dn=0;function Ot(){for(var a=Et,c=Dn=Et=0;c<a;){var d=Mt[c];Mt[c++]=null;var m=Mt[c];Mt[c++]=null;var x=Mt[c];Mt[c++]=null;var k=Mt[c];if(Mt[c++]=null,m!==null&&x!==null){var L=m.pending;L===null?x.next=x:(x.next=L.next,L.next=x),m.pending=x}k!==0&&Mr(d,x,k)}}function fr(a,c,d,m){Mt[Et++]=a,Mt[Et++]=c,Mt[Et++]=d,Mt[Et++]=m,Dn|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function yr(a,c,d,m){return fr(a,c,d,m),io(a)}function ro(a,c){return fr(a,null,null,c),io(a)}function Mr(a,c,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var x=!1,k=a.return;k!==null;)k.childLanes|=d,m=k.alternate,m!==null&&(m.childLanes|=d),k.tag===22&&(a=k.stateNode,a===null||a._visibility&1||(x=!0)),a=k,k=k.return;return a.tag===3?(k=a.stateNode,x&&c!==null&&(x=31-nt(d),a=k.hiddenUpdates,m=a[x],m===null?a[x]=[c]:m.push(c),c.lane=d|536870912),k):null}function io(a){if(50<fh)throw fh=0,jb=null,Error(r(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var os={};function hj(a,c,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(a,c,d,m){return new hj(a,c,d,m)}function E0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Js(a,c){var d=a.alternate;return d===null?(d=Pi(a.tag,c,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=c,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,c=a.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Z_(a,c){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,c=d.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function cm(a,c,d,m,x,k){var L=0;if(m=a,typeof a=="function")E0(a)&&(L=1);else if(typeof a=="string")L=yz(a,d,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case H:return a=Pi(31,d,c,x),a.elementType=H,a.lanes=k,a;case y:return gc(d.children,x,k,c);case _:L=8,x|=24;break;case E:return a=Pi(12,d,c,x|2),a.elementType=E,a.lanes=k,a;case R:return a=Pi(13,d,c,x),a.elementType=R,a.lanes=k,a;case N:return a=Pi(19,d,c,x),a.elementType=N,a.lanes=k,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:L=10;break e;case A:L=9;break e;case T:L=11;break e;case j:L=14;break e;case U:L=16,m=null;break e}L=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return c=Pi(L,d,c,x),c.elementType=a,c.type=m,c.lanes=k,c}function gc(a,c,d,m){return a=Pi(7,a,m,c),a.lanes=d,a}function A0(a,c,d){return a=Pi(6,a,null,c),a.lanes=d,a}function X_(a){var c=Pi(18,null,null,0);return c.stateNode=a,c}function O0(a,c,d){return c=Pi(4,a.children!==null?a.children:[],a.key,c),c.lanes=d,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var G_=new WeakMap;function oo(a,c){if(typeof a=="object"&&a!==null){var d=G_.get(a);return d!==void 0?d:(c={value:a,source:c,stack:G(c)},G_.set(a,c),c)}return{value:a,source:c,stack:G(c)}}var Au=[],Ou=0,um=null,qd=0,so=[],ao=0,Ga=null,ss=1,as="";function ea(a,c){Au[Ou++]=qd,Au[Ou++]=um,um=a,qd=c}function Q_(a,c,d){so[ao++]=ss,so[ao++]=as,so[ao++]=Ga,Ga=a;var m=ss;a=as;var x=32-nt(m)-1;m&=~(1<<x),d+=1;var k=32-nt(c)+x;if(30<k){var L=x-x%5;k=(m&(1<<L)-1).toString(32),m>>=L,x-=L,ss=1<<32-nt(c)+x|d<<x|m,as=k+a}else ss=1<<k|d<<x|m,as=a}function T0(a){a.return!==null&&(ea(a,1),Q_(a,1,0))}function D0(a){for(;a===um;)um=Au[--Ou],Au[Ou]=null,qd=Au[--Ou],Au[Ou]=null;for(;a===Ga;)Ga=so[--ao],so[ao]=null,as=so[--ao],so[ao]=null,ss=so[--ao],so[ao]=null}function J_(a,c){so[ao++]=ss,so[ao++]=as,so[ao++]=Ga,ss=c.id,as=c.overflow,Ga=a}var $r=null,Ln=null,Jt=!1,Qa=null,lo=!1,R0=Error(r(519));function Ja(a){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kd(oo(c,a)),R0}function eC(a){var c=a.stateNode,d=a.type,m=a.memoizedProps;switch(c[Tn]=a,c[cr]=m,d){case"dialog":Yt("cancel",c),Yt("close",c);break;case"iframe":case"object":case"embed":Yt("load",c);break;case"video":case"audio":for(d=0;d<hh.length;d++)Yt(hh[d],c);break;case"source":Yt("error",c);break;case"img":case"image":case"link":Yt("error",c),Yt("load",c);break;case"details":Yt("toggle",c);break;case"input":Yt("invalid",c),xd(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Yt("invalid",c);break;case"textarea":Yt("invalid",c),Sd(c,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||m.suppressHydrationWarning===!0||vE(c.textContent,d)?(m.popover!=null&&(Yt("beforetoggle",c),Yt("toggle",c)),m.onScroll!=null&&Yt("scroll",c),m.onScrollEnd!=null&&Yt("scrollend",c),m.onClick!=null&&(c.onclick=Dr),c=!0):c=!1,c||Ja(a,!0)}function tC(a){for($r=a.return;$r;)switch($r.tag){case 5:case 31:case 13:lo=!1;return;case 27:case 3:lo=!0;return;default:$r=$r.return}}function Tu(a){if(a!==$r)return!1;if(!Jt)return tC(a),Jt=!0,!1;var c=a.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Zb(a.type,a.memoizedProps)),d=!d),d&&Ln&&Ja(a),tC(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ln=EE(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ln=EE(a)}else c===27?(c=Ln,hl(a.type)?(a=e1,e1=null,Ln=a):Ln=c):Ln=$r?uo(a.stateNode.nextSibling):null;return!0}function vc(){Ln=$r=null,Jt=!1}function M0(){var a=Qa;return a!==null&&(_i===null?_i=a:_i.push.apply(_i,a),Qa=null),a}function Kd(a){Qa===null?Qa=[a]:Qa.push(a)}var N0=$(null),yc=null,ta=null;function el(a,c,d){se(N0,c._currentValue),c._currentValue=d}function na(a){a._currentValue=N0.current,q(N0)}function j0(a,c,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),a===d)break;a=a.return}}function z0(a,c,d,m){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var k=x.dependencies;if(k!==null){var L=x.child;k=k.firstContext;e:for(;k!==null;){var W=k;k=x;for(var ce=0;ce<c.length;ce++)if(W.context===c[ce]){k.lanes|=d,W=k.alternate,W!==null&&(W.lanes|=d),j0(k.return,d,a),m||(L=null);break e}k=W.next}}else if(x.tag===18){if(L=x.return,L===null)throw Error(r(341));L.lanes|=d,k=L.alternate,k!==null&&(k.lanes|=d),j0(L,d,a),L=null}else L=x.child;if(L!==null)L.return=x;else for(L=x;L!==null;){if(L===a){L=null;break}if(x=L.sibling,x!==null){x.return=L.return,L=x;break}L=L.return}x=L}}function Du(a,c,d,m){a=null;for(var x=c,k=!1;x!==null;){if(!k){if((x.flags&524288)!==0)k=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var L=x.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var W=x.type;w(x.pendingProps.value,L.value)||(a!==null?a.push(W):a=[W])}}else if(x===We.current){if(L=x.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(yh):a=[yh])}x=x.return}a!==null&&z0(c,a,d,m),c.flags|=262144}function fm(a){for(a=a.firstContext;a!==null;){if(!w(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function bc(a){yc=a,ta=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Fr(a){return nC(yc,a)}function dm(a,c){return yc===null&&bc(a),nC(a,c)}function nC(a,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},ta===null){if(a===null)throw Error(r(308));ta=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else ta=ta.next=c;return d}var pj=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){c.aborted=!0,a.forEach(function(d){return d()})}},mj=t.unstable_scheduleCallback,gj=t.unstable_NormalPriority,br={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function P0(){return{controller:new pj,data:new Map,refCount:0}}function Vd(a){a.refCount--,a.refCount===0&&mj(gj,function(){a.controller.abort()})}var Wd=null,L0=0,Ru=0,Mu=null;function vj(a,c){if(Wd===null){var d=Wd=[];L0=0,Ru=$b(),Mu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return L0++,c.then(rC,rC),c}function rC(){if(--L0===0&&Wd!==null){Mu!==null&&(Mu.status="fulfilled");var a=Wd;Wd=null,Ru=0,Mu=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function yj(a,c){var d=[],m={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return a.then(function(){m.status="fulfilled",m.value=c;for(var x=0;x<d.length;x++)(0,d[x])(c)},function(x){for(m.status="rejected",m.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),m}var iC=V.S;V.S=function(a,c){Fk=ge(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&vj(a,c),iC!==null&&iC(a,c)};var wc=$(null);function B0(){var a=wc.current;return a!==null?a:kn.pooledCache}function hm(a,c){c===null?se(wc,wc.current):se(wc,c.pool)}function oC(){var a=B0();return a===null?null:{parent:br._currentValue,pool:a}}var Nu=Error(r(460)),I0=Error(r(474)),pm=Error(r(542)),mm={then:function(){}};function sC(a){return a=a.status,a==="fulfilled"||a==="rejected"}function aC(a,c,d){switch(d=a[d],d===void 0?a.push(c):d!==c&&(c.then(Dr,Dr),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,cC(a),a;default:if(typeof c.status=="string")c.then(Dr,Dr);else{if(a=kn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=c,a.status="pending",a.then(function(m){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=m}},function(m){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,cC(a),a}throw Sc=c,Nu}}function xc(a){try{var c=a._init;return c(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Sc=d,Nu):d}}var Sc=null;function lC(){if(Sc===null)throw Error(r(459));var a=Sc;return Sc=null,a}function cC(a){if(a===Nu||a===pm)throw Error(r(483))}var ju=null,Yd=0;function gm(a){var c=Yd;return Yd+=1,ju===null&&(ju=[]),aC(ju,a,c)}function Zd(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function vm(a,c){throw c.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(c),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function uC(a){function c(_e,he){if(a){var Te=_e.deletions;Te===null?(_e.deletions=[he],_e.flags|=16):Te.push(he)}}function d(_e,he){if(!a)return null;for(;he!==null;)c(_e,he),he=he.sibling;return null}function m(_e){for(var he=new Map;_e!==null;)_e.key!==null?he.set(_e.key,_e):he.set(_e.index,_e),_e=_e.sibling;return he}function x(_e,he){return _e=Js(_e,he),_e.index=0,_e.sibling=null,_e}function k(_e,he,Te){return _e.index=Te,a?(Te=_e.alternate,Te!==null?(Te=Te.index,Te<he?(_e.flags|=67108866,he):Te):(_e.flags|=67108866,he)):(_e.flags|=1048576,he)}function L(_e){return a&&_e.alternate===null&&(_e.flags|=67108866),_e}function W(_e,he,Te,Fe){return he===null||he.tag!==6?(he=A0(Te,_e.mode,Fe),he.return=_e,he):(he=x(he,Te),he.return=_e,he)}function ce(_e,he,Te,Fe){var kt=Te.type;return kt===y?$e(_e,he,Te.props.children,Fe,Te.key):he!==null&&(he.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===U&&xc(kt)===he.type)?(he=x(he,Te.props),Zd(he,Te),he.return=_e,he):(he=cm(Te.type,Te.key,Te.props,null,_e.mode,Fe),Zd(he,Te),he.return=_e,he)}function De(_e,he,Te,Fe){return he===null||he.tag!==4||he.stateNode.containerInfo!==Te.containerInfo||he.stateNode.implementation!==Te.implementation?(he=O0(Te,_e.mode,Fe),he.return=_e,he):(he=x(he,Te.children||[]),he.return=_e,he)}function $e(_e,he,Te,Fe,kt){return he===null||he.tag!==7?(he=gc(Te,_e.mode,Fe,kt),he.return=_e,he):(he=x(he,Te),he.return=_e,he)}function qe(_e,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=A0(""+he,_e.mode,Te),he.return=_e,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Te=cm(he.type,he.key,he.props,null,_e.mode,Te),Zd(Te,he),Te.return=_e,Te;case b:return he=O0(he,_e.mode,Te),he.return=_e,he;case U:return he=xc(he),qe(_e,he,Te)}if(J(he)||I(he))return he=gc(he,_e.mode,Te,null),he.return=_e,he;if(typeof he.then=="function")return qe(_e,gm(he),Te);if(he.$$typeof===O)return qe(_e,dm(_e,he),Te);vm(_e,he)}return null}function Re(_e,he,Te,Fe){var kt=he!==null?he.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return kt!==null?null:W(_e,he,""+Te,Fe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:return Te.key===kt?ce(_e,he,Te,Fe):null;case b:return Te.key===kt?De(_e,he,Te,Fe):null;case U:return Te=xc(Te),Re(_e,he,Te,Fe)}if(J(Te)||I(Te))return kt!==null?null:$e(_e,he,Te,Fe,null);if(typeof Te.then=="function")return Re(_e,he,gm(Te),Fe);if(Te.$$typeof===O)return Re(_e,he,dm(_e,Te),Fe);vm(_e,Te)}return null}function Le(_e,he,Te,Fe,kt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return _e=_e.get(Te)||null,W(he,_e,""+Fe,kt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case v:return _e=_e.get(Fe.key===null?Te:Fe.key)||null,ce(he,_e,Fe,kt);case b:return _e=_e.get(Fe.key===null?Te:Fe.key)||null,De(he,_e,Fe,kt);case U:return Fe=xc(Fe),Le(_e,he,Te,Fe,kt)}if(J(Fe)||I(Fe))return _e=_e.get(Te)||null,$e(he,_e,Fe,kt,null);if(typeof Fe.then=="function")return Le(_e,he,Te,gm(Fe),kt);if(Fe.$$typeof===O)return Le(_e,he,Te,dm(he,Fe),kt);vm(he,Fe)}return null}function wt(_e,he,Te,Fe){for(var kt=null,sn=null,xt=he,Ft=he=0,Gt=null;xt!==null&&Ft<Te.length;Ft++){xt.index>Ft?(Gt=xt,xt=null):Gt=xt.sibling;var an=Re(_e,xt,Te[Ft],Fe);if(an===null){xt===null&&(xt=Gt);break}a&&xt&&an.alternate===null&&c(_e,xt),he=k(an,he,Ft),sn===null?kt=an:sn.sibling=an,sn=an,xt=Gt}if(Ft===Te.length)return d(_e,xt),Jt&&ea(_e,Ft),kt;if(xt===null){for(;Ft<Te.length;Ft++)xt=qe(_e,Te[Ft],Fe),xt!==null&&(he=k(xt,he,Ft),sn===null?kt=xt:sn.sibling=xt,sn=xt);return Jt&&ea(_e,Ft),kt}for(xt=m(xt);Ft<Te.length;Ft++)Gt=Le(xt,_e,Ft,Te[Ft],Fe),Gt!==null&&(a&&Gt.alternate!==null&&xt.delete(Gt.key===null?Ft:Gt.key),he=k(Gt,he,Ft),sn===null?kt=Gt:sn.sibling=Gt,sn=Gt);return a&&xt.forEach(function(yl){return c(_e,yl)}),Jt&&ea(_e,Ft),kt}function At(_e,he,Te,Fe){if(Te==null)throw Error(r(151));for(var kt=null,sn=null,xt=he,Ft=he=0,Gt=null,an=Te.next();xt!==null&&!an.done;Ft++,an=Te.next()){xt.index>Ft?(Gt=xt,xt=null):Gt=xt.sibling;var yl=Re(_e,xt,an.value,Fe);if(yl===null){xt===null&&(xt=Gt);break}a&&xt&&yl.alternate===null&&c(_e,xt),he=k(yl,he,Ft),sn===null?kt=yl:sn.sibling=yl,sn=yl,xt=Gt}if(an.done)return d(_e,xt),Jt&&ea(_e,Ft),kt;if(xt===null){for(;!an.done;Ft++,an=Te.next())an=qe(_e,an.value,Fe),an!==null&&(he=k(an,he,Ft),sn===null?kt=an:sn.sibling=an,sn=an);return Jt&&ea(_e,Ft),kt}for(xt=m(xt);!an.done;Ft++,an=Te.next())an=Le(xt,_e,Ft,an.value,Fe),an!==null&&(a&&an.alternate!==null&&xt.delete(an.key===null?Ft:an.key),he=k(an,he,Ft),sn===null?kt=an:sn.sibling=an,sn=an);return a&&xt.forEach(function(Tz){return c(_e,Tz)}),Jt&&ea(_e,Ft),kt}function bn(_e,he,Te,Fe){if(typeof Te=="object"&&Te!==null&&Te.type===y&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:e:{for(var kt=Te.key;he!==null;){if(he.key===kt){if(kt=Te.type,kt===y){if(he.tag===7){d(_e,he.sibling),Fe=x(he,Te.props.children),Fe.return=_e,_e=Fe;break e}}else if(he.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===U&&xc(kt)===he.type){d(_e,he.sibling),Fe=x(he,Te.props),Zd(Fe,Te),Fe.return=_e,_e=Fe;break e}d(_e,he);break}else c(_e,he);he=he.sibling}Te.type===y?(Fe=gc(Te.props.children,_e.mode,Fe,Te.key),Fe.return=_e,_e=Fe):(Fe=cm(Te.type,Te.key,Te.props,null,_e.mode,Fe),Zd(Fe,Te),Fe.return=_e,_e=Fe)}return L(_e);case b:e:{for(kt=Te.key;he!==null;){if(he.key===kt)if(he.tag===4&&he.stateNode.containerInfo===Te.containerInfo&&he.stateNode.implementation===Te.implementation){d(_e,he.sibling),Fe=x(he,Te.children||[]),Fe.return=_e,_e=Fe;break e}else{d(_e,he);break}else c(_e,he);he=he.sibling}Fe=O0(Te,_e.mode,Fe),Fe.return=_e,_e=Fe}return L(_e);case U:return Te=xc(Te),bn(_e,he,Te,Fe)}if(J(Te))return wt(_e,he,Te,Fe);if(I(Te)){if(kt=I(Te),typeof kt!="function")throw Error(r(150));return Te=kt.call(Te),At(_e,he,Te,Fe)}if(typeof Te.then=="function")return bn(_e,he,gm(Te),Fe);if(Te.$$typeof===O)return bn(_e,he,dm(_e,Te),Fe);vm(_e,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,he!==null&&he.tag===6?(d(_e,he.sibling),Fe=x(he,Te),Fe.return=_e,_e=Fe):(d(_e,he),Fe=A0(Te,_e.mode,Fe),Fe.return=_e,_e=Fe),L(_e)):d(_e,he)}return function(_e,he,Te,Fe){try{Yd=0;var kt=bn(_e,he,Te,Fe);return ju=null,kt}catch(xt){if(xt===Nu||xt===pm)throw xt;var sn=Pi(29,xt,null,_e.mode);return sn.lanes=Fe,sn.return=_e,sn}finally{}}}var _c=uC(!0),fC=uC(!1),tl=!1;function $0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function F0(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function nl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function rl(a,c,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(cn&2)!==0){var x=m.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),m.pending=c,c=io(a),Mr(a,null,d),c}return fr(a,m,c,d),io(a)}function Xd(a,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var m=c.lanes;m&=a.pendingLanes,d|=m,c.lanes=d,_n(a,d)}}function U0(a,c){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,k=null;if(d=d.firstBaseUpdate,d!==null){do{var L={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};k===null?x=k=L:k=k.next=L,d=d.next}while(d!==null);k===null?x=k=c:k=k.next=c}else x=k=c;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:k,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=c}var H0=!1;function Gd(){if(H0){var a=Mu;if(a!==null)throw a}}function Qd(a,c,d,m){H0=!1;var x=a.updateQueue;tl=!1;var k=x.firstBaseUpdate,L=x.lastBaseUpdate,W=x.shared.pending;if(W!==null){x.shared.pending=null;var ce=W,De=ce.next;ce.next=null,L===null?k=De:L.next=De,L=ce;var $e=a.alternate;$e!==null&&($e=$e.updateQueue,W=$e.lastBaseUpdate,W!==L&&(W===null?$e.firstBaseUpdate=De:W.next=De,$e.lastBaseUpdate=ce))}if(k!==null){var qe=x.baseState;L=0,$e=De=ce=null,W=k;do{var Re=W.lane&-536870913,Le=Re!==W.lane;if(Le?(Xt&Re)===Re:(m&Re)===Re){Re!==0&&Re===Ru&&(H0=!0),$e!==null&&($e=$e.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var wt=a,At=W;Re=c;var bn=d;switch(At.tag){case 1:if(wt=At.payload,typeof wt=="function"){qe=wt.call(bn,qe,Re);break e}qe=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=At.payload,Re=typeof wt=="function"?wt.call(bn,qe,Re):wt,Re==null)break e;qe=p({},qe,Re);break e;case 2:tl=!0}}Re=W.callback,Re!==null&&(a.flags|=64,Le&&(a.flags|=8192),Le=x.callbacks,Le===null?x.callbacks=[Re]:Le.push(Re))}else Le={lane:Re,tag:W.tag,payload:W.payload,callback:W.callback,next:null},$e===null?(De=$e=Le,ce=qe):$e=$e.next=Le,L|=Re;if(W=W.next,W===null){if(W=x.shared.pending,W===null)break;Le=W,W=Le.next,Le.next=null,x.lastBaseUpdate=Le,x.shared.pending=null}}while(!0);$e===null&&(ce=qe),x.baseState=ce,x.firstBaseUpdate=De,x.lastBaseUpdate=$e,k===null&&(x.shared.lanes=0),ll|=L,a.lanes=L,a.memoizedState=qe}}function dC(a,c){if(typeof a!="function")throw Error(r(191,a));a.call(c)}function hC(a,c){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)dC(d[a],c)}var zu=$(null),ym=$(0);function pC(a,c){a=fa,se(ym,a),se(zu,c),fa=a|c.baseLanes}function q0(){se(ym,fa),se(zu,zu.current)}function K0(){fa=ym.current,q(zu),q(ym)}var Li=$(null),co=null;function il(a){var c=a.alternate;se(dr,dr.current&1),se(Li,a),co===null&&(c===null||zu.current!==null||c.memoizedState!==null)&&(co=a)}function V0(a){se(dr,dr.current),se(Li,a),co===null&&(co=a)}function mC(a){a.tag===22?(se(dr,dr.current),se(Li,a),co===null&&(co=a)):ol()}function ol(){se(dr,dr.current),se(Li,Li.current)}function Bi(a){q(Li),co===a&&(co=null),q(dr)}var dr=$(0);function bm(a){for(var c=a;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Qb(d)||Jb(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ra=0,It=null,vn=null,wr=null,wm=!1,Pu=!1,Cc=!1,xm=0,Jd=0,Lu=null,bj=0;function Qn(){throw Error(r(321))}function W0(a,c){if(c===null)return!1;for(var d=0;d<c.length&&d<a.length;d++)if(!w(a[d],c[d]))return!1;return!0}function Y0(a,c,d,m,x,k){return ra=k,It=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=a===null||a.memoizedState===null?QC:cb,Cc=!1,k=d(m,x),Cc=!1,Pu&&(k=vC(c,d,m,x)),gC(a),k}function gC(a){V.H=nh;var c=vn!==null&&vn.next!==null;if(ra=0,wr=vn=It=null,wm=!1,Jd=0,Lu=null,c)throw Error(r(300));a===null||xr||(a=a.dependencies,a!==null&&fm(a)&&(xr=!0))}function vC(a,c,d,m){It=a;var x=0;do{if(Pu&&(Lu=null),Jd=0,Pu=!1,25<=x)throw Error(r(301));if(x+=1,wr=vn=null,a.updateQueue!=null){var k=a.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}V.H=JC,k=c(d,m)}while(Pu);return k}function wj(){var a=V.H,c=a.useState()[0];return c=typeof c.then=="function"?eh(c):c,a=a.useState()[0],(vn!==null?vn.memoizedState:null)!==a&&(It.flags|=1024),c}function Z0(){var a=xm!==0;return xm=0,a}function X0(a,c,d){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~d}function G0(a){if(wm){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}wm=!1}ra=0,wr=vn=It=null,Pu=!1,Jd=xm=0,Lu=null}function pi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?It.memoizedState=wr=a:wr=wr.next=a,wr}function hr(){if(vn===null){var a=It.alternate;a=a!==null?a.memoizedState:null}else a=vn.next;var c=wr===null?It.memoizedState:wr.next;if(c!==null)wr=c,vn=a;else{if(a===null)throw It.alternate===null?Error(r(467)):Error(r(310));vn=a,a={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},wr===null?It.memoizedState=wr=a:wr=wr.next=a}return wr}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eh(a){var c=Jd;return Jd+=1,Lu===null&&(Lu=[]),a=aC(Lu,a,c),c=It,(wr===null?c.memoizedState:wr.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?QC:cb),a}function _m(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return eh(a);if(a.$$typeof===O)return Fr(a)}throw Error(r(438,String(a)))}function Q0(a){var c=null,d=It.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var m=It.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Sm(),It.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(a),m=0;m<a;m++)d[m]=Z;return c.index++,d}function ia(a,c){return typeof c=="function"?c(a):c}function Cm(a){var c=hr();return J0(c,vn,a)}function J0(a,c,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var x=a.baseQueue,k=m.pending;if(k!==null){if(x!==null){var L=x.next;x.next=k.next,k.next=L}c.baseQueue=x=k,m.pending=null}if(k=a.baseState,x===null)a.memoizedState=k;else{c=x.next;var W=L=null,ce=null,De=c,$e=!1;do{var qe=De.lane&-536870913;if(qe!==De.lane?(Xt&qe)===qe:(ra&qe)===qe){var Re=De.revertLane;if(Re===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),qe===Ru&&($e=!0);else if((ra&Re)===Re){De=De.next,Re===Ru&&($e=!0);continue}else qe={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ce===null?(W=ce=qe,L=k):ce=ce.next=qe,It.lanes|=Re,ll|=Re;qe=De.action,Cc&&d(k,qe),k=De.hasEagerState?De.eagerState:d(k,qe)}else Re={lane:qe,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ce===null?(W=ce=Re,L=k):ce=ce.next=Re,It.lanes|=qe,ll|=qe;De=De.next}while(De!==null&&De!==c);if(ce===null?L=k:ce.next=W,!w(k,a.memoizedState)&&(xr=!0,$e&&(d=Mu,d!==null)))throw d;a.memoizedState=k,a.baseState=L,a.baseQueue=ce,m.lastRenderedState=k}return x===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function eb(a){var c=hr(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,x=d.pending,k=c.memoizedState;if(x!==null){d.pending=null;var L=x=x.next;do k=a(k,L.action),L=L.next;while(L!==x);w(k,c.memoizedState)||(xr=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),d.lastRenderedState=k}return[k,m]}function yC(a,c,d){var m=It,x=hr(),k=Jt;if(k){if(d===void 0)throw Error(r(407));d=d()}else d=c();var L=!w((vn||x).memoizedState,d);if(L&&(x.memoizedState=d,xr=!0),x=x.queue,rb(xC.bind(null,m,x,a),[a]),x.getSnapshot!==c||L||wr!==null&&wr.memoizedState.tag&1){if(m.flags|=2048,Bu(9,{destroy:void 0},wC.bind(null,m,x,d,c),null),kn===null)throw Error(r(349));k||(ra&127)!==0||bC(m,c,d)}return d}function bC(a,c,d){a.flags|=16384,a={getSnapshot:c,value:d},c=It.updateQueue,c===null?(c=Sm(),It.updateQueue=c,c.stores=[a]):(d=c.stores,d===null?c.stores=[a]:d.push(a))}function wC(a,c,d,m){c.value=d,c.getSnapshot=m,SC(c)&&_C(a)}function xC(a,c,d){return d(function(){SC(c)&&_C(a)})}function SC(a){var c=a.getSnapshot;a=a.value;try{var d=c();return!w(a,d)}catch{return!0}}function _C(a){var c=ro(a,2);c!==null&&Ci(c,a,2)}function tb(a){var c=pi();if(typeof a=="function"){var d=a;if(a=d(),Cc){Ut(!0);try{d()}finally{Ut(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:a},c}function CC(a,c,d,m){return a.baseState=d,J0(a,vn,typeof m=="function"?m:ia)}function xj(a,c,d,m,x){if(Am(a))throw Error(r(485));if(a=c.action,a!==null){var k={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){k.listeners.push(L)}};V.T!==null?d(!0):k.isTransition=!1,m(k),d=c.pending,d===null?(k.next=c.pending=k,kC(c,k)):(k.next=d.next,c.pending=d.next=k)}}function kC(a,c){var d=c.action,m=c.payload,x=a.state;if(c.isTransition){var k=V.T,L={};V.T=L;try{var W=d(x,m),ce=V.S;ce!==null&&ce(L,W),EC(a,c,W)}catch(De){nb(a,c,De)}finally{k!==null&&L.types!==null&&(k.types=L.types),V.T=k}}else try{k=d(x,m),EC(a,c,k)}catch(De){nb(a,c,De)}}function EC(a,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){AC(a,c,m)},function(m){return nb(a,c,m)}):AC(a,c,d)}function AC(a,c,d){c.status="fulfilled",c.value=d,OC(c),a.state=d,c=a.pending,c!==null&&(d=c.next,d===c?a.pending=null:(d=d.next,c.next=d,kC(a,d)))}function nb(a,c,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=d,OC(c),c=c.next;while(c!==m)}a.action=null}function OC(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function TC(a,c){return c}function DC(a,c){if(Jt){var d=kn.formState;if(d!==null){e:{var m=It;if(Jt){if(Ln){t:{for(var x=Ln,k=lo;x.nodeType!==8;){if(!k){x=null;break t}if(x=uo(x.nextSibling),x===null){x=null;break t}}k=x.data,x=k==="F!"||k==="F"?x:null}if(x){Ln=uo(x.nextSibling),m=x.data==="F!";break e}}Ja(m)}m=!1}m&&(c=d[0])}}return d=pi(),d.memoizedState=d.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TC,lastRenderedState:c},d.queue=m,d=ZC.bind(null,It,m),m.dispatch=d,m=tb(!1),k=lb.bind(null,It,!1,m.queue),m=pi(),x={state:c,dispatch:null,action:a,pending:null},m.queue=x,d=xj.bind(null,It,x,k,d),x.dispatch=d,m.memoizedState=a,[c,d,!1]}function RC(a){var c=hr();return MC(c,vn,a)}function MC(a,c,d){if(c=J0(a,c,TC)[0],a=Cm(ia)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=eh(c)}catch(L){throw L===Nu?pm:L}else m=c;c=hr();var x=c.queue,k=x.dispatch;return d!==c.memoizedState&&(It.flags|=2048,Bu(9,{destroy:void 0},Sj.bind(null,x,d),null)),[m,k,a]}function Sj(a,c){a.action=c}function NC(a){var c=hr(),d=vn;if(d!==null)return MC(c,d,a);hr(),c=c.memoizedState,d=hr();var m=d.queue.dispatch;return d.memoizedState=a,[c,m,!1]}function Bu(a,c,d,m){return a={tag:a,create:d,deps:m,inst:c,next:null},c=It.updateQueue,c===null&&(c=Sm(),It.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,c.lastEffect=a),a}function jC(){return hr().memoizedState}function km(a,c,d,m){var x=pi();It.flags|=a,x.memoizedState=Bu(1|c,{destroy:void 0},d,m===void 0?null:m)}function Em(a,c,d,m){var x=hr();m=m===void 0?null:m;var k=x.memoizedState.inst;vn!==null&&m!==null&&W0(m,vn.memoizedState.deps)?x.memoizedState=Bu(c,k,d,m):(It.flags|=a,x.memoizedState=Bu(1|c,k,d,m))}function zC(a,c){km(8390656,8,a,c)}function rb(a,c){Em(2048,8,a,c)}function _j(a){It.flags|=4;var c=It.updateQueue;if(c===null)c=Sm(),It.updateQueue=c,c.events=[a];else{var d=c.events;d===null?c.events=[a]:d.push(a)}}function PC(a){var c=hr().memoizedState;return _j({ref:c,nextImpl:a}),function(){if((cn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function LC(a,c){return Em(4,2,a,c)}function BC(a,c){return Em(4,4,a,c)}function IC(a,c){if(typeof c=="function"){a=a();var d=c(a);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function $C(a,c,d){d=d!=null?d.concat([a]):null,Em(4,4,IC.bind(null,c,a),d)}function ib(){}function FC(a,c){var d=hr();c=c===void 0?null:c;var m=d.memoizedState;return c!==null&&W0(c,m[1])?m[0]:(d.memoizedState=[a,c],a)}function UC(a,c){var d=hr();c=c===void 0?null:c;var m=d.memoizedState;if(c!==null&&W0(c,m[1]))return m[0];if(m=a(),Cc){Ut(!0);try{a()}finally{Ut(!1)}}return d.memoizedState=[m,c],m}function ob(a,c,d){return d===void 0||(ra&1073741824)!==0&&(Xt&261930)===0?a.memoizedState=c:(a.memoizedState=d,a=Hk(),It.lanes|=a,ll|=a,d)}function HC(a,c,d,m){return w(d,c)?d:zu.current!==null?(a=ob(a,d,m),w(a,c)||(xr=!0),a):(ra&42)===0||(ra&1073741824)!==0&&(Xt&261930)===0?(xr=!0,a.memoizedState=d):(a=Hk(),It.lanes|=a,ll|=a,c)}function qC(a,c,d,m,x){var k=X.p;X.p=k!==0&&8>k?k:8;var L=V.T,W={};V.T=W,lb(a,!1,c,d);try{var ce=x(),De=V.S;if(De!==null&&De(W,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var $e=yj(ce,m);th(a,c,$e,Fi(a))}else th(a,c,m,Fi(a))}catch(qe){th(a,c,{then:function(){},status:"rejected",reason:qe},Fi())}finally{X.p=k,L!==null&&W.types!==null&&(L.types=W.types),V.T=L}}function Cj(){}function sb(a,c,d,m){if(a.tag!==5)throw Error(r(476));var x=KC(a).queue;qC(a,x,c,Q,d===null?Cj:function(){return VC(a),d(m)})}function KC(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:Q},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:d},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function VC(a){var c=KC(a);c.next===null&&(c=a.alternate.memoizedState),th(a,c.next.queue,{},Fi())}function ab(){return Fr(yh)}function WC(){return hr().memoizedState}function YC(){return hr().memoizedState}function kj(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var d=Fi();a=nl(d);var m=rl(c,a,d);m!==null&&(Ci(m,c,d),Xd(m,c,d)),c={cache:P0()},a.payload=c;return}c=c.return}}function Ej(a,c,d){var m=Fi();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Am(a)?XC(c,d):(d=yr(a,c,d,m),d!==null&&(Ci(d,a,m),GC(d,c,m)))}function ZC(a,c,d){var m=Fi();th(a,c,d,m)}function th(a,c,d,m){var x={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Am(a))XC(c,x);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var L=c.lastRenderedState,W=k(L,d);if(x.hasEagerState=!0,x.eagerState=W,w(W,L))return fr(a,c,x,0),kn===null&&Ot(),!1}catch{}finally{}if(d=yr(a,c,x,m),d!==null)return Ci(d,a,m),GC(d,c,m),!0}return!1}function lb(a,c,d,m){if(m={lane:2,revertLane:$b(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Am(a)){if(c)throw Error(r(479))}else c=yr(a,d,m,2),c!==null&&Ci(c,a,2)}function Am(a){var c=a.alternate;return a===It||c!==null&&c===It}function XC(a,c){Pu=wm=!0;var d=a.pending;d===null?c.next=c:(c.next=d.next,d.next=c),a.pending=c}function GC(a,c,d){if((d&4194048)!==0){var m=c.lanes;m&=a.pendingLanes,d|=m,c.lanes=d,_n(a,d)}}var nh={readContext:Fr,use:_m,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useInsertionEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useSyncExternalStore:Qn,useId:Qn,useHostTransitionStatus:Qn,useFormState:Qn,useActionState:Qn,useOptimistic:Qn,useMemoCache:Qn,useCacheRefresh:Qn};nh.useEffectEvent=Qn;var QC={readContext:Fr,use:_m,useCallback:function(a,c){return pi().memoizedState=[a,c===void 0?null:c],a},useContext:Fr,useEffect:zC,useImperativeHandle:function(a,c,d){d=d!=null?d.concat([a]):null,km(4194308,4,IC.bind(null,c,a),d)},useLayoutEffect:function(a,c){return km(4194308,4,a,c)},useInsertionEffect:function(a,c){km(4,2,a,c)},useMemo:function(a,c){var d=pi();c=c===void 0?null:c;var m=a();if(Cc){Ut(!0);try{a()}finally{Ut(!1)}}return d.memoizedState=[m,c],m},useReducer:function(a,c,d){var m=pi();if(d!==void 0){var x=d(c);if(Cc){Ut(!0);try{d(c)}finally{Ut(!1)}}}else x=c;return m.memoizedState=m.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},m.queue=a,a=a.dispatch=Ej.bind(null,It,a),[m.memoizedState,a]},useRef:function(a){var c=pi();return a={current:a},c.memoizedState=a},useState:function(a){a=tb(a);var c=a.queue,d=ZC.bind(null,It,c);return c.dispatch=d,[a.memoizedState,d]},useDebugValue:ib,useDeferredValue:function(a,c){var d=pi();return ob(d,a,c)},useTransition:function(){var a=tb(!1);return a=qC.bind(null,It,a.queue,!0,!1),pi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,d){var m=It,x=pi();if(Jt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),kn===null)throw Error(r(349));(Xt&127)!==0||bC(m,c,d)}x.memoizedState=d;var k={value:d,getSnapshot:c};return x.queue=k,zC(xC.bind(null,m,k,a),[a]),m.flags|=2048,Bu(9,{destroy:void 0},wC.bind(null,m,k,d,c),null),d},useId:function(){var a=pi(),c=kn.identifierPrefix;if(Jt){var d=as,m=ss;d=(m&~(1<<32-nt(m)-1)).toString(32)+d,c="_"+c+"R_"+d,d=xm++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=bj++,c="_"+c+"r_"+d.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:ab,useFormState:DC,useActionState:DC,useOptimistic:function(a){var c=pi();c.memoizedState=c.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=lb.bind(null,It,!0,d),d.dispatch=c,[a,c]},useMemoCache:Q0,useCacheRefresh:function(){return pi().memoizedState=kj.bind(null,It)},useEffectEvent:function(a){var c=pi(),d={impl:a};return c.memoizedState=d,function(){if((cn&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},cb={readContext:Fr,use:_m,useCallback:FC,useContext:Fr,useEffect:rb,useImperativeHandle:$C,useInsertionEffect:LC,useLayoutEffect:BC,useMemo:UC,useReducer:Cm,useRef:jC,useState:function(){return Cm(ia)},useDebugValue:ib,useDeferredValue:function(a,c){var d=hr();return HC(d,vn.memoizedState,a,c)},useTransition:function(){var a=Cm(ia)[0],c=hr().memoizedState;return[typeof a=="boolean"?a:eh(a),c]},useSyncExternalStore:yC,useId:WC,useHostTransitionStatus:ab,useFormState:RC,useActionState:RC,useOptimistic:function(a,c){var d=hr();return CC(d,vn,a,c)},useMemoCache:Q0,useCacheRefresh:YC};cb.useEffectEvent=PC;var JC={readContext:Fr,use:_m,useCallback:FC,useContext:Fr,useEffect:rb,useImperativeHandle:$C,useInsertionEffect:LC,useLayoutEffect:BC,useMemo:UC,useReducer:eb,useRef:jC,useState:function(){return eb(ia)},useDebugValue:ib,useDeferredValue:function(a,c){var d=hr();return vn===null?ob(d,a,c):HC(d,vn.memoizedState,a,c)},useTransition:function(){var a=eb(ia)[0],c=hr().memoizedState;return[typeof a=="boolean"?a:eh(a),c]},useSyncExternalStore:yC,useId:WC,useHostTransitionStatus:ab,useFormState:NC,useActionState:NC,useOptimistic:function(a,c){var d=hr();return vn!==null?CC(d,vn,a,c):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Q0,useCacheRefresh:YC};JC.useEffectEvent=PC;function ub(a,c,d,m){c=a.memoizedState,d=d(m,c),d=d==null?c:p({},c,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var fb={enqueueSetState:function(a,c,d){a=a._reactInternals;var m=Fi(),x=nl(m);x.payload=c,d!=null&&(x.callback=d),c=rl(a,x,m),c!==null&&(Ci(c,a,m),Xd(c,a,m))},enqueueReplaceState:function(a,c,d){a=a._reactInternals;var m=Fi(),x=nl(m);x.tag=1,x.payload=c,d!=null&&(x.callback=d),c=rl(a,x,m),c!==null&&(Ci(c,a,m),Xd(c,a,m))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var d=Fi(),m=nl(d);m.tag=2,c!=null&&(m.callback=c),c=rl(a,m,d),c!==null&&(Ci(c,a,d),Xd(c,a,d))}};function ek(a,c,d,m,x,k,L){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,k,L):c.prototype&&c.prototype.isPureReactComponent?!C(d,m)||!C(x,k):!0}function tk(a,c,d,m){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,m),c.state!==a&&fb.enqueueReplaceState(c,c.state,null)}function kc(a,c){var d=c;if("ref"in c){d={};for(var m in c)m!=="ref"&&(d[m]=c[m])}if(a=a.defaultProps){d===c&&(d=p({},d));for(var x in a)d[x]===void 0&&(d[x]=a[x])}return d}function nk(a){Rt(a)}function rk(a){console.error(a)}function ik(a){Rt(a)}function Om(a,c){try{var d=a.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function ok(a,c,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function db(a,c,d){return d=nl(d),d.tag=3,d.payload={element:null},d.callback=function(){Om(a,c)},d}function sk(a){return a=nl(a),a.tag=3,a}function ak(a,c,d,m){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var k=m.value;a.payload=function(){return x(k)},a.callback=function(){ok(c,d,m)}}var L=d.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(a.callback=function(){ok(c,d,m),typeof x!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var W=m.stack;this.componentDidCatch(m.value,{componentStack:W!==null?W:""})})}function Aj(a,c,d,m,x){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=d.alternate,c!==null&&Du(c,d,x,!0),d=Li.current,d!==null){switch(d.tag){case 31:case 13:return co===null?$m():d.alternate===null&&Jn===0&&(Jn=3),d.flags&=-257,d.flags|=65536,d.lanes=x,m===mm?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([m]):c.add(m),Lb(a,m,x)),!1;case 22:return d.flags|=65536,m===mm?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([m]):d.add(m)),Lb(a,m,x)),!1}throw Error(r(435,d.tag))}return Lb(a,m,x),$m(),!1}if(Jt)return c=Li.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,m!==R0&&(a=Error(r(422),{cause:m}),Kd(oo(a,d)))):(m!==R0&&(c=Error(r(423),{cause:m}),Kd(oo(c,d))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,m=oo(m,d),x=db(a.stateNode,m,x),U0(a,x),Jn!==4&&(Jn=2)),!1;var k=Error(r(520),{cause:m});if(k=oo(k,d),uh===null?uh=[k]:uh.push(k),Jn!==4&&(Jn=2),c===null)return!0;m=oo(m,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,a=x&-x,d.lanes|=a,a=db(d.stateNode,m,a),U0(d,a),!1;case 1:if(c=d.type,k=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(cl===null||!cl.has(k))))return d.flags|=65536,x&=-x,d.lanes|=x,x=sk(x),ak(x,a,d,m),U0(d,x),!1}d=d.return}while(d!==null);return!1}var hb=Error(r(461)),xr=!1;function Ur(a,c,d,m){c.child=a===null?fC(c,null,d,m):_c(c,a.child,d,m)}function lk(a,c,d,m,x){d=d.render;var k=c.ref;if("ref"in m){var L={};for(var W in m)W!=="ref"&&(L[W]=m[W])}else L=m;return bc(c),m=Y0(a,c,d,L,k,x),W=Z0(),a!==null&&!xr?(X0(a,c,x),oa(a,c,x)):(Jt&&W&&T0(c),c.flags|=1,Ur(a,c,m,x),c.child)}function ck(a,c,d,m,x){if(a===null){var k=d.type;return typeof k=="function"&&!E0(k)&&k.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=k,uk(a,c,k,m,x)):(a=cm(d.type,null,m,c,c.mode,x),a.ref=c.ref,a.return=c,c.child=a)}if(k=a.child,!xb(a,x)){var L=k.memoizedProps;if(d=d.compare,d=d!==null?d:C,d(L,m)&&a.ref===c.ref)return oa(a,c,x)}return c.flags|=1,a=Js(k,m),a.ref=c.ref,a.return=c,c.child=a}function uk(a,c,d,m,x){if(a!==null){var k=a.memoizedProps;if(C(k,m)&&a.ref===c.ref)if(xr=!1,c.pendingProps=m=k,xb(a,x))(a.flags&131072)!==0&&(xr=!0);else return c.lanes=a.lanes,oa(a,c,x)}return pb(a,c,d,m,x)}function fk(a,c,d,m){var x=m.children,k=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(k=k!==null?k.baseLanes|d:d,a!==null){for(m=c.child=a.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~k}else m=0,c.child=null;return dk(a,c,k,d,m)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&hm(c,k!==null?k.cachePool:null),k!==null?pC(c,k):q0(),mC(c);else return m=c.lanes=536870912,dk(a,c,k!==null?k.baseLanes|d:d,d,m)}else k!==null?(hm(c,k.cachePool),pC(c,k),ol(),c.memoizedState=null):(a!==null&&hm(c,null),q0(),ol());return Ur(a,c,x,d),c.child}function rh(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function dk(a,c,d,m,x){var k=B0();return k=k===null?null:{parent:br._currentValue,pool:k},c.memoizedState={baseLanes:d,cachePool:k},a!==null&&hm(c,null),q0(),mC(c),a!==null&&Du(a,c,m,!0),c.childLanes=x,null}function Tm(a,c){return c=Rm({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function hk(a,c,d){return _c(c,a.child,null,d),a=Tm(c,c.pendingProps),a.flags|=2,Bi(c),c.memoizedState=null,a}function Oj(a,c,d){var m=c.pendingProps,x=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(Jt){if(m.mode==="hidden")return a=Tm(c,m),c.lanes=536870912,rh(null,a);if(V0(c),(a=Ln)?(a=kE(a,lo),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Ga!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},d=X_(a),d.return=c,c.child=d,$r=c,Ln=null)):a=null,a===null)throw Ja(c);return c.lanes=536870912,null}return Tm(c,m)}var k=a.memoizedState;if(k!==null){var L=k.dehydrated;if(V0(c),x)if(c.flags&256)c.flags&=-257,c=hk(a,c,d);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(r(558));else if(xr||Du(a,c,d,!1),x=(d&a.childLanes)!==0,xr||x){if(m=kn,m!==null&&(L=lr(m,d),L!==0&&L!==k.retryLane))throw k.retryLane=L,ro(a,L),Ci(m,a,L),hb;$m(),c=hk(a,c,d)}else a=k.treeContext,Ln=uo(L.nextSibling),$r=c,Jt=!0,Qa=null,lo=!1,a!==null&&J_(c,a),c=Tm(c,m),c.flags|=4096;return c}return a=Js(a.child,{mode:m.mode,children:m.children}),a.ref=c.ref,c.child=a,a.return=c,a}function Dm(a,c){var d=c.ref;if(d===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(c.flags|=4194816)}}function pb(a,c,d,m,x){return bc(c),d=Y0(a,c,d,m,void 0,x),m=Z0(),a!==null&&!xr?(X0(a,c,x),oa(a,c,x)):(Jt&&m&&T0(c),c.flags|=1,Ur(a,c,d,x),c.child)}function pk(a,c,d,m,x,k){return bc(c),c.updateQueue=null,d=vC(c,m,d,x),gC(a),m=Z0(),a!==null&&!xr?(X0(a,c,k),oa(a,c,k)):(Jt&&m&&T0(c),c.flags|=1,Ur(a,c,d,k),c.child)}function mk(a,c,d,m,x){if(bc(c),c.stateNode===null){var k=os,L=d.contextType;typeof L=="object"&&L!==null&&(k=Fr(L)),k=new d(m,k),c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=fb,c.stateNode=k,k._reactInternals=c,k=c.stateNode,k.props=m,k.state=c.memoizedState,k.refs={},$0(c),L=d.contextType,k.context=typeof L=="object"&&L!==null?Fr(L):os,k.state=c.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(ub(c,d,L,m),k.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(L=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),L!==k.state&&fb.enqueueReplaceState(k,k.state,null),Qd(c,m,k,x),Gd(),k.state=c.memoizedState),typeof k.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(a===null){k=c.stateNode;var W=c.memoizedProps,ce=kc(d,W);k.props=ce;var De=k.context,$e=d.contextType;L=os,typeof $e=="object"&&$e!==null&&(L=Fr($e));var qe=d.getDerivedStateFromProps;$e=typeof qe=="function"||typeof k.getSnapshotBeforeUpdate=="function",W=c.pendingProps!==W,$e||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(W||De!==L)&&tk(c,k,m,L),tl=!1;var Re=c.memoizedState;k.state=Re,Qd(c,m,k,x),Gd(),De=c.memoizedState,W||Re!==De||tl?(typeof qe=="function"&&(ub(c,d,qe,m),De=c.memoizedState),(ce=tl||ek(c,d,ce,m,Re,De,L))?($e||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(c.flags|=4194308)):(typeof k.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=De),k.props=m,k.state=De,k.context=L,m=ce):(typeof k.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{k=c.stateNode,F0(a,c),L=c.memoizedProps,$e=kc(d,L),k.props=$e,qe=c.pendingProps,Re=k.context,De=d.contextType,ce=os,typeof De=="object"&&De!==null&&(ce=Fr(De)),W=d.getDerivedStateFromProps,(De=typeof W=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(L!==qe||Re!==ce)&&tk(c,k,m,ce),tl=!1,Re=c.memoizedState,k.state=Re,Qd(c,m,k,x),Gd();var Le=c.memoizedState;L!==qe||Re!==Le||tl||a!==null&&a.dependencies!==null&&fm(a.dependencies)?(typeof W=="function"&&(ub(c,d,W,m),Le=c.memoizedState),($e=tl||ek(c,d,$e,m,Re,Le,ce)||a!==null&&a.dependencies!==null&&fm(a.dependencies))?(De||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,Le,ce),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,Le,ce)),typeof k.componentDidUpdate=="function"&&(c.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof k.componentDidUpdate!="function"||L===a.memoizedProps&&Re===a.memoizedState||(c.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&Re===a.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=Le),k.props=m,k.state=Le,k.context=ce,m=$e):(typeof k.componentDidUpdate!="function"||L===a.memoizedProps&&Re===a.memoizedState||(c.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&Re===a.memoizedState||(c.flags|=1024),m=!1)}return k=m,Dm(a,c),m=(c.flags&128)!==0,k||m?(k=c.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:k.render(),c.flags|=1,a!==null&&m?(c.child=_c(c,a.child,null,x),c.child=_c(c,null,d,x)):Ur(a,c,d,x),c.memoizedState=k.state,a=c.child):a=oa(a,c,x),a}function gk(a,c,d,m){return vc(),c.flags|=256,Ur(a,c,d,m),c.child}var mb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gb(a){return{baseLanes:a,cachePool:oC()}}function vb(a,c,d){return a=a!==null?a.childLanes&~d:0,c&&(a|=$i),a}function vk(a,c,d){var m=c.pendingProps,x=!1,k=(c.flags&128)!==0,L;if((L=k)||(L=a!==null&&a.memoizedState===null?!1:(dr.current&2)!==0),L&&(x=!0,c.flags&=-129),L=(c.flags&32)!==0,c.flags&=-33,a===null){if(Jt){if(x?il(c):ol(),(a=Ln)?(a=kE(a,lo),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Ga!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},d=X_(a),d.return=c,c.child=d,$r=c,Ln=null)):a=null,a===null)throw Ja(c);return Jb(a)?c.lanes=32:c.lanes=536870912,null}var W=m.children;return m=m.fallback,x?(ol(),x=c.mode,W=Rm({mode:"hidden",children:W},x),m=gc(m,x,d,null),W.return=c,m.return=c,W.sibling=m,c.child=W,m=c.child,m.memoizedState=gb(d),m.childLanes=vb(a,L,d),c.memoizedState=mb,rh(null,m)):(il(c),yb(c,W))}var ce=a.memoizedState;if(ce!==null&&(W=ce.dehydrated,W!==null)){if(k)c.flags&256?(il(c),c.flags&=-257,c=bb(a,c,d)):c.memoizedState!==null?(ol(),c.child=a.child,c.flags|=128,c=null):(ol(),W=m.fallback,x=c.mode,m=Rm({mode:"visible",children:m.children},x),W=gc(W,x,d,null),W.flags|=2,m.return=c,W.return=c,m.sibling=W,c.child=m,_c(c,a.child,null,d),m=c.child,m.memoizedState=gb(d),m.childLanes=vb(a,L,d),c.memoizedState=mb,c=rh(null,m));else if(il(c),Jb(W)){if(L=W.nextSibling&&W.nextSibling.dataset,L)var De=L.dgst;L=De,m=Error(r(419)),m.stack="",m.digest=L,Kd({value:m,source:null,stack:null}),c=bb(a,c,d)}else if(xr||Du(a,c,d,!1),L=(d&a.childLanes)!==0,xr||L){if(L=kn,L!==null&&(m=lr(L,d),m!==0&&m!==ce.retryLane))throw ce.retryLane=m,ro(a,m),Ci(L,a,m),hb;Qb(W)||$m(),c=bb(a,c,d)}else Qb(W)?(c.flags|=192,c.child=a.child,c=null):(a=ce.treeContext,Ln=uo(W.nextSibling),$r=c,Jt=!0,Qa=null,lo=!1,a!==null&&J_(c,a),c=yb(c,m.children),c.flags|=4096);return c}return x?(ol(),W=m.fallback,x=c.mode,ce=a.child,De=ce.sibling,m=Js(ce,{mode:"hidden",children:m.children}),m.subtreeFlags=ce.subtreeFlags&65011712,De!==null?W=Js(De,W):(W=gc(W,x,d,null),W.flags|=2),W.return=c,m.return=c,m.sibling=W,c.child=m,rh(null,m),m=c.child,W=a.child.memoizedState,W===null?W=gb(d):(x=W.cachePool,x!==null?(ce=br._currentValue,x=x.parent!==ce?{parent:ce,pool:ce}:x):x=oC(),W={baseLanes:W.baseLanes|d,cachePool:x}),m.memoizedState=W,m.childLanes=vb(a,L,d),c.memoizedState=mb,rh(a.child,m)):(il(c),d=a.child,a=d.sibling,d=Js(d,{mode:"visible",children:m.children}),d.return=c,d.sibling=null,a!==null&&(L=c.deletions,L===null?(c.deletions=[a],c.flags|=16):L.push(a)),c.child=d,c.memoizedState=null,d)}function yb(a,c){return c=Rm({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Rm(a,c){return a=Pi(22,a,null,c),a.lanes=0,a}function bb(a,c,d){return _c(c,a.child,null,d),a=yb(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function yk(a,c,d){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c),j0(a.return,c,d)}function wb(a,c,d,m,x,k){var L=a.memoizedState;L===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x,treeForkCount:k}:(L.isBackwards=c,L.rendering=null,L.renderingStartTime=0,L.last=m,L.tail=d,L.tailMode=x,L.treeForkCount=k)}function bk(a,c,d){var m=c.pendingProps,x=m.revealOrder,k=m.tail;m=m.children;var L=dr.current,W=(L&2)!==0;if(W?(L=L&1|2,c.flags|=128):L&=1,se(dr,L),Ur(a,c,m,d),m=Jt?qd:0,!W&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yk(a,d,c);else if(a.tag===19)yk(a,d,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(x){case"forwards":for(d=c.child,x=null;d!==null;)a=d.alternate,a!==null&&bm(a)===null&&(x=d),d=d.sibling;d=x,d===null?(x=c.child,c.child=null):(x=d.sibling,d.sibling=null),wb(c,!1,x,d,k,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=c.child,c.child=null;x!==null;){if(a=x.alternate,a!==null&&bm(a)===null){c.child=x;break}a=x.sibling,x.sibling=d,d=x,x=a}wb(c,!0,d,null,k,m);break;case"together":wb(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function oa(a,c,d){if(a!==null&&(c.dependencies=a.dependencies),ll|=c.lanes,(d&c.childLanes)===0)if(a!==null){if(Du(a,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(r(153));if(c.child!==null){for(a=c.child,d=Js(a,a.pendingProps),c.child=d,d.return=c;a.sibling!==null;)a=a.sibling,d=d.sibling=Js(a,a.pendingProps),d.return=c;d.sibling=null}return c.child}function xb(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&fm(a)))}function Tj(a,c,d){switch(c.tag){case 3:Xe(c,c.stateNode.containerInfo),el(c,br,a.memoizedState.cache),vc();break;case 27:case 5:ht(c);break;case 4:Xe(c,c.stateNode.containerInfo);break;case 10:el(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,V0(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(il(c),c.flags|=128,null):(d&c.child.childLanes)!==0?vk(a,c,d):(il(c),a=oa(a,c,d),a!==null?a.sibling:null);il(c);break;case 19:var x=(a.flags&128)!==0;if(m=(d&c.childLanes)!==0,m||(Du(a,c,d,!1),m=(d&c.childLanes)!==0),x){if(m)return bk(a,c,d);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),se(dr,dr.current),m)break;return null;case 22:return c.lanes=0,fk(a,c,d,c.pendingProps);case 24:el(c,br,a.memoizedState.cache)}return oa(a,c,d)}function wk(a,c,d){if(a!==null)if(a.memoizedProps!==c.pendingProps)xr=!0;else{if(!xb(a,d)&&(c.flags&128)===0)return xr=!1,Tj(a,c,d);xr=(a.flags&131072)!==0}else xr=!1,Jt&&(c.flags&1048576)!==0&&Q_(c,qd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(a=xc(c.elementType),c.type=a,typeof a=="function")E0(a)?(m=kc(a,m),c.tag=1,c=mk(null,c,a,m,d)):(c.tag=0,c=pb(null,c,a,m,d));else{if(a!=null){var x=a.$$typeof;if(x===T){c.tag=11,c=lk(null,c,a,m,d);break e}else if(x===j){c.tag=14,c=ck(null,c,a,m,d);break e}}throw c=M(a)||a,Error(r(306,c,""))}}return c;case 0:return pb(a,c,c.type,c.pendingProps,d);case 1:return m=c.type,x=kc(m,c.pendingProps),mk(a,c,m,x,d);case 3:e:{if(Xe(c,c.stateNode.containerInfo),a===null)throw Error(r(387));m=c.pendingProps;var k=c.memoizedState;x=k.element,F0(a,c),Qd(c,m,null,d);var L=c.memoizedState;if(m=L.cache,el(c,br,m),m!==k.cache&&z0(c,[br],d,!0),Gd(),m=L.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:L.cache},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){c=gk(a,c,m,d);break e}else if(m!==x){x=oo(Error(r(424)),c),Kd(x),c=gk(a,c,m,d);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ln=uo(a.firstChild),$r=c,Jt=!0,Qa=null,lo=!0,d=fC(c,null,m,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(vc(),m===x){c=oa(a,c,d);break e}Ur(a,c,m,d)}c=c.child}return c;case 26:return Dm(a,c),a===null?(d=RE(c.type,null,c.pendingProps,null))?c.memoizedState=d:Jt||(d=c.type,a=c.pendingProps,m=Wm(je.current).createElement(d),m[Tn]=c,m[cr]=a,Hr(m,d,a),ur(m),c.stateNode=m):c.memoizedState=RE(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return ht(c),a===null&&Jt&&(m=c.stateNode=OE(c.type,c.pendingProps,je.current),$r=c,lo=!0,x=Ln,hl(c.type)?(e1=x,Ln=uo(m.firstChild)):Ln=x),Ur(a,c,c.pendingProps.children,d),Dm(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Jt&&((x=m=Ln)&&(m=oz(m,c.type,c.pendingProps,lo),m!==null?(c.stateNode=m,$r=c,Ln=uo(m.firstChild),lo=!1,x=!0):x=!1),x||Ja(c)),ht(c),x=c.type,k=c.pendingProps,L=a!==null?a.memoizedProps:null,m=k.children,Zb(x,k)?m=null:L!==null&&Zb(x,L)&&(c.flags|=32),c.memoizedState!==null&&(x=Y0(a,c,wj,null,null,d),yh._currentValue=x),Dm(a,c),Ur(a,c,m,d),c.child;case 6:return a===null&&Jt&&((a=d=Ln)&&(d=sz(d,c.pendingProps,lo),d!==null?(c.stateNode=d,$r=c,Ln=null,a=!0):a=!1),a||Ja(c)),null;case 13:return vk(a,c,d);case 4:return Xe(c,c.stateNode.containerInfo),m=c.pendingProps,a===null?c.child=_c(c,null,m,d):Ur(a,c,m,d),c.child;case 11:return lk(a,c,c.type,c.pendingProps,d);case 7:return Ur(a,c,c.pendingProps,d),c.child;case 8:return Ur(a,c,c.pendingProps.children,d),c.child;case 12:return Ur(a,c,c.pendingProps.children,d),c.child;case 10:return m=c.pendingProps,el(c,c.type,m.value),Ur(a,c,m.children,d),c.child;case 9:return x=c.type._context,m=c.pendingProps.children,bc(c),x=Fr(x),m=m(x),c.flags|=1,Ur(a,c,m,d),c.child;case 14:return ck(a,c,c.type,c.pendingProps,d);case 15:return uk(a,c,c.type,c.pendingProps,d);case 19:return bk(a,c,d);case 31:return Oj(a,c,d);case 22:return fk(a,c,d,c.pendingProps);case 24:return bc(c),m=Fr(br),a===null?(x=B0(),x===null&&(x=kn,k=P0(),x.pooledCache=k,k.refCount++,k!==null&&(x.pooledCacheLanes|=d),x=k),c.memoizedState={parent:m,cache:x},$0(c),el(c,br,x)):((a.lanes&d)!==0&&(F0(a,c),Qd(c,null,null,d),Gd()),x=a.memoizedState,k=c.memoizedState,x.parent!==m?(x={parent:m,cache:m},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),el(c,br,m)):(m=k.cache,el(c,br,m),m!==x.cache&&z0(c,[br],d,!0))),Ur(a,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function sa(a){a.flags|=4}function Sb(a,c,d,m,x){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(x&335544128)===x)if(a.stateNode.complete)a.flags|=8192;else if(Wk())a.flags|=8192;else throw Sc=mm,I0}else a.flags&=-16777217}function xk(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!PE(c))if(Wk())a.flags|=8192;else throw Sc=mm,I0}function Mm(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Xp():536870912,a.lanes|=c,Uu|=c)}function ih(a,c){if(!Jt)switch(a.tailMode){case"hidden":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Bn(a){var c=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(c)for(var x=a.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=m,a.childLanes=d,c}function Dj(a,c,d){var m=c.pendingProps;switch(D0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(c),null;case 1:return Bn(c),null;case 3:return d=c.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),na(br),Ae(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Tu(c)?sa(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,M0())),Bn(c),null;case 26:var x=c.type,k=c.memoizedState;return a===null?(sa(c),k!==null?(Bn(c),xk(c,k)):(Bn(c),Sb(c,x,null,m,d))):k?k!==a.memoizedState?(sa(c),Bn(c),xk(c,k)):(Bn(c),c.flags&=-16777217):(a=a.memoizedProps,a!==m&&sa(c),Bn(c),Sb(c,x,a,m,d)),null;case 27:if(Ye(c),d=je.current,x=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==m&&sa(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Bn(c),null}a=le.current,Tu(c)?eC(c):(a=OE(x,m,d),c.stateNode=a,sa(c))}return Bn(c),null;case 5:if(Ye(c),x=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==m&&sa(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Bn(c),null}if(k=le.current,Tu(c))eC(c);else{var L=Wm(je.current);switch(k){case 1:k=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:k=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":k=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":k=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":k=L.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof m.is=="string"?L.createElement("select",{is:m.is}):L.createElement("select"),m.multiple?k.multiple=!0:m.size&&(k.size=m.size);break;default:k=typeof m.is=="string"?L.createElement(x,{is:m.is}):L.createElement(x)}}k[Tn]=c,k[cr]=m;e:for(L=c.child;L!==null;){if(L.tag===5||L.tag===6)k.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===c)break e;for(;L.sibling===null;){if(L.return===null||L.return===c)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}c.stateNode=k;e:switch(Hr(k,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&sa(c)}}return Bn(c),Sb(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,d),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==m&&sa(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(a=je.current,Tu(c)){if(a=c.stateNode,d=c.memoizedProps,m=null,x=$r,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}a[Tn]=c,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||vE(a.nodeValue,d)),a||Ja(c,!0)}else a=Wm(a).createTextNode(m),a[Tn]=c,c.stateNode=a}return Bn(c),null;case 31:if(d=c.memoizedState,a===null||a.memoizedState!==null){if(m=Tu(c),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Tn]=c}else vc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bn(c),a=!1}else d=M0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return c.flags&256?(Bi(c),c):(Bi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Bn(c),null;case 13:if(m=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=Tu(c),m!==null&&m.dehydrated!==null){if(a===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Tn]=c}else vc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bn(c),x=!1}else x=M0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(Bi(c),c):(Bi(c),null)}return Bi(c),(c.flags&128)!==0?(c.lanes=d,c):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=c.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),k=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(k=m.memoizedState.cachePool.pool),k!==x&&(m.flags|=2048)),d!==a&&d&&(c.child.flags|=8192),Mm(c,c.updateQueue),Bn(c),null);case 4:return Ae(),a===null&&qb(c.stateNode.containerInfo),Bn(c),null;case 10:return na(c.type),Bn(c),null;case 19:if(q(dr),m=c.memoizedState,m===null)return Bn(c),null;if(x=(c.flags&128)!==0,k=m.rendering,k===null)if(x)ih(m,!1);else{if(Jn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(k=bm(a),k!==null){for(c.flags|=128,ih(m,!1),a=k.updateQueue,c.updateQueue=a,Mm(c,a),c.subtreeFlags=0,a=d,d=c.child;d!==null;)Z_(d,a),d=d.sibling;return se(dr,dr.current&1|2),Jt&&ea(c,m.treeForkCount),c.child}a=a.sibling}m.tail!==null&&ge()>Lm&&(c.flags|=128,x=!0,ih(m,!1),c.lanes=4194304)}else{if(!x)if(a=bm(k),a!==null){if(c.flags|=128,x=!0,a=a.updateQueue,c.updateQueue=a,Mm(c,a),ih(m,!0),m.tail===null&&m.tailMode==="hidden"&&!k.alternate&&!Jt)return Bn(c),null}else 2*ge()-m.renderingStartTime>Lm&&d!==536870912&&(c.flags|=128,x=!0,ih(m,!1),c.lanes=4194304);m.isBackwards?(k.sibling=c.child,c.child=k):(a=m.last,a!==null?a.sibling=k:c.child=k,m.last=k)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ge(),a.sibling=null,d=dr.current,se(dr,x?d&1|2:d&1),Jt&&ea(c,m.treeForkCount),a):(Bn(c),null);case 22:case 23:return Bi(c),K0(),m=c.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(d&536870912)!==0&&(c.flags&128)===0&&(Bn(c),c.subtreeFlags&6&&(c.flags|=8192)):Bn(c),d=c.updateQueue,d!==null&&Mm(c,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048),a!==null&&q(wc),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),na(br),Bn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function Rj(a,c){switch(D0(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return na(br),Ae(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Ye(c),null;case 31:if(c.memoizedState!==null){if(Bi(c),c.alternate===null)throw Error(r(340));vc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(Bi(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(r(340));vc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return q(dr),null;case 4:return Ae(),null;case 10:return na(c.type),null;case 22:case 23:return Bi(c),K0(),a!==null&&q(wc),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return na(br),null;case 25:return null;default:return null}}function Sk(a,c){switch(D0(c),c.tag){case 3:na(br),Ae();break;case 26:case 27:case 5:Ye(c);break;case 4:Ae();break;case 31:c.memoizedState!==null&&Bi(c);break;case 13:Bi(c);break;case 19:q(dr);break;case 10:na(c.type);break;case 22:case 23:Bi(c),K0(),a!==null&&q(wc);break;case 24:na(br)}}function oh(a,c){try{var d=c.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&a)===a){m=void 0;var k=d.create,L=d.inst;m=k(),L.destroy=m}d=d.next}while(d!==x)}}catch(W){pn(c,c.return,W)}}function sl(a,c,d){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var k=x.next;m=k;do{if((m.tag&a)===a){var L=m.inst,W=L.destroy;if(W!==void 0){L.destroy=void 0,x=c;var ce=d,De=W;try{De()}catch($e){pn(x,ce,$e)}}}m=m.next}while(m!==k)}}catch($e){pn(c,c.return,$e)}}function _k(a){var c=a.updateQueue;if(c!==null){var d=a.stateNode;try{hC(c,d)}catch(m){pn(a,a.return,m)}}}function Ck(a,c,d){d.props=kc(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){pn(a,c,m)}}function sh(a,c){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(x){pn(a,c,x)}}function ls(a,c){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(x){pn(a,c,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){pn(a,c,x)}else d.current=null}function kk(a){var c=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(x){pn(a,a.return,x)}}function _b(a,c,d){try{var m=a.stateNode;Jj(m,a.type,d,c),m[cr]=c}catch(x){pn(a,a.return,x)}}function Ek(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&hl(a.type)||a.tag===4}function Cb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ek(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&hl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function kb(a,c,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(a),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Dr));else if(m!==4&&(m===27&&hl(a.type)&&(d=a.stateNode,c=null),a=a.child,a!==null))for(kb(a,c,d),a=a.sibling;a!==null;)kb(a,c,d),a=a.sibling}function Nm(a,c,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?d.insertBefore(a,c):d.appendChild(a);else if(m!==4&&(m===27&&hl(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Nm(a,c,d),a=a.sibling;a!==null;)Nm(a,c,d),a=a.sibling}function Ak(a){var c=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);Hr(c,m,d),c[Tn]=a,c[cr]=d}catch(k){pn(a,a.return,k)}}var aa=!1,Sr=!1,Eb=!1,Ok=typeof WeakSet=="function"?WeakSet:Set,Nr=null;function Mj(a,c){if(a=a.containerInfo,Wb=eg,a=K(a),re(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{d.nodeType,k.nodeType}catch{d=null;break e}var L=0,W=-1,ce=-1,De=0,$e=0,qe=a,Re=null;t:for(;;){for(var Le;qe!==d||x!==0&&qe.nodeType!==3||(W=L+x),qe!==k||m!==0&&qe.nodeType!==3||(ce=L+m),qe.nodeType===3&&(L+=qe.nodeValue.length),(Le=qe.firstChild)!==null;)Re=qe,qe=Le;for(;;){if(qe===a)break t;if(Re===d&&++De===x&&(W=L),Re===k&&++$e===m&&(ce=L),(Le=qe.nextSibling)!==null)break;qe=Re,Re=qe.parentNode}qe=Le}d=W===-1||ce===-1?null:{start:W,end:ce}}else d=null}d=d||{start:0,end:0}}else d=null;for(Yb={focusedElem:a,selectionRange:d},eg=!1,Nr=c;Nr!==null;)if(c=Nr,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Nr=a;else for(;Nr!==null;){switch(c=Nr,k=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)x=a[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&k!==null){a=void 0,d=c,x=k.memoizedProps,k=k.memoizedState,m=d.stateNode;try{var wt=kc(d.type,x);a=m.getSnapshotBeforeUpdate(wt,k),m.__reactInternalSnapshotBeforeUpdate=a}catch(At){pn(d,d.return,At)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,d=a.nodeType,d===9)Gb(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Gb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=c.sibling,a!==null){a.return=c.return,Nr=a;break}Nr=c.return}}function Tk(a,c,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:ca(a,d),m&4&&oh(5,d);break;case 1:if(ca(a,d),m&4)if(a=d.stateNode,c===null)try{a.componentDidMount()}catch(L){pn(d,d.return,L)}else{var x=kc(d.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(x,c,a.__reactInternalSnapshotBeforeUpdate)}catch(L){pn(d,d.return,L)}}m&64&&_k(d),m&512&&sh(d,d.return);break;case 3:if(ca(a,d),m&64&&(a=d.updateQueue,a!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{hC(a,c)}catch(L){pn(d,d.return,L)}}break;case 27:c===null&&m&4&&Ak(d);case 26:case 5:ca(a,d),c===null&&m&4&&kk(d),m&512&&sh(d,d.return);break;case 12:ca(a,d);break;case 31:ca(a,d),m&4&&Mk(a,d);break;case 13:ca(a,d),m&4&&Nk(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=Fj.bind(null,d),az(a,d))));break;case 22:if(m=d.memoizedState!==null||aa,!m){c=c!==null&&c.memoizedState!==null||Sr,x=aa;var k=Sr;aa=m,(Sr=c)&&!k?ua(a,d,(d.subtreeFlags&8772)!==0):ca(a,d),aa=x,Sr=k}break;case 30:break;default:ca(a,d)}}function Dk(a){var c=a.alternate;c!==null&&(a.alternate=null,Dk(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&du(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Hn=null,wi=!1;function la(a,c,d){for(d=d.child;d!==null;)Rk(a,c,d),d=d.sibling}function Rk(a,c,d){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(St,d)}catch{}switch(d.tag){case 26:Sr||ls(d,c),la(a,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Sr||ls(d,c);var m=Hn,x=wi;hl(d.type)&&(Hn=d.stateNode,wi=!1),la(a,c,d),mh(d.stateNode),Hn=m,wi=x;break;case 5:Sr||ls(d,c);case 6:if(m=Hn,x=wi,Hn=null,la(a,c,d),Hn=m,wi=x,Hn!==null)if(wi)try{(Hn.nodeType===9?Hn.body:Hn.nodeName==="HTML"?Hn.ownerDocument.body:Hn).removeChild(d.stateNode)}catch(k){pn(d,c,k)}else try{Hn.removeChild(d.stateNode)}catch(k){pn(d,c,k)}break;case 18:Hn!==null&&(wi?(a=Hn,_E(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Xu(a)):_E(Hn,d.stateNode));break;case 4:m=Hn,x=wi,Hn=d.stateNode.containerInfo,wi=!0,la(a,c,d),Hn=m,wi=x;break;case 0:case 11:case 14:case 15:sl(2,d,c),Sr||sl(4,d,c),la(a,c,d);break;case 1:Sr||(ls(d,c),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Ck(d,c,m)),la(a,c,d);break;case 21:la(a,c,d);break;case 22:Sr=(m=Sr)||d.memoizedState!==null,la(a,c,d),Sr=m;break;default:la(a,c,d)}}function Mk(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Xu(a)}catch(d){pn(c,c.return,d)}}}function Nk(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Xu(a)}catch(d){pn(c,c.return,d)}}function Nj(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new Ok),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new Ok),c;default:throw Error(r(435,a.tag))}}function jm(a,c){var d=Nj(a);c.forEach(function(m){if(!d.has(m)){d.add(m);var x=Uj.bind(null,a,m);m.then(x,x)}})}function xi(a,c){var d=c.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m],k=a,L=c,W=L;e:for(;W!==null;){switch(W.tag){case 27:if(hl(W.type)){Hn=W.stateNode,wi=!1;break e}break;case 5:Hn=W.stateNode,wi=!1;break e;case 3:case 4:Hn=W.stateNode.containerInfo,wi=!0;break e}W=W.return}if(Hn===null)throw Error(r(160));Rk(k,L,x),Hn=null,wi=!1,k=x.alternate,k!==null&&(k.return=null),x.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)jk(c,a),c=c.sibling}var Ro=null;function jk(a,c){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:xi(c,a),Si(a),m&4&&(sl(3,a,a.return),oh(3,a),sl(5,a,a.return));break;case 1:xi(c,a),Si(a),m&512&&(Sr||d===null||ls(d,d.return)),m&64&&aa&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var x=Ro;if(xi(c,a),Si(a),m&512&&(Sr||d===null||ls(d,d.return)),m&4){var k=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":k=x.getElementsByTagName("title")[0],(!k||k[ji]||k[Tn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=x.createElement(m),x.head.insertBefore(k,x.querySelector("head > title"))),Hr(k,m,d),k[Tn]=a,ur(k),m=k;break e;case"link":var L=jE("link","href",x).get(m+(d.href||""));if(L){for(var W=0;W<L.length;W++)if(k=L[W],k.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&k.getAttribute("rel")===(d.rel==null?null:d.rel)&&k.getAttribute("title")===(d.title==null?null:d.title)&&k.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){L.splice(W,1);break t}}k=x.createElement(m),Hr(k,m,d),x.head.appendChild(k);break;case"meta":if(L=jE("meta","content",x).get(m+(d.content||""))){for(W=0;W<L.length;W++)if(k=L[W],k.getAttribute("content")===(d.content==null?null:""+d.content)&&k.getAttribute("name")===(d.name==null?null:d.name)&&k.getAttribute("property")===(d.property==null?null:d.property)&&k.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&k.getAttribute("charset")===(d.charSet==null?null:d.charSet)){L.splice(W,1);break t}}k=x.createElement(m),Hr(k,m,d),x.head.appendChild(k);break;default:throw Error(r(468,m))}k[Tn]=a,ur(k),m=k}a.stateNode=m}else zE(x,a.type,a.stateNode);else a.stateNode=NE(x,m,a.memoizedProps);else k!==m?(k===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):k.count--,m===null?zE(x,a.type,a.stateNode):NE(x,m,a.memoizedProps)):m===null&&a.stateNode!==null&&_b(a,a.memoizedProps,d.memoizedProps)}break;case 27:xi(c,a),Si(a),m&512&&(Sr||d===null||ls(d,d.return)),d!==null&&m&4&&_b(a,a.memoizedProps,d.memoizedProps);break;case 5:if(xi(c,a),Si(a),m&512&&(Sr||d===null||ls(d,d.return)),a.flags&32){x=a.stateNode;try{Fa(x,"")}catch(wt){pn(a,a.return,wt)}}m&4&&a.stateNode!=null&&(x=a.memoizedProps,_b(a,x,d!==null?d.memoizedProps:x)),m&1024&&(Eb=!0);break;case 6:if(xi(c,a),Si(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(wt){pn(a,a.return,wt)}}break;case 3:if(Xm=null,x=Ro,Ro=Ym(c.containerInfo),xi(c,a),Ro=x,Si(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Xu(c.containerInfo)}catch(wt){pn(a,a.return,wt)}Eb&&(Eb=!1,zk(a));break;case 4:m=Ro,Ro=Ym(a.stateNode.containerInfo),xi(c,a),Si(a),Ro=m;break;case 12:xi(c,a),Si(a);break;case 31:xi(c,a),Si(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jm(a,m)));break;case 13:xi(c,a),Si(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Pm=ge()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jm(a,m)));break;case 22:x=a.memoizedState!==null;var ce=d!==null&&d.memoizedState!==null,De=aa,$e=Sr;if(aa=De||x,Sr=$e||ce,xi(c,a),Sr=$e,aa=De,Si(a),m&8192)e:for(c=a.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(d===null||ce||aa||Sr||Ec(a)),d=null,c=a;;){if(c.tag===5||c.tag===26){if(d===null){ce=d=c;try{if(k=ce.stateNode,x)L=k.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{W=ce.stateNode;var qe=ce.memoizedProps.style,Re=qe!=null&&qe.hasOwnProperty("display")?qe.display:null;W.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(wt){pn(ce,ce.return,wt)}}}else if(c.tag===6){if(d===null){ce=c;try{ce.stateNode.nodeValue=x?"":ce.memoizedProps}catch(wt){pn(ce,ce.return,wt)}}}else if(c.tag===18){if(d===null){ce=c;try{var Le=ce.stateNode;x?CE(Le,!0):CE(ce.stateNode,!1)}catch(wt){pn(ce,ce.return,wt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,jm(a,d))));break;case 19:xi(c,a),Si(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jm(a,m)));break;case 30:break;case 21:break;default:xi(c,a),Si(a)}}function Si(a){var c=a.flags;if(c&2){try{for(var d,m=a.return;m!==null;){if(Ek(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,k=Cb(a);Nm(a,k,x);break;case 5:var L=d.stateNode;d.flags&32&&(Fa(L,""),d.flags&=-33);var W=Cb(a);Nm(a,W,L);break;case 3:case 4:var ce=d.stateNode.containerInfo,De=Cb(a);kb(a,De,ce);break;default:throw Error(r(161))}}catch($e){pn(a,a.return,$e)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function zk(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;zk(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function ca(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Tk(a,c.alternate,c),c=c.sibling}function Ec(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:sl(4,c,c.return),Ec(c);break;case 1:ls(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&Ck(c,c.return,d),Ec(c);break;case 27:mh(c.stateNode);case 26:case 5:ls(c,c.return),Ec(c);break;case 22:c.memoizedState===null&&Ec(c);break;case 30:Ec(c);break;default:Ec(c)}a=a.sibling}}function ua(a,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,x=a,k=c,L=k.flags;switch(k.tag){case 0:case 11:case 15:ua(x,k,d),oh(4,k);break;case 1:if(ua(x,k,d),m=k,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(De){pn(m,m.return,De)}if(m=k,x=m.updateQueue,x!==null){var W=m.stateNode;try{var ce=x.shared.hiddenCallbacks;if(ce!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ce.length;x++)dC(ce[x],W)}catch(De){pn(m,m.return,De)}}d&&L&64&&_k(k),sh(k,k.return);break;case 27:Ak(k);case 26:case 5:ua(x,k,d),d&&m===null&&L&4&&kk(k),sh(k,k.return);break;case 12:ua(x,k,d);break;case 31:ua(x,k,d),d&&L&4&&Mk(x,k);break;case 13:ua(x,k,d),d&&L&4&&Nk(x,k);break;case 22:k.memoizedState===null&&ua(x,k,d),sh(k,k.return);break;case 30:break;default:ua(x,k,d)}c=c.sibling}}function Ab(a,c){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Vd(d))}function Ob(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Vd(a))}function Mo(a,c,d,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Pk(a,c,d,m),c=c.sibling}function Pk(a,c,d,m){var x=c.flags;switch(c.tag){case 0:case 11:case 15:Mo(a,c,d,m),x&2048&&oh(9,c);break;case 1:Mo(a,c,d,m);break;case 3:Mo(a,c,d,m),x&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Vd(a)));break;case 12:if(x&2048){Mo(a,c,d,m),a=c.stateNode;try{var k=c.memoizedProps,L=k.id,W=k.onPostCommit;typeof W=="function"&&W(L,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ce){pn(c,c.return,ce)}}else Mo(a,c,d,m);break;case 31:Mo(a,c,d,m);break;case 13:Mo(a,c,d,m);break;case 23:break;case 22:k=c.stateNode,L=c.alternate,c.memoizedState!==null?k._visibility&2?Mo(a,c,d,m):ah(a,c):k._visibility&2?Mo(a,c,d,m):(k._visibility|=2,Iu(a,c,d,m,(c.subtreeFlags&10256)!==0||!1)),x&2048&&Ab(L,c);break;case 24:Mo(a,c,d,m),x&2048&&Ob(c.alternate,c);break;default:Mo(a,c,d,m)}}function Iu(a,c,d,m,x){for(x=x&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var k=a,L=c,W=d,ce=m,De=L.flags;switch(L.tag){case 0:case 11:case 15:Iu(k,L,W,ce,x),oh(8,L);break;case 23:break;case 22:var $e=L.stateNode;L.memoizedState!==null?$e._visibility&2?Iu(k,L,W,ce,x):ah(k,L):($e._visibility|=2,Iu(k,L,W,ce,x)),x&&De&2048&&Ab(L.alternate,L);break;case 24:Iu(k,L,W,ce,x),x&&De&2048&&Ob(L.alternate,L);break;default:Iu(k,L,W,ce,x)}c=c.sibling}}function ah(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=a,m=c,x=m.flags;switch(m.tag){case 22:ah(d,m),x&2048&&Ab(m.alternate,m);break;case 24:ah(d,m),x&2048&&Ob(m.alternate,m);break;default:ah(d,m)}c=c.sibling}}var lh=8192;function $u(a,c,d){if(a.subtreeFlags&lh)for(a=a.child;a!==null;)Lk(a,c,d),a=a.sibling}function Lk(a,c,d){switch(a.tag){case 26:$u(a,c,d),a.flags&lh&&a.memoizedState!==null&&bz(d,Ro,a.memoizedState,a.memoizedProps);break;case 5:$u(a,c,d);break;case 3:case 4:var m=Ro;Ro=Ym(a.stateNode.containerInfo),$u(a,c,d),Ro=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=lh,lh=16777216,$u(a,c,d),lh=m):$u(a,c,d));break;default:$u(a,c,d)}}function Bk(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function ch(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];Nr=m,$k(m,a)}Bk(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ik(a),a=a.sibling}function Ik(a){switch(a.tag){case 0:case 11:case 15:ch(a),a.flags&2048&&sl(9,a,a.return);break;case 3:ch(a);break;case 12:ch(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,zm(a)):ch(a);break;default:ch(a)}}function zm(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];Nr=m,$k(m,a)}Bk(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:sl(8,c,c.return),zm(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,zm(c));break;default:zm(c)}a=a.sibling}}function $k(a,c){for(;Nr!==null;){var d=Nr;switch(d.tag){case 0:case 11:case 15:sl(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vd(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Nr=m;else e:for(d=a;Nr!==null;){m=Nr;var x=m.sibling,k=m.return;if(Dk(m),m===d){Nr=null;break e}if(x!==null){x.return=k,Nr=x;break e}Nr=k}}}var jj={getCacheForType:function(a){var c=Fr(br),d=c.data.get(a);return d===void 0&&(d=a(),c.data.set(a,d)),d},cacheSignal:function(){return Fr(br).controller.signal}},zj=typeof WeakMap=="function"?WeakMap:Map,cn=0,kn=null,Wt=null,Xt=0,hn=0,Ii=null,al=!1,Fu=!1,Tb=!1,fa=0,Jn=0,ll=0,Ac=0,Db=0,$i=0,Uu=0,uh=null,_i=null,Rb=!1,Pm=0,Fk=0,Lm=1/0,Bm=null,cl=null,Er=0,ul=null,Hu=null,da=0,Mb=0,Nb=null,Uk=null,fh=0,jb=null;function Fi(){return(cn&2)!==0&&Xt!==0?Xt&-Xt:V.T!==null?$b():nc()}function Hk(){if($i===0)if((Xt&536870912)===0||Jt){var a=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),$i=a}else $i=536870912;return a=Li.current,a!==null&&(a.flags|=32),$i}function Ci(a,c,d){(a===kn&&(hn===2||hn===9)||a.cancelPendingCommit!==null)&&(qu(a,0),fl(a,Xt,$i,!1)),eo(a,d),((cn&2)===0||a!==kn)&&(a===kn&&((cn&2)===0&&(Ac|=d),Jn===4&&fl(a,Xt,$i,!1)),cs(a))}function qk(a,c,d){if((cn&6)!==0)throw Error(r(327));var m=!d&&(c&127)===0&&(c&a.expiredLanes)===0||Is(a,c),x=m?Bj(a,c):Pb(a,c,!0),k=m;do{if(x===0){Fu&&!m&&fl(a,c,0,!1);break}else{if(d=a.current.alternate,k&&!Pj(d)){x=Pb(a,c,!1),k=!1;continue}if(x===2){if(k=c,a.errorRecoveryDisabledLanes&k)var L=0;else L=a.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){c=L;e:{var W=a;x=uh;var ce=W.current.memoizedState.isDehydrated;if(ce&&(qu(W,L).flags|=256),L=Pb(W,L,!1),L!==2){if(Tb&&!ce){W.errorRecoveryDisabledLanes|=k,Ac|=k,x=4;break e}k=_i,_i=x,k!==null&&(_i===null?_i=k:_i.push.apply(_i,k))}x=L}if(k=!1,x!==2)continue}}if(x===1){qu(a,0),fl(a,c,0,!0);break}e:{switch(m=a,k=x,k){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:fl(m,c,$i,!al);break e;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=Pm+300-ge(),10<x)){if(fl(m,c,$i,!al),ec(m,0,!0)!==0)break e;da=c,m.timeoutHandle=xE(Kk.bind(null,m,d,_i,Bm,Rb,c,$i,Ac,Uu,al,k,"Throttled",-0,0),x);break e}Kk(m,d,_i,Bm,Rb,c,$i,Ac,Uu,al,k,null,-0,0)}}break}while(!0);cs(a)}function Kk(a,c,d,m,x,k,L,W,ce,De,$e,qe,Re,Le){if(a.timeoutHandle=-1,qe=c.subtreeFlags,qe&8192||(qe&16785408)===16785408){qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dr},Lk(c,k,qe);var wt=(k&62914560)===k?Pm-ge():(k&4194048)===k?Fk-ge():0;if(wt=wz(qe,wt),wt!==null){da=k,a.cancelPendingCommit=wt(Jk.bind(null,a,c,k,d,m,x,L,W,ce,$e,qe,null,Re,Le)),fl(a,k,L,!De);return}}Jk(a,c,k,d,m,x,L,W,ce)}function Pj(a){for(var c=a;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var x=d[m],k=x.getSnapshot;x=x.value;try{if(!w(k(),x))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fl(a,c,d,m){c&=~Db,c&=~Ac,a.suspendedLanes|=c,a.pingedLanes&=~c,m&&(a.warmLanes|=c),m=a.expirationTimes;for(var x=c;0<x;){var k=31-nt(x),L=1<<k;m[k]=-1,x&=~L}d!==0&&tc(a,d,c)}function Im(){return(cn&6)===0?(dh(0),!1):!0}function zb(){if(Wt!==null){if(hn===0)var a=Wt.return;else a=Wt,ta=yc=null,G0(a),ju=null,Yd=0,a=Wt;for(;a!==null;)Sk(a.alternate,a),a=a.return;Wt=null}}function qu(a,c){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,nz(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),da=0,zb(),kn=a,Wt=d=Js(a.current,null),Xt=c,hn=0,Ii=null,al=!1,Fu=Is(a,c),Tb=!1,Uu=$i=Db=Ac=ll=Jn=0,_i=uh=null,Rb=!1,(c&8)!==0&&(c|=c&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=c;0<m;){var x=31-nt(m),k=1<<x;c|=a[x],m&=~k}return fa=c,Ot(),d}function Vk(a,c){It=null,V.H=nh,c===Nu||c===pm?(c=lC(),hn=3):c===I0?(c=lC(),hn=4):hn=c===hb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ii=c,Wt===null&&(Jn=1,Om(a,oo(c,a.current)))}function Wk(){var a=Li.current;return a===null?!0:(Xt&4194048)===Xt?co===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?a===co:!1}function Yk(){var a=V.H;return V.H=nh,a===null?nh:a}function Zk(){var a=V.A;return V.A=jj,a}function $m(){Jn=4,al||(Xt&4194048)!==Xt&&Li.current!==null||(Fu=!0),(ll&134217727)===0&&(Ac&134217727)===0||kn===null||fl(kn,Xt,$i,!1)}function Pb(a,c,d){var m=cn;cn|=2;var x=Yk(),k=Zk();(kn!==a||Xt!==c)&&(Bm=null,qu(a,c)),c=!1;var L=Jn;e:do try{if(hn!==0&&Wt!==null){var W=Wt,ce=Ii;switch(hn){case 8:zb(),L=6;break e;case 3:case 2:case 9:case 6:Li.current===null&&(c=!0);var De=hn;if(hn=0,Ii=null,Ku(a,W,ce,De),d&&Fu){L=0;break e}break;default:De=hn,hn=0,Ii=null,Ku(a,W,ce,De)}}Lj(),L=Jn;break}catch($e){Vk(a,$e)}while(!0);return c&&a.shellSuspendCounter++,ta=yc=null,cn=m,V.H=x,V.A=k,Wt===null&&(kn=null,Xt=0,Ot()),L}function Lj(){for(;Wt!==null;)Xk(Wt)}function Bj(a,c){var d=cn;cn|=2;var m=Yk(),x=Zk();kn!==a||Xt!==c?(Bm=null,Lm=ge()+500,qu(a,c)):Fu=Is(a,c);e:do try{if(hn!==0&&Wt!==null){c=Wt;var k=Ii;t:switch(hn){case 1:hn=0,Ii=null,Ku(a,c,k,1);break;case 2:case 9:if(sC(k)){hn=0,Ii=null,Gk(c);break}c=function(){hn!==2&&hn!==9||kn!==a||(hn=7),cs(a)},k.then(c,c);break e;case 3:hn=7;break e;case 4:hn=5;break e;case 7:sC(k)?(hn=0,Ii=null,Gk(c)):(hn=0,Ii=null,Ku(a,c,k,7));break;case 5:var L=null;switch(Wt.tag){case 26:L=Wt.memoizedState;case 5:case 27:var W=Wt;if(L?PE(L):W.stateNode.complete){hn=0,Ii=null;var ce=W.sibling;if(ce!==null)Wt=ce;else{var De=W.return;De!==null?(Wt=De,Fm(De)):Wt=null}break t}}hn=0,Ii=null,Ku(a,c,k,5);break;case 6:hn=0,Ii=null,Ku(a,c,k,6);break;case 8:zb(),Jn=6;break e;default:throw Error(r(462))}}Ij();break}catch($e){Vk(a,$e)}while(!0);return ta=yc=null,V.H=m,V.A=x,cn=d,Wt!==null?0:(kn=null,Xt=0,Ot(),Jn)}function Ij(){for(;Wt!==null&&!pe();)Xk(Wt)}function Xk(a){var c=wk(a.alternate,a,fa);a.memoizedProps=a.pendingProps,c===null?Fm(a):Wt=c}function Gk(a){var c=a,d=c.alternate;switch(c.tag){case 15:case 0:c=pk(d,c,c.pendingProps,c.type,void 0,Xt);break;case 11:c=pk(d,c,c.pendingProps,c.type.render,c.ref,Xt);break;case 5:G0(c);default:Sk(d,c),c=Wt=Z_(c,fa),c=wk(d,c,fa)}a.memoizedProps=a.pendingProps,c===null?Fm(a):Wt=c}function Ku(a,c,d,m){ta=yc=null,G0(c),ju=null,Yd=0;var x=c.return;try{if(Aj(a,x,c,d,Xt)){Jn=1,Om(a,oo(d,a.current)),Wt=null;return}}catch(k){if(x!==null)throw Wt=x,k;Jn=1,Om(a,oo(d,a.current)),Wt=null;return}c.flags&32768?(Jt||m===1?a=!0:Fu||(Xt&536870912)!==0?a=!1:(al=a=!0,(m===2||m===9||m===3||m===6)&&(m=Li.current,m!==null&&m.tag===13&&(m.flags|=16384))),Qk(c,a)):Fm(c)}function Fm(a){var c=a;do{if((c.flags&32768)!==0){Qk(c,al);return}a=c.return;var d=Dj(c.alternate,c,fa);if(d!==null){Wt=d;return}if(c=c.sibling,c!==null){Wt=c;return}Wt=c=a}while(c!==null);Jn===0&&(Jn=5)}function Qk(a,c){do{var d=Rj(a.alternate,a);if(d!==null){d.flags&=32767,Wt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(a=a.sibling,a!==null)){Wt=a;return}Wt=a=d}while(a!==null);Jn=6,Wt=null}function Jk(a,c,d,m,x,k,L,W,ce){a.cancelPendingCommit=null;do Um();while(Er!==0);if((cn&6)!==0)throw Error(r(327));if(c!==null){if(c===a.current)throw Error(r(177));if(k=c.lanes|c.childLanes,k|=Dn,md(a,d,k,L,W,ce),a===kn&&(Wt=kn=null,Xt=0),Hu=c,ul=a,da=d,Mb=k,Nb=x,Uk=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Hj(vt,function(){return iE(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,x=X.p,X.p=2,L=cn,cn|=4;try{Mj(a,c,d)}finally{cn=L,X.p=x,V.T=m}}Er=1,eE(),tE(),nE()}}function eE(){if(Er===1){Er=0;var a=ul,c=Hu,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=V.T,V.T=null;var m=X.p;X.p=2;var x=cn;cn|=4;try{jk(c,a);var k=Yb,L=K(a.containerInfo),W=k.focusedElem,ce=k.selectionRange;if(L!==W&&W&&W.ownerDocument&&F(W.ownerDocument.documentElement,W)){if(ce!==null&&re(W)){var De=ce.start,$e=ce.end;if($e===void 0&&($e=De),"selectionStart"in W)W.selectionStart=De,W.selectionEnd=Math.min($e,W.value.length);else{var qe=W.ownerDocument||document,Re=qe&&qe.defaultView||window;if(Re.getSelection){var Le=Re.getSelection(),wt=W.textContent.length,At=Math.min(ce.start,wt),bn=ce.end===void 0?At:Math.min(ce.end,wt);!Le.extend&&At>bn&&(L=bn,bn=At,At=L);var _e=z(W,At),he=z(W,bn);if(_e&&he&&(Le.rangeCount!==1||Le.anchorNode!==_e.node||Le.anchorOffset!==_e.offset||Le.focusNode!==he.node||Le.focusOffset!==he.offset)){var Te=qe.createRange();Te.setStart(_e.node,_e.offset),Le.removeAllRanges(),At>bn?(Le.addRange(Te),Le.extend(he.node,he.offset)):(Te.setEnd(he.node,he.offset),Le.addRange(Te))}}}}for(qe=[],Le=W;Le=Le.parentNode;)Le.nodeType===1&&qe.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<qe.length;W++){var Fe=qe[W];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}eg=!!Wb,Yb=Wb=null}finally{cn=x,X.p=m,V.T=d}}a.current=c,Er=2}}function tE(){if(Er===2){Er=0;var a=ul,c=Hu,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=V.T,V.T=null;var m=X.p;X.p=2;var x=cn;cn|=4;try{Tk(a,c.alternate,c)}finally{cn=x,X.p=m,V.T=d}}Er=3}}function nE(){if(Er===4||Er===3){Er=0,Ue();var a=ul,c=Hu,d=da,m=Uk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Er=5:(Er=0,Hu=ul=null,rE(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(cl=null),za(d),c=c.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(St,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=V.T,x=X.p,X.p=2,V.T=null;try{for(var k=a.onRecoverableError,L=0;L<m.length;L++){var W=m[L];k(W.value,{componentStack:W.stack})}}finally{V.T=c,X.p=x}}(da&3)!==0&&Um(),cs(a),x=a.pendingLanes,(d&261930)!==0&&(x&42)!==0?a===jb?fh++:(fh=0,jb=a):fh=0,dh(0)}}function rE(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Vd(c)))}function Um(){return eE(),tE(),nE(),iE()}function iE(){if(Er!==5)return!1;var a=ul,c=Mb;Mb=0;var d=za(da),m=V.T,x=X.p;try{X.p=32>d?32:d,V.T=null,d=Nb,Nb=null;var k=ul,L=da;if(Er=0,Hu=ul=null,da=0,(cn&6)!==0)throw Error(r(331));var W=cn;if(cn|=4,Ik(k.current),Pk(k,k.current,L,d),cn=W,dh(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(St,k)}catch{}return!0}finally{X.p=x,V.T=m,rE(a,c)}}function oE(a,c,d){c=oo(d,c),c=db(a.stateNode,c,2),a=rl(a,c,2),a!==null&&(eo(a,2),cs(a))}function pn(a,c,d){if(a.tag===3)oE(a,a,d);else for(;c!==null;){if(c.tag===3){oE(c,a,d);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(cl===null||!cl.has(m))){a=oo(d,a),d=sk(2),m=rl(c,d,2),m!==null&&(ak(d,m,c,a),eo(m,2),cs(m));break}}c=c.return}}function Lb(a,c,d){var m=a.pingCache;if(m===null){m=a.pingCache=new zj;var x=new Set;m.set(c,x)}else x=m.get(c),x===void 0&&(x=new Set,m.set(c,x));x.has(d)||(Tb=!0,x.add(d),a=$j.bind(null,a,c,d),c.then(a,a))}function $j(a,c,d){var m=a.pingCache;m!==null&&m.delete(c),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,kn===a&&(Xt&d)===d&&(Jn===4||Jn===3&&(Xt&62914560)===Xt&&300>ge()-Pm?(cn&2)===0&&qu(a,0):Db|=d,Uu===Xt&&(Uu=0)),cs(a)}function sE(a,c){c===0&&(c=Xp()),a=ro(a,c),a!==null&&(eo(a,c),cs(a))}function Fj(a){var c=a.memoizedState,d=0;c!==null&&(d=c.retryLane),sE(a,d)}function Uj(a,c){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,x=a.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),sE(a,d)}function Hj(a,c){return Ne(a,c)}var Hm=null,Vu=null,Bb=!1,qm=!1,Ib=!1,dl=0;function cs(a){a!==Vu&&a.next===null&&(Vu===null?Hm=Vu=a:Vu=Vu.next=a),qm=!0,Bb||(Bb=!0,Kj())}function dh(a,c){if(!Ib&&qm){Ib=!0;do for(var d=!1,m=Hm;m!==null;){if(a!==0){var x=m.pendingLanes;if(x===0)var k=0;else{var L=m.suspendedLanes,W=m.pingedLanes;k=(1<<31-nt(42|a)+1)-1,k&=x&~(L&~W),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(d=!0,uE(m,k))}else k=Xt,k=ec(m,m===kn?k:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(k&3)===0||Is(m,k)||(d=!0,uE(m,k));m=m.next}while(d);Ib=!1}}function qj(){aE()}function aE(){qm=Bb=!1;var a=0;dl!==0&&tz()&&(a=dl);for(var c=ge(),d=null,m=Hm;m!==null;){var x=m.next,k=lE(m,c);k===0?(m.next=null,d===null?Hm=x:d.next=x,x===null&&(Vu=d)):(d=m,(a!==0||(k&3)!==0)&&(qm=!0)),m=x}Er!==0&&Er!==5||dh(a),dl!==0&&(dl=0)}function lE(a,c){for(var d=a.suspendedLanes,m=a.pingedLanes,x=a.expirationTimes,k=a.pendingLanes&-62914561;0<k;){var L=31-nt(k),W=1<<L,ce=x[L];ce===-1?((W&d)===0||(W&m)!==0)&&(x[L]=w0(W,c)):ce<=c&&(a.expiredLanes|=W),k&=~W}if(c=kn,d=Xt,d=ec(a,a===c?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===c&&(hn===2||hn===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Me(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Is(a,d)){if(c=d&-d,c===a.callbackPriority)return c;switch(m!==null&&Me(m),za(d)){case 2:case 8:d=tt;break;case 32:d=vt;break;case 268435456:d=ln;break;default:d=vt}return m=cE.bind(null,a),d=Ne(d,m),a.callbackPriority=c,a.callbackNode=d,c}return m!==null&&m!==null&&Me(m),a.callbackPriority=2,a.callbackNode=null,2}function cE(a,c){if(Er!==0&&Er!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Um()&&a.callbackNode!==d)return null;var m=Xt;return m=ec(a,a===kn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(qk(a,m,c),lE(a,ge()),a.callbackNode!=null&&a.callbackNode===d?cE.bind(null,a):null)}function uE(a,c){if(Um())return null;qk(a,c,!0)}function Kj(){rz(function(){(cn&6)!==0?Ne(Ge,qj):aE()})}function $b(){if(dl===0){var a=Ru;a===0&&(a=Qe,Qe<<=1,(Qe&261888)===0&&(Qe=256)),dl=a}return dl}function fE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:qs(""+a)}function dE(a,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,a.id&&d.setAttribute("form",a.id),c.parentNode.insertBefore(d,c),a=new FormData(a),d.parentNode.removeChild(d),a}function Vj(a,c,d,m,x){if(c==="submit"&&d&&d.stateNode===x){var k=fE((x[cr]||null).action),L=m.submitter;L&&(c=(c=L[cr]||null)?fE(c.formAction):L.getAttribute("formAction"),c!==null&&(k=c,L=null));var W=new Ys("action","action",null,m,x);a.push({event:W,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(dl!==0){var ce=L?dE(x,L):new FormData(x);sb(d,{pending:!0,data:ce,method:x.method,action:k},null,ce)}}else typeof k=="function"&&(W.preventDefault(),ce=L?dE(x,L):new FormData(x),sb(d,{pending:!0,data:ce,method:x.method,action:k},k,ce))},currentTarget:x}]})}}for(var Fb=0;Fb<dt.length;Fb++){var Ub=dt[Fb],Wj=Ub.toLowerCase(),Yj=Ub[0].toUpperCase()+Ub.slice(1);lt(Wj,"on"+Yj)}lt(Pe,"onAnimationEnd"),lt(Be,"onAnimationIteration"),lt(Ie,"onAnimationStart"),lt("dblclick","onDoubleClick"),lt("focusin","onFocus"),lt("focusout","onBlur"),lt(it,"onTransitionRun"),lt(at,"onTransitionStart"),lt(ot,"onTransitionCancel"),lt(st,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hh));function hE(a,c){c=(c&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],x=m.event;m=m.listeners;e:{var k=void 0;if(c)for(var L=m.length-1;0<=L;L--){var W=m[L],ce=W.instance,De=W.currentTarget;if(W=W.listener,ce!==k&&x.isPropagationStopped())break e;k=W,x.currentTarget=De;try{k(x)}catch($e){Rt($e)}x.currentTarget=null,k=ce}else for(L=0;L<m.length;L++){if(W=m[L],ce=W.instance,De=W.currentTarget,W=W.listener,ce!==k&&x.isPropagationStopped())break e;k=W,x.currentTarget=De;try{k(x)}catch($e){Rt($e)}x.currentTarget=null,k=ce}}}}function Yt(a,c){var d=c[Pa];d===void 0&&(d=c[Pa]=new Set);var m=a+"__bubble";d.has(m)||(pE(c,a,2,!1),d.add(m))}function Hb(a,c,d){var m=0;c&&(m|=4),pE(d,a,m,c)}var Km="_reactListening"+Math.random().toString(36).slice(2);function qb(a){if(!a[Km]){a[Km]=!0,$s.forEach(function(d){d!=="selectionchange"&&(Zj.has(d)||Hb(d,!1,a),Hb(d,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Km]||(c[Km]=!0,Hb("selectionchange",!1,c))}}function pE(a,c,d,m){switch(HE(c)){case 2:var x=_z;break;case 8:x=Cz;break;default:x=o1}d=x.bind(null,c,d,a),x=void 0,!bi||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),m?x!==void 0?a.addEventListener(c,d,{capture:!0,passive:x}):a.addEventListener(c,d,!0):x!==void 0?a.addEventListener(c,d,{passive:x}):a.addEventListener(c,d,!1)}function Kb(a,c,d,m,x){var k=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var W=m.stateNode.containerInfo;if(W===x)break;if(L===4)for(L=m.return;L!==null;){var ce=L.tag;if((ce===3||ce===4)&&L.stateNode.containerInfo===x)return;L=L.return}for(;W!==null;){if(L=es(W),L===null)return;if(ce=L.tag,ce===5||ce===6||ce===26||ce===27){m=k=L;continue e}W=W.parentNode}}m=m.return}mu(function(){var De=k,$e=pu(d),qe=[];e:{var Re=pt.get(a);if(Re!==void 0){var Le=Ys,wt=a;switch(a){case"keypress":if(lc(d)===0)break e;case"keydown":case"keyup":Le=tm;break;case"focusin":wt="focus",Le=Va;break;case"focusout":wt="blur",Le=Va;break;case"beforeblur":case"afterblur":Le=Va;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Zs;break;case Pe:case Be:case Ie:Le=S0;break;case st:Le=Nd;break;case"scroll":case"scrollend":Le=kd;break;case"wheel":Le=jd;break;case"copy":case"cut":case"paste":Le=Od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=dc;break;case"toggle":case"beforetoggle":Le=_0}var At=(c&4)!==0,bn=!At&&(a==="scroll"||a==="scrollend"),_e=At?Re!==null?Re+"Capture":null:Re;At=[];for(var he=De,Te;he!==null;){var Fe=he;if(Te=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Te===null||_e===null||(Fe=yi(he,_e),Fe!=null&&At.push(ph(he,Fe,Te))),bn)break;he=he.return}0<At.length&&(Re=new Le(Re,wt,null,d,$e),qe.push({event:Re,listeners:At}))}}if((c&7)===0){e:{if(Re=a==="mouseover"||a==="pointerover",Le=a==="mouseout"||a==="pointerout",Re&&d!==hu&&(wt=d.relatedTarget||d.fromElement)&&(es(wt)||wt[di]))break e;if((Le||Re)&&(Re=$e.window===$e?$e:(Re=$e.ownerDocument)?Re.defaultView||Re.parentWindow:window,Le?(wt=d.relatedTarget||d.toElement,Le=De,wt=wt?es(wt):null,wt!==null&&(bn=o(wt),At=wt.tag,wt!==bn||At!==5&&At!==27&&At!==6)&&(wt=null)):(Le=null,wt=De),Le!==wt)){if(At=yu,Fe="onMouseLeave",_e="onMouseEnter",he="mouse",(a==="pointerout"||a==="pointerover")&&(At=dc,Fe="onPointerLeave",_e="onPointerEnter",he="pointer"),bn=Le==null?Re:zi(Le),Te=wt==null?Re:zi(wt),Re=new At(Fe,he+"leave",Le,d,$e),Re.target=bn,Re.relatedTarget=Te,Fe=null,es($e)===De&&(At=new At(_e,he+"enter",wt,d,$e),At.target=Te,At.relatedTarget=bn,Fe=At),bn=Fe,Le&&wt)t:{for(At=Xj,_e=Le,he=wt,Te=0,Fe=_e;Fe;Fe=At(Fe))Te++;Fe=0;for(var kt=he;kt;kt=At(kt))Fe++;for(;0<Te-Fe;)_e=At(_e),Te--;for(;0<Fe-Te;)he=At(he),Fe--;for(;Te--;){if(_e===he||he!==null&&_e===he.alternate){At=_e;break t}_e=At(_e),he=At(he)}At=null}else At=null;Le!==null&&mE(qe,Re,Le,At,!1),wt!==null&&bn!==null&&mE(qe,bn,wt,At,!0)}}e:{if(Re=De?zi(De):window,Le=Re.nodeName&&Re.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Re.type==="file")var sn=no;else if($d(Re))if(Un)sn=is;else{sn=Hd;var xt=Qs}else Le=Re.nodeName,!Le||Le.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?De&&Cd(De.elementType)&&(sn=no):sn=Xa;if(sn&&(sn=sn(a,De))){Fd(qe,sn,d,$e);break e}xt&&xt(a,Re,De),a==="focusout"&&De&&Re.type==="number"&&De.memoizedProps.value!=null&&Ia(Re,"number",Re.value)}switch(xt=De?zi(De):window,a){case"focusin":($d(xt)||xt.contentEditable==="true")&&(fe=xt,ve=De,we=null);break;case"focusout":we=ve=fe=null;break;case"mousedown":oe=!0;break;case"contextmenu":case"mouseup":case"dragend":oe=!1,Ce(qe,d,$e);break;case"selectionchange":if(ie)break;case"keydown":case"keyup":Ce(qe,d,$e)}var Ft;if(Ya)e:{switch(a){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else Xs?om(a,d)&&(Gt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Gt="onCompositionStart");Gt&&(ku&&d.locale!=="ko"&&(Xs||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&Xs&&(Ft=gu()):(Do=$e,ac="value"in Do?Do.value:Do.textContent,Xs=!0)),xt=Vm(De,Gt),0<xt.length&&(Gt=new xu(Gt,a,null,d,$e),qe.push({event:Gt,listeners:xt}),Ft?Gt.data=Ft:(Ft=Bd(d),Ft!==null&&(Gt.data=Ft)))),(Ft=Pd?C0(a,d):sm(a,d))&&(Gt=Vm(De,"onBeforeInput"),0<Gt.length&&(xt=new xu("onBeforeInput","beforeinput",null,d,$e),qe.push({event:xt,listeners:Gt}),xt.data=Ft)),Vj(qe,a,De,d,$e)}hE(qe,c)})}function ph(a,c,d){return{instance:a,listener:c,currentTarget:d}}function Vm(a,c){for(var d=c+"Capture",m=[];a!==null;){var x=a,k=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||k===null||(x=yi(a,d),x!=null&&m.unshift(ph(a,x,k)),x=yi(a,c),x!=null&&m.push(ph(a,x,k))),a.tag===3)return m;a=a.return}return[]}function Xj(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mE(a,c,d,m,x){for(var k=c._reactName,L=[];d!==null&&d!==m;){var W=d,ce=W.alternate,De=W.stateNode;if(W=W.tag,ce!==null&&ce===m)break;W!==5&&W!==26&&W!==27||De===null||(ce=De,x?(De=yi(d,k),De!=null&&L.unshift(ph(d,De,ce))):x||(De=yi(d,k),De!=null&&L.push(ph(d,De,ce)))),d=d.return}L.length!==0&&a.push({event:c,listeners:L})}var Gj=/\r\n?/g,Qj=/\u0000|\uFFFD/g;function gE(a){return(typeof a=="string"?a:""+a).replace(Gj,`
`).replace(Qj,"")}function vE(a,c){return c=gE(c),gE(a)===c}function yn(a,c,d,m,x,k){switch(d){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Fa(a,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Fa(a,""+m);break;case"className":sc(a,"class",m);break;case"tabIndex":sc(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":sc(a,d,m);break;case"style":Qp(a,m,k);break;case"data":if(c!=="object"){sc(a,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=qs(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(d==="formAction"?(c!=="input"&&yn(a,c,"name",x.name,x,null),yn(a,c,"formEncType",x.formEncType,x,null),yn(a,c,"formMethod",x.formMethod,x,null),yn(a,c,"formTarget",x.formTarget,x,null)):(yn(a,c,"encType",x.encType,x,null),yn(a,c,"method",x.method,x,null),yn(a,c,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=qs(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Dr);break;case"onScroll":m!=null&&Yt("scroll",a);break;case"onScrollEnd":m!=null&&Yt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=qs(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":Yt("beforetoggle",a),Yt("toggle",a),Ht(a,"popover",m);break;case"xlinkActuate":to(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":to(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":to(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":to(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":to(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":to(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":to(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":to(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":to(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ht(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=hi.get(d)||d,Ht(a,d,m))}}function Vb(a,c,d,m,x,k){switch(d){case"style":Qp(a,m,k);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Fa(a,m):(typeof m=="number"||typeof m=="bigint")&&Fa(a,""+m);break;case"onScroll":m!=null&&Yt("scroll",a);break;case"onScrollEnd":m!=null&&Yt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ic.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),c=d.slice(2,x?d.length-7:void 0),k=a[cr]||null,k=k!=null?k[d]:null,typeof k=="function"&&a.removeEventListener(c,k,x),typeof m=="function")){typeof k!="function"&&k!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(c,m,x);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Ht(a,d,m)}}}function Hr(a,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",a),Yt("load",a);var m=!1,x=!1,k;for(k in d)if(d.hasOwnProperty(k)){var L=d[k];if(L!=null)switch(k){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:yn(a,c,k,L,d,null)}}x&&yn(a,c,"srcSet",d.srcSet,d,null),m&&yn(a,c,"src",d.src,d,null);return;case"input":Yt("invalid",a);var W=k=L=x=null,ce=null,De=null;for(m in d)if(d.hasOwnProperty(m)){var $e=d[m];if($e!=null)switch(m){case"name":x=$e;break;case"type":L=$e;break;case"checked":ce=$e;break;case"defaultChecked":De=$e;break;case"value":k=$e;break;case"defaultValue":W=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(r(137,c));break;default:yn(a,c,m,$e,d,null)}}xd(a,k,W,ce,De,L,x,!1);return;case"select":Yt("invalid",a),m=L=k=null;for(x in d)if(d.hasOwnProperty(x)&&(W=d[x],W!=null))switch(x){case"value":k=W;break;case"defaultValue":L=W;break;case"multiple":m=W;default:yn(a,c,x,W,d,null)}c=k,d=L,a.multiple=!!m,c!=null?Hs(a,!!m,c,!1):d!=null&&Hs(a,!!m,d,!0);return;case"textarea":Yt("invalid",a),k=x=m=null;for(L in d)if(d.hasOwnProperty(L)&&(W=d[L],W!=null))switch(L){case"value":m=W;break;case"defaultValue":x=W;break;case"children":k=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:yn(a,c,L,W,d,null)}Sd(a,m,x,k);return;case"option":for(ce in d)if(d.hasOwnProperty(ce)&&(m=d[ce],m!=null))switch(ce){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:yn(a,c,ce,m,d,null)}return;case"dialog":Yt("beforetoggle",a),Yt("toggle",a),Yt("cancel",a),Yt("close",a);break;case"iframe":case"object":Yt("load",a);break;case"video":case"audio":for(m=0;m<hh.length;m++)Yt(hh[m],a);break;case"image":Yt("error",a),Yt("load",a);break;case"details":Yt("toggle",a);break;case"embed":case"source":case"link":Yt("error",a),Yt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in d)if(d.hasOwnProperty(De)&&(m=d[De],m!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:yn(a,c,De,m,d,null)}return;default:if(Cd(c)){for($e in d)d.hasOwnProperty($e)&&(m=d[$e],m!==void 0&&Vb(a,c,$e,m,d,void 0));return}}for(W in d)d.hasOwnProperty(W)&&(m=d[W],m!=null&&yn(a,c,W,m,d,null))}function Jj(a,c,d,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,k=null,L=null,W=null,ce=null,De=null,$e=null;for(Le in d){var qe=d[Le];if(d.hasOwnProperty(Le)&&qe!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":ce=qe;default:m.hasOwnProperty(Le)||yn(a,c,Le,null,m,qe)}}for(var Re in m){var Le=m[Re];if(qe=d[Re],m.hasOwnProperty(Re)&&(Le!=null||qe!=null))switch(Re){case"type":k=Le;break;case"name":x=Le;break;case"checked":De=Le;break;case"defaultChecked":$e=Le;break;case"value":L=Le;break;case"defaultValue":W=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,c));break;default:Le!==qe&&yn(a,c,Re,Le,m,qe)}}Ba(a,L,W,ce,De,$e,k,x);return;case"select":Le=L=W=Re=null;for(k in d)if(ce=d[k],d.hasOwnProperty(k)&&ce!=null)switch(k){case"value":break;case"multiple":Le=ce;default:m.hasOwnProperty(k)||yn(a,c,k,null,m,ce)}for(x in m)if(k=m[x],ce=d[x],m.hasOwnProperty(x)&&(k!=null||ce!=null))switch(x){case"value":Re=k;break;case"defaultValue":W=k;break;case"multiple":L=k;default:k!==ce&&yn(a,c,x,k,m,ce)}c=W,d=L,m=Le,Re!=null?Hs(a,!!d,Re,!1):!!m!=!!d&&(c!=null?Hs(a,!!d,c,!0):Hs(a,!!d,d?[]:"",!1));return;case"textarea":Le=Re=null;for(W in d)if(x=d[W],d.hasOwnProperty(W)&&x!=null&&!m.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:yn(a,c,W,null,m,x)}for(L in m)if(x=m[L],k=d[L],m.hasOwnProperty(L)&&(x!=null||k!=null))switch(L){case"value":Re=x;break;case"defaultValue":Le=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==k&&yn(a,c,L,x,m,k)}$a(a,Re,Le);return;case"option":for(var wt in d)if(Re=d[wt],d.hasOwnProperty(wt)&&Re!=null&&!m.hasOwnProperty(wt))switch(wt){case"selected":a.selected=!1;break;default:yn(a,c,wt,null,m,Re)}for(ce in m)if(Re=m[ce],Le=d[ce],m.hasOwnProperty(ce)&&Re!==Le&&(Re!=null||Le!=null))switch(ce){case"selected":a.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:yn(a,c,ce,Re,m,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in d)Re=d[At],d.hasOwnProperty(At)&&Re!=null&&!m.hasOwnProperty(At)&&yn(a,c,At,null,m,Re);for(De in m)if(Re=m[De],Le=d[De],m.hasOwnProperty(De)&&Re!==Le&&(Re!=null||Le!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,c));break;default:yn(a,c,De,Re,m,Le)}return;default:if(Cd(c)){for(var bn in d)Re=d[bn],d.hasOwnProperty(bn)&&Re!==void 0&&!m.hasOwnProperty(bn)&&Vb(a,c,bn,void 0,m,Re);for($e in m)Re=m[$e],Le=d[$e],!m.hasOwnProperty($e)||Re===Le||Re===void 0&&Le===void 0||Vb(a,c,$e,Re,m,Le);return}}for(var _e in d)Re=d[_e],d.hasOwnProperty(_e)&&Re!=null&&!m.hasOwnProperty(_e)&&yn(a,c,_e,null,m,Re);for(qe in m)Re=m[qe],Le=d[qe],!m.hasOwnProperty(qe)||Re===Le||Re==null&&Le==null||yn(a,c,qe,Re,m,Le)}function yE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ez(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var x=d[m],k=x.transferSize,L=x.initiatorType,W=x.duration;if(k&&W&&yE(L)){for(L=0,W=x.responseEnd,m+=1;m<d.length;m++){var ce=d[m],De=ce.startTime;if(De>W)break;var $e=ce.transferSize,qe=ce.initiatorType;$e&&yE(qe)&&(ce=ce.responseEnd,L+=$e*(ce<W?1:(W-De)/(ce-De)))}if(--m,c+=8*(k+L)/(x.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Wb=null,Yb=null;function Wm(a){return a.nodeType===9?a:a.ownerDocument}function bE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wE(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Zb(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Xb=null;function tz(){var a=window.event;return a&&a.type==="popstate"?a===Xb?!1:(Xb=a,!0):(Xb=null,!1)}var xE=typeof setTimeout=="function"?setTimeout:void 0,nz=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,rz=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(a){return SE.resolve(null).then(a).catch(iz)}:xE;function iz(a){setTimeout(function(){throw a})}function hl(a){return a==="head"}function _E(a,c){var d=c,m=0;do{var x=d.nextSibling;if(a.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(x),Xu(c);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")mh(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,mh(d);for(var k=d.firstChild;k;){var L=k.nextSibling,W=k.nodeName;k[ji]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&k.rel.toLowerCase()==="stylesheet"||d.removeChild(k),k=L}}else d==="body"&&mh(a.ownerDocument.body);d=x}while(d);Xu(c)}function CE(a,c){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function Gb(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Gb(d),du(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function oz(a,c,d,m){for(;a.nodeType===1;){var x=d;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ji])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(k=a.getAttribute("rel"),k==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(k!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(k=a.getAttribute("src"),(k!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&k&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var k=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===k)return a}else return a;if(a=uo(a.nextSibling),a===null)break}return null}function sz(a,c,d){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=uo(a.nextSibling),a===null))return null;return a}function kE(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=uo(a.nextSibling),a===null))return null;return a}function Qb(a){return a.data==="$?"||a.data==="$~"}function Jb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function az(a,c){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||d.readyState!=="loading")c();else{var m=function(){c(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function uo(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var e1=null;function EE(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(c===0)return uo(a.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}a=a.nextSibling}return null}function AE(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return a;c--}else d!=="/$"&&d!=="/&"||c++}a=a.previousSibling}return null}function OE(a,c,d){switch(c=Wm(d),a){case"html":if(a=c.documentElement,!a)throw Error(r(452));return a;case"head":if(a=c.head,!a)throw Error(r(453));return a;case"body":if(a=c.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function mh(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);du(a)}var fo=new Map,TE=new Set;function Ym(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ha=X.d;X.d={f:lz,r:cz,D:uz,C:fz,L:dz,m:hz,X:mz,S:pz,M:gz};function lz(){var a=ha.f(),c=Im();return a||c}function cz(a){var c=gn(a);c!==null&&c.tag===5&&c.type==="form"?VC(c):ha.r(a)}var Wu=typeof document>"u"?null:document;function DE(a,c,d){var m=Wu;if(m&&typeof c=="string"&&c){var x=Qr(c);x='link[rel="'+a+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),TE.has(x)||(TE.add(x),a={rel:a,crossOrigin:d,href:c},m.querySelector(x)===null&&(c=m.createElement("link"),Hr(c,"link",a),ur(c),m.head.appendChild(c)))}}function uz(a){ha.D(a),DE("dns-prefetch",a,null)}function fz(a,c){ha.C(a,c),DE("preconnect",a,c)}function dz(a,c,d){ha.L(a,c,d);var m=Wu;if(m&&a&&c){var x='link[rel="preload"][as="'+Qr(c)+'"]';c==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Qr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Qr(d.imageSizes)+'"]')):x+='[href="'+Qr(a)+'"]';var k=x;switch(c){case"style":k=Yu(a);break;case"script":k=Zu(a)}fo.has(k)||(a=p({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:a,as:c},d),fo.set(k,a),m.querySelector(x)!==null||c==="style"&&m.querySelector(gh(k))||c==="script"&&m.querySelector(vh(k))||(c=m.createElement("link"),Hr(c,"link",a),ur(c),m.head.appendChild(c)))}}function hz(a,c){ha.m(a,c);var d=Wu;if(d&&a){var m=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+Qr(m)+'"][href="'+Qr(a)+'"]',k=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Zu(a)}if(!fo.has(k)&&(a=p({rel:"modulepreload",href:a},c),fo.set(k,a),d.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(vh(k)))return}m=d.createElement("link"),Hr(m,"link",a),ur(m),d.head.appendChild(m)}}}function pz(a,c,d){ha.S(a,c,d);var m=Wu;if(m&&a){var x=Gr(m).hoistableStyles,k=Yu(a);c=c||"default";var L=x.get(k);if(!L){var W={loading:0,preload:null};if(L=m.querySelector(gh(k)))W.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":c},d),(d=fo.get(k))&&t1(a,d);var ce=L=m.createElement("link");ur(ce),Hr(ce,"link",a),ce._p=new Promise(function(De,$e){ce.onload=De,ce.onerror=$e}),ce.addEventListener("load",function(){W.loading|=1}),ce.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Zm(L,c,m)}L={type:"stylesheet",instance:L,count:1,state:W},x.set(k,L)}}}function mz(a,c){ha.X(a,c);var d=Wu;if(d&&a){var m=Gr(d).hoistableScripts,x=Zu(a),k=m.get(x);k||(k=d.querySelector(vh(x)),k||(a=p({src:a,async:!0},c),(c=fo.get(x))&&n1(a,c),k=d.createElement("script"),ur(k),Hr(k,"link",a),d.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},m.set(x,k))}}function gz(a,c){ha.M(a,c);var d=Wu;if(d&&a){var m=Gr(d).hoistableScripts,x=Zu(a),k=m.get(x);k||(k=d.querySelector(vh(x)),k||(a=p({src:a,async:!0,type:"module"},c),(c=fo.get(x))&&n1(a,c),k=d.createElement("script"),ur(k),Hr(k,"link",a),d.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},m.set(x,k))}}function RE(a,c,d,m){var x=(x=je.current)?Ym(x):null;if(!x)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=Yu(d.href),d=Gr(x).hoistableStyles,m=d.get(c),m||(m={type:"style",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Yu(d.href);var k=Gr(x).hoistableStyles,L=k.get(a);if(L||(x=x.ownerDocument||x,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(a,L),(k=x.querySelector(gh(a)))&&!k._p&&(L.instance=k,L.state.loading=5),fo.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},fo.set(a,d),k||vz(x,a,d,L.state))),c&&m===null)throw Error(r(528,""));return L}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Zu(d),d=Gr(x).hoistableScripts,m=d.get(c),m||(m={type:"script",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Yu(a){return'href="'+Qr(a)+'"'}function gh(a){return'link[rel="stylesheet"]['+a+"]"}function ME(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function vz(a,c,d,m){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=a.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Hr(c,"link",d),ur(c),a.head.appendChild(c))}function Zu(a){return'[src="'+Qr(a)+'"]'}function vh(a){return"script[async]"+a}function NE(a,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var m=a.querySelector('style[data-href~="'+Qr(d.href)+'"]');if(m)return c.instance=m,ur(m),m;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),ur(m),Hr(m,"style",x),Zm(m,d.precedence,a),c.instance=m;case"stylesheet":x=Yu(d.href);var k=a.querySelector(gh(x));if(k)return c.state.loading|=4,c.instance=k,ur(k),k;m=ME(d),(x=fo.get(x))&&t1(m,x),k=(a.ownerDocument||a).createElement("link"),ur(k);var L=k;return L._p=new Promise(function(W,ce){L.onload=W,L.onerror=ce}),Hr(k,"link",m),c.state.loading|=4,Zm(k,d.precedence,a),c.instance=k;case"script":return k=Zu(d.src),(x=a.querySelector(vh(k)))?(c.instance=x,ur(x),x):(m=d,(x=fo.get(k))&&(m=p({},d),n1(m,x)),a=a.ownerDocument||a,x=a.createElement("script"),ur(x),Hr(x,"link",m),a.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Zm(m,d.precedence,a));return c.instance}function Zm(a,c,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,k=x,L=0;L<m.length;L++){var W=m[L];if(W.dataset.precedence===c)k=W;else if(k!==x)break}k?k.parentNode.insertBefore(a,k.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(a,c.firstChild))}function t1(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function n1(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Xm=null;function jE(a,c,d){if(Xm===null){var m=new Map,x=Xm=new Map;x.set(d,m)}else x=Xm,m=x.get(d),m||(m=new Map,x.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),x=0;x<d.length;x++){var k=d[x];if(!(k[ji]||k[Tn]||a==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var L=k.getAttribute(c)||"";L=a+L;var W=m.get(L);W?W.push(k):m.set(L,[k])}}return m}function zE(a,c,d){a=a.ownerDocument||a,a.head.insertBefore(d,c==="title"?a.querySelector("head > title"):null)}function yz(a,c,d){if(d===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function PE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function bz(a,c,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Yu(m.href),k=c.querySelector(gh(x));if(k){c=k._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=Gm.bind(a),c.then(a,a)),d.state.loading|=4,d.instance=k,ur(k);return}k=c.ownerDocument||c,m=ME(m),(x=fo.get(x))&&t1(m,x),k=k.createElement("link"),ur(k);var L=k;L._p=new Promise(function(W,ce){L.onload=W,L.onerror=ce}),Hr(k,"link",m),d.instance=k}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Gm.bind(a),c.addEventListener("load",d),c.addEventListener("error",d))}}var r1=0;function wz(a,c){return a.stylesheets&&a.count===0&&Jm(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&Jm(a,a.stylesheets),a.unsuspend){var k=a.unsuspend;a.unsuspend=null,k()}},6e4+c);0<a.imgBytes&&r1===0&&(r1=62500*ez());var x=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Jm(a,a.stylesheets),a.unsuspend)){var k=a.unsuspend;a.unsuspend=null,k()}},(a.imgBytes>r1?50:800)+c);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function Gm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qm=null;function Jm(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qm=new Map,c.forEach(xz,a),Qm=null,Gm.call(a))}function xz(a,c){if(!(c.state.loading&4)){var d=Qm.get(a);if(d)var m=d.get(null);else{d=new Map,Qm.set(a,d);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<x.length;k++){var L=x[k];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(d.set(L.dataset.precedence,L),m=L)}m&&d.set(null,m)}x=c.instance,L=x.getAttribute("data-precedence"),k=d.get(L)||m,k===m&&d.set(null,x),d.set(L,x),this.count++,m=Gm.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),k?k.parentNode.insertBefore(x,k.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),c.state.loading|=4}}var yh={$$typeof:O,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Sz(a,c,d,m,x,k,L,W,ce){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Go(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.hiddenUpdates=Go(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=k,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function LE(a,c,d,m,x,k,L,W,ce,De,$e,qe){return a=new Sz(a,c,d,L,ce,De,$e,qe,W),c=1,k===!0&&(c|=24),k=Pi(3,null,null,c),a.current=k,k.stateNode=a,c=P0(),c.refCount++,a.pooledCache=c,c.refCount++,k.memoizedState={element:m,isDehydrated:d,cache:c},$0(k),a}function BE(a){return a?(a=os,a):os}function IE(a,c,d,m,x,k){x=BE(x),m.context===null?m.context=x:m.pendingContext=x,m=nl(c),m.payload={element:d},k=k===void 0?null:k,k!==null&&(m.callback=k),d=rl(a,m,c),d!==null&&(Ci(d,a,c),Xd(d,a,c))}function $E(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<c?d:c}}function i1(a,c){$E(a,c),(a=a.alternate)&&$E(a,c)}function FE(a){if(a.tag===13||a.tag===31){var c=ro(a,67108864);c!==null&&Ci(c,a,67108864),i1(a,67108864)}}function UE(a){if(a.tag===13||a.tag===31){var c=Fi();c=gd(c);var d=ro(a,c);d!==null&&Ci(d,a,c),i1(a,c)}}var eg=!0;function _z(a,c,d,m){var x=V.T;V.T=null;var k=X.p;try{X.p=2,o1(a,c,d,m)}finally{X.p=k,V.T=x}}function Cz(a,c,d,m){var x=V.T;V.T=null;var k=X.p;try{X.p=8,o1(a,c,d,m)}finally{X.p=k,V.T=x}}function o1(a,c,d,m){if(eg){var x=s1(m);if(x===null)Kb(a,c,m,tg,d),qE(a,m);else if(Ez(x,a,c,d,m))m.stopPropagation();else if(qE(a,m),c&4&&-1<kz.indexOf(a)){for(;x!==null;){var k=gn(x);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var L=Xr(k.pendingLanes);if(L!==0){var W=k;for(W.pendingLanes|=2,W.entangledLanes|=2;L;){var ce=1<<31-nt(L);W.entanglements[1]|=ce,L&=~ce}cs(k),(cn&6)===0&&(Lm=ge()+500,dh(0))}}break;case 31:case 13:W=ro(k,2),W!==null&&Ci(W,k,2),Im(),i1(k,2)}if(k=s1(m),k===null&&Kb(a,c,m,tg,d),k===x)break;x=k}x!==null&&m.stopPropagation()}else Kb(a,c,m,null,d)}}function s1(a){return a=pu(a),a1(a)}var tg=null;function a1(a){if(tg=null,a=es(a),a!==null){var c=o(a);if(c===null)a=null;else{var d=c.tag;if(d===13){if(a=s(c),a!==null)return a;a=null}else if(d===31){if(a=l(c),a!==null)return a;a=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return tg=a,null}function HE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case Ge:return 2;case tt:return 8;case vt:case zt:return 32;case ln:return 268435456;default:return 32}default:return 32}}var l1=!1,pl=null,ml=null,gl=null,bh=new Map,wh=new Map,vl=[],kz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qE(a,c){switch(a){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":bh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(c.pointerId)}}function xh(a,c,d,m,x,k){return a===null||a.nativeEvent!==k?(a={blockedOn:c,domEventName:d,eventSystemFlags:m,nativeEvent:k,targetContainers:[x]},c!==null&&(c=gn(c),c!==null&&FE(c)),a):(a.eventSystemFlags|=m,c=a.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),a)}function Ez(a,c,d,m,x){switch(c){case"focusin":return pl=xh(pl,a,c,d,m,x),!0;case"dragenter":return ml=xh(ml,a,c,d,m,x),!0;case"mouseover":return gl=xh(gl,a,c,d,m,x),!0;case"pointerover":var k=x.pointerId;return bh.set(k,xh(bh.get(k)||null,a,c,d,m,x)),!0;case"gotpointercapture":return k=x.pointerId,wh.set(k,xh(wh.get(k)||null,a,c,d,m,x)),!0}return!1}function KE(a){var c=es(a.target);if(c!==null){var d=o(c);if(d!==null){if(c=d.tag,c===13){if(c=s(d),c!==null){a.blockedOn=c,rc(a.priority,function(){UE(d)});return}}else if(c===31){if(c=l(d),c!==null){a.blockedOn=c,rc(a.priority,function(){UE(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ng(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var d=s1(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);hu=m,d.target.dispatchEvent(m),hu=null}else return c=gn(d),c!==null&&FE(c),a.blockedOn=d,!1;c.shift()}return!0}function VE(a,c,d){ng(a)&&d.delete(c)}function Az(){l1=!1,pl!==null&&ng(pl)&&(pl=null),ml!==null&&ng(ml)&&(ml=null),gl!==null&&ng(gl)&&(gl=null),bh.forEach(VE),wh.forEach(VE)}function rg(a,c){a.blockedOn===c&&(a.blockedOn=null,l1||(l1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Az)))}var ig=null;function WE(a){ig!==a&&(ig=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ig===a&&(ig=null);for(var c=0;c<a.length;c+=3){var d=a[c],m=a[c+1],x=a[c+2];if(typeof m!="function"){if(a1(m||d)===null)continue;break}var k=gn(d);k!==null&&(a.splice(c,3),c-=3,sb(k,{pending:!0,data:x,method:d.method,action:m},m,x))}}))}function Xu(a){function c(ce){return rg(ce,a)}pl!==null&&rg(pl,a),ml!==null&&rg(ml,a),gl!==null&&rg(gl,a),bh.forEach(c),wh.forEach(c);for(var d=0;d<vl.length;d++){var m=vl[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<vl.length&&(d=vl[0],d.blockedOn===null);)KE(d),d.blockedOn===null&&vl.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var x=d[m],k=d[m+1],L=x[cr]||null;if(typeof k=="function")L||WE(d);else if(L){var W=null;if(k&&k.hasAttribute("formAction")){if(x=k,L=k[cr]||null)W=L.formAction;else if(a1(x)!==null)continue}else W=L.action;typeof W=="function"?d[m+1]=W:(d.splice(m,3),m-=3),WE(d)}}}function YE(){function a(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(L){return x=L})},focusReset:"manual",scroll:"manual"})}function c(){x!==null&&(x(),x=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),x!==null&&(x(),x=null)}}}function c1(a){this._internalRoot=a}og.prototype.render=c1.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,m=Fi();IE(d,m,a,c,null,null)},og.prototype.unmount=c1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;IE(a.current,2,null,a,null,null),Im(),c[di]=null}};function og(a){this._internalRoot=a}og.prototype.unstable_scheduleHydration=function(a){if(a){var c=nc();a={blockedOn:null,target:a,priority:c};for(var d=0;d<vl.length&&c!==0&&c<vl[d].priority;d++);vl.splice(d,0,a),d===0&&KE(a)}};var ZE=e.version;if(ZE!=="19.2.0")throw Error(r(527,ZE,"19.2.0"));X.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(c),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var Oz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sg.isDisabled&&sg.supportsFiber)try{St=sg.inject(Oz),$t=sg}catch{}}return _h.createRoot=function(a,c){if(!i(a))throw Error(r(299));var d=!1,m="",x=nk,k=rk,L=ik;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError)),c=LE(a,1,!1,null,null,d,m,null,x,k,L,YE),a[di]=c.current,qb(a),new c1(c)},_h.hydrateRoot=function(a,c,d){if(!i(a))throw Error(r(299));var m=!1,x="",k=nk,L=rk,W=ik,ce=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(k=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(W=d.onRecoverableError),d.formState!==void 0&&(ce=d.formState)),c=LE(a,1,!0,c,d??null,m,x,ce,k,L,W,YE),c.context=BE(null),d=c.current,m=Fi(),m=gd(m),x=nl(m),x.callback=null,rl(d,x,m),d=m,c.current.lanes=d,eo(c,d),cs(c),a[di]=c.current,qb(a),new og(c)},_h.version="19.2.0",_h}var oA;function Bz(){if(oA)return d1.exports;oA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d1.exports=Lz(),d1.exports}var Iz=Bz();const $z=eu(Iz);var ys=function(){return ys=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ys.apply(this,arguments)};function BT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tu(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{f(r.next(h))}catch(p){s(p)}}function u(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?o(h.value):i(h.value).then(l,u)}f((r=r.apply(t,e||[])).next())})}function Fz(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Xg="right-scroll-bar-position",Gg="width-before-scroll-bar",Uz="with-scroll-bars-hidden",Hz="--removed-body-scroll-bar-size";function g1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qz(t,e){var n=P.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Kz=typeof window<"u"?P.useLayoutEffect:P.useEffect,sA=new WeakMap;function Vz(t,e){var n=qz(null,function(r){return t.forEach(function(i){return g1(i,r)})});return Kz(function(){var r=sA.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(l){o.has(l)||g1(l,null)}),o.forEach(function(l){i.has(l)||g1(l,s)})}sA.set(n,t)},[t]),n}function Wz(t){return t}function Yz(t,e){e===void 0&&(e=Wz);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(o),s=n}var u=function(){var h=s;s=[],h.forEach(o)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(h){s.push(h),f()},filter:function(h){return s=s.filter(h),n}}}};return i}function Zz(t){t===void 0&&(t={});var e=Yz(null);return e.options=ys({async:!0,ssr:!1},t),e}var IT=function(t){var e=t.sideCar,n=BT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,ys({},n))};IT.isSideCarExport=!0;function Xz(t,e){return t.useMedium(e),IT}var $T=Zz(),v1=function(){},sy=P.forwardRef(function(t,e){var n=P.useRef(null),r=P.useState({onScrollCapture:v1,onWheelCapture:v1,onTouchMoveCapture:v1}),i=r[0],o=r[1],s=t.forwardProps,l=t.children,u=t.className,f=t.removeScrollBar,h=t.enabled,p=t.shards,g=t.sideCar,v=t.noRelative,b=t.noIsolation,y=t.inert,_=t.allowPinchZoom,E=t.as,A=E===void 0?"div":E,O=t.gapMode,T=BT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,N=Vz([n,e]),j=ys(ys({},T),i);return P.createElement(P.Fragment,null,h&&P.createElement(R,{sideCar:$T,removeScrollBar:f,shards:p,noRelative:v,noIsolation:b,inert:y,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:O}),s?P.cloneElement(P.Children.only(l),ys(ys({},j),{ref:N})):P.createElement(A,ys({},j,{className:u,ref:N}),l))});sy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sy.classNames={fullWidth:Gg,zeroRight:Xg};var Gz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Gz();return e&&t.setAttribute("nonce",e),t}function Jz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eP(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tP=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Qz())&&(Jz(e,n),eP(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nP=function(){var t=tP();return function(e,n){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},FT=function(){var t=nP(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},rP={left:0,top:0,right:0,gap:0},y1=function(t){return parseInt(t||"",10)||0},iP=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[y1(n),y1(r),y1(i)]},oP=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return rP;var e=iP(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},sP=FT(),gf="data-scroll-locked",aP=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Uz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(gf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xg,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Gg,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xg," .").concat(Xg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gg," .").concat(Gg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gf,`] {
    `).concat(Hz,": ").concat(l,`px;
  }
`)},aA=function(){var t=parseInt(document.body.getAttribute(gf)||"0",10);return isFinite(t)?t:0},lP=function(){P.useEffect(function(){return document.body.setAttribute(gf,(aA()+1).toString()),function(){var t=aA()-1;t<=0?document.body.removeAttribute(gf):document.body.setAttribute(gf,t.toString())}},[])},cP=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;lP();var o=P.useMemo(function(){return oP(i)},[i]);return P.createElement(sP,{styles:aP(o,!e,i,n?"":"!important")})},Ew=!1;if(typeof window<"u")try{var ag=Object.defineProperty({},"passive",{get:function(){return Ew=!0,!0}});window.addEventListener("test",ag,ag),window.removeEventListener("test",ag,ag)}catch{Ew=!1}var Gu=Ew?{passive:!1}:!1,uP=function(t){return t.tagName==="TEXTAREA"},UT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uP(t)&&n[e]==="visible")},fP=function(t){return UT(t,"overflowY")},dP=function(t){return UT(t,"overflowX")},lA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=HT(t,r);if(i){var o=qT(t,r),s=o[1],l=o[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hP=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pP=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},HT=function(t,e){return t==="v"?fP(e):dP(e)},qT=function(t,e){return t==="v"?hP(e):pP(e)},mP=function(t,e){return t==="h"&&e==="rtl"?-1:1},gP=function(t,e,n,r,i){var o=mP(t,window.getComputedStyle(e).direction),s=o*r,l=n.target,u=e.contains(l),f=!1,h=s>0,p=0,g=0;do{if(!l)break;var v=qT(t,l),b=v[0],y=v[1],_=v[2],E=y-_-o*b;(b||E)&&HT(t,l)&&(p+=E,g+=b);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(f=!0),f},lg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cA=function(t){return[t.deltaX,t.deltaY]},uA=function(t){return t&&"current"in t?t.current:t},vP=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yP=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},bP=0,Qu=[];function wP(t){var e=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(bP++)[0],o=P.useState(FT)[0],s=P.useRef(t);P.useEffect(function(){s.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Fz([t.lockRef.current],(t.shards||[]).map(uA),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=P.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var E=lg(y),A=n.current,O="deltaX"in y?y.deltaX:A[0]-E[0],T="deltaY"in y?y.deltaY:A[1]-E[1],R,N=y.target,j=Math.abs(O)>Math.abs(T)?"h":"v";if("touches"in y&&j==="h"&&N.type==="range")return!1;var U=lA(j,N);if(!U)return!0;if(U?R=j:(R=j==="v"?"h":"v",U=lA(j,N)),!U)return!1;if(!r.current&&"changedTouches"in y&&(O||T)&&(r.current=R),!R)return!0;var H=r.current||R;return gP(H,_,y,H==="h"?O:T)},[]),u=P.useCallback(function(y){var _=y;if(!(!Qu.length||Qu[Qu.length-1]!==o)){var E="deltaY"in _?cA(_):lg(_),A=e.current.filter(function(R){return R.name===_.type&&(R.target===_.target||_.target===R.shadowParent)&&vP(R.delta,E)})[0];if(A&&A.should){_.cancelable&&_.preventDefault();return}if(!A){var O=(s.current.shards||[]).map(uA).filter(Boolean).filter(function(R){return R.contains(_.target)}),T=O.length>0?l(_,O[0]):!s.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),f=P.useCallback(function(y,_,E,A){var O={name:y,delta:_,target:E,should:A,shadowParent:xP(E)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(T){return T!==O})},1)},[]),h=P.useCallback(function(y){n.current=lg(y),r.current=void 0},[]),p=P.useCallback(function(y){f(y.type,cA(y),y.target,l(y,t.lockRef.current))},[]),g=P.useCallback(function(y){f(y.type,lg(y),y.target,l(y,t.lockRef.current))},[]);P.useEffect(function(){return Qu.push(o),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Gu),document.addEventListener("touchmove",u,Gu),document.addEventListener("touchstart",h,Gu),function(){Qu=Qu.filter(function(y){return y!==o}),document.removeEventListener("wheel",u,Gu),document.removeEventListener("touchmove",u,Gu),document.removeEventListener("touchstart",h,Gu)}},[]);var v=t.removeScrollBar,b=t.inert;return P.createElement(P.Fragment,null,b?P.createElement(o,{styles:yP(i)}):null,v?P.createElement(cP,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xP(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SP=Xz($T,wP);var yv=P.forwardRef(function(t,e){return P.createElement(sy,ys({},t,{ref:e,sideCar:SP}))});yv.classNames=sy.classNames;function _s(t){return Object.keys(t)}function b1(t){return t&&typeof t=="object"&&!Array.isArray(t)}function SS(t,e){const n={...t},r=e;return b1(t)&&b1(e)&&Object.keys(e).forEach(i=>{b1(r[i])&&i in t?n[i]=SS(n[i],r[i]):n[i]=r[i]}),n}function _P(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function CP(t){return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:t.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function kP(t){const e=CP(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function fA(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function KT(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?fA(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${t}`;return e?fA(o):o}}return r}return n}const Ke=KT("rem",{shouldScale:!0}),dA=KT("em");function ay(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function VT(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(r=>e.test(r))}return!1}function zs(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==P.Fragment:!1}function Wo(t){const e=P.createContext(null);return[({children:i,value:o})=>S.jsx(e.Provider,{value:o,children:i}),()=>{const i=P.useContext(e);if(i===null)throw new Error(t);return i}]}function Xf(t=null){const e=P.createContext(t);return[({children:i,value:o})=>S.jsx(e.Provider,{value:o,children:i}),()=>P.useContext(e)]}function bv(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function EP(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function AP(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function OP(t,e,n){return bv(t,n)===bv(e,n)}function WT({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return l=>{n?.(l);const u=Array.from(bv(l.currentTarget,t)?.querySelectorAll(e)||[]).filter(g=>OP(l.currentTarget,g,t)),f=u.findIndex(g=>l.currentTarget===g),h=AP(f,u,r),p=EP(f,u,r);switch(l.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{l.stopPropagation(),l.preventDefault(),u[p].focus(),i&&u[p].click();break}case"ArrowDown":{l.stopPropagation(),l.preventDefault(),u[h].focus(),i&&u[h].click();break}case"Home":{l.stopPropagation(),l.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const g=u.length-1;!u[g].disabled&&u[g].focus();break}}}}const TP={app:100,modal:200,popover:300,overlay:400,max:9999};function Or(t){return TP[t]}const YT=()=>{};function DP(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||YT:n=>{n.key==="Escape"&&(t(n),e.onTrigger?.())}}function Sn(t,e="size",n=!0){if(t!==void 0)return VT(t)?n?Ke(t):t:`var(--${e}-${t})`}function ly(t){return Sn(t,"mantine-spacing")}function Lr(t){return t===void 0?"var(--mantine-radius-default)":Sn(t,"mantine-radius")}function li(t){return Sn(t,"mantine-font-size")}function RP(t){return Sn(t,"mantine-line-height",!1)}function _S(t){if(t)return Sn(t,"mantine-shadow",!1)}function Ai(t,e){return n=>{t?.(n),e?.(n)}}function MP(t,e,n){return n?Array.from(bv(n,e)?.querySelectorAll(t)||[]).findIndex(r=>r===n):null}function NP(t,e,n){return n===void 0?Math.max(t,e):Math.min(Math.max(t,e),n)}function Tl(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}function hA(t){return typeof t!="string"?"":t.charAt(0).toUpperCase()+t.slice(1)}function Nc(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>((...n)=>e.current?.(...n)),[])}function cy(t,e){const{delay:n,flushOnUnmount:r,leading:i}=typeof e=="number"?{delay:e,flushOnUnmount:!1,leading:!1}:e,o=Nc(t),s=P.useRef(0),l=P.useMemo(()=>{const u=Object.assign((...f)=>{window.clearTimeout(s.current);const h=u._isFirstCall;u._isFirstCall=!1;function p(){window.clearTimeout(s.current),s.current=0,u._isFirstCall=!0}if(i&&h){o(...f);const b=()=>{p()},y=()=>{s.current!==0&&(p(),o(...f))},_=()=>{p()};u.flush=y,u.cancel=_,s.current=window.setTimeout(b,n);return}if(i&&!h){const b=()=>{s.current!==0&&(p(),o(...f))},y=()=>{p()};u.flush=b,u.cancel=y;const _=()=>{p()};s.current=window.setTimeout(_,n);return}const g=()=>{s.current!==0&&(p(),o(...f))},v=()=>{p()};u.flush=g,u.cancel=v,s.current=window.setTimeout(g,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return u},[o,n,i]);return P.useEffect(()=>()=>{r?l.flush():l.cancel()},[l,r]),l}const jP=["mousedown","touchstart"];function zP(t,e,n){const r=P.useRef(null),i=e||jP;return P.useEffect(()=>{const o=s=>{const{target:l}=s??{};if(Array.isArray(n)){const u=!document.body.contains(l)&&l?.tagName!=="HTML";n.every(h=>!!h&&!s.composedPath().includes(h))&&!u&&t(s)}else r.current&&!r.current.contains(l)&&t(s)};return i.forEach(s=>document.addEventListener(s,o)),()=>{i.forEach(s=>document.removeEventListener(s,o))}},[r,t,n]),r}function PP(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function LP(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function ZT(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=P.useState(n?e:LP(t));return P.useEffect(()=>{try{const o=window.matchMedia(t);return i(o.matches),PP(o,s=>i(s.matches))}catch{return}},[t]),r||!1}function BP(t,e){return ZT("(prefers-color-scheme: dark)",t==="dark",e)?"dark":"light"}const nu=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Dl(t,e){const n=P.useRef(!1);P.useEffect(()=>()=>{n.current=!1},[]),P.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function XT({opened:t,shouldReturnFocus:e=!0}){const n=P.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return Dl(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[t,e]),r}const IP=/input|select|textarea|button|object/,GT="a, input, select, textarea, button, object, [tabindex]";function $P(t){return t.style.display==="none"}function FP(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if($P(n))return!1;n=n.parentNode}return!0}function QT(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function Aw(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(QT(t));return(IP.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&FP(t)}function JT(t){const e=QT(t);return(Number.isNaN(e)||e>=0)&&Aw(t)}function UP(t){return Array.from(t.querySelectorAll(GT)).filter(JT)}function HP(t,e){const n=UP(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let o=r===i.activeElement||t===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(h=>h.getAttribute("type")==="radio"&&h.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;e.preventDefault();const u=n[e.shiftKey?n.length-1:0];u&&u.focus()}function qP(t=!0){const e=P.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const s=Array.from(i.querySelectorAll(GT));o=s.find(JT)||s.find(Aw)||null,!o&&Aw(i)&&(o=i)}o&&o.focus({preventScroll:!0})},r=P.useCallback(i=>{t&&i!==null&&e.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),e.current=i):e.current=null)},[t]);return P.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const i=o=>{o.key==="Tab"&&e.current&&HP(e.current,o)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t]),r}const KP=t=>(t+1)%1e6;function VP(){const[,t]=P.useReducer(KP,0);return t}const WP=Tt.useId||(()=>{});function YP(){const t=WP();return t?`mantine-${t.replace(/:/g,"")}`:""}function Ps(t){const e=YP(),[n,r]=P.useState(e);return nu(()=>{r(Tl())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function ZP(t,e,n){P.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function Jh(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function XP(...t){const e=new Map;return n=>{if(t.forEach(r=>{const i=Jh(r,n);i&&e.set(r,i)}),e.size>0)return()=>{t.forEach(r=>{const i=e.get(r);i&&typeof i=="function"?i():Jh(r,null)}),e.clear()}}}function kr(...t){return P.useCallback(XP(...t),t)}function Os({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,o]=P.useState(e!==void 0?e:n),s=(l,...u)=>{o(l),r?.(l,...u)};return t!==void 0?[t,r,!0]:[i,s,!1]}function CS(t,e){return ZT("(prefers-reduced-motion: reduce)",t,e)}const GP={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"escape",Esc:"escape",esc:"escape",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function cg(t){const e=t.replace("Key","").toLowerCase();return GP[t]||e}function QP(t){const e=t.toLowerCase().split("+").map(o=>o.trim()),n={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift"),plus:e.includes("[plus]")},r=["alt","ctrl","meta","shift","mod"],i=e.find(o=>!r.includes(o));return{...n,key:i==="[plus]"?"+":i}}function JP(t,e,n){const{alt:r,ctrl:i,meta:o,mod:s,shift:l,key:u}=t,{altKey:f,ctrlKey:h,metaKey:p,shiftKey:g,key:v,code:b}=e;if(r!==f)return!1;if(s){if(!h&&!p)return!1}else if(i!==h||o!==p)return!1;return l!==g?!1:!!(u&&(n?cg(b)===cg(u):cg(v??b)===cg(u)))}function eL(t,e){return n=>JP(QP(t),n,e)}function tL(t,e,n=!1){return t.target instanceof HTMLElement?(n||!t.target.isContentEditable)&&!e.includes(t.target.tagName):!0}function Gf(t,e=["INPUT","TEXTAREA","SELECT"],n=!1){P.useEffect(()=>{const r=i=>{t.forEach(([o,s,l={preventDefault:!0,usePhysicalKeys:!1}])=>{eL(o,l.usePhysicalKeys)(i)&&tL(i,e,n)&&(l.preventDefault&&i.preventDefault(),s(i))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[t])}function eD(t=!1,e={}){const[n,r]=P.useState(t),i=P.useCallback(()=>{r(l=>l||(e.onOpen?.(),!0))},[e.onOpen]),o=P.useCallback(()=>{r(l=>l&&(e.onClose?.(),!1))},[e.onClose]),s=P.useCallback(()=>{n?o():i()},[o,i,n]);return[n,{open:i,close:o,toggle:s}]}function nL(t){const e=P.useRef(void 0);return P.useEffect(()=>{e.current=t},[t]),e.current}const rL={multiple:!0,accept:"*"};function iL(t){if(!t)return null;if(t instanceof FileList)return t;const e=new DataTransfer;for(const n of t)e.items.add(n);return e.files}function oL(t){if(typeof document>"u")return null;const e=document.createElement("input");return e.type="file",t.accept&&(e.accept=t.accept),t.multiple&&(e.multiple=t.multiple),t.capture&&(e.capture=t.capture),t.directory&&(e.webkitdirectory=t.directory),e.style.display="none",e}function sL(t={}){const e={...rL,...t},[n,r]=P.useState(iL(e.initialFiles)),i=P.useRef(null),o=P.useCallback(f=>{const h=f.target;h?.files&&(r(h.files),e.onChange?.(h.files))},[e.onChange]),s=P.useCallback(()=>{i.current?.remove(),i.current=oL(e),i.current&&(i.current.addEventListener("change",o,{once:!0}),document.body.appendChild(i.current))},[e,o]);nu(()=>(s(),()=>i.current?.remove()),[]);const l=P.useCallback(()=>{r(null),e.onChange?.(null)},[e.onChange]),u=P.useCallback(()=>{e.resetOnOpen&&l(),s(),i.current?.click()},[e.resetOnOpen,l,s]);return{files:n,open:u,reset:l}}function aL(t,e){window.dispatchEvent(new CustomEvent(t,{detail:e}))}function lL(t){function e(r){const i=Object.keys(r).reduce((o,s)=>(o[`${t}:${s}`]=l=>r[s](l.detail),o),{});nu(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>aL(`${t}:${String(r)}`,i[0])}return[e,n]}function uy(t){const e=Tt.version;return typeof Tt.version!="string"||e.startsWith("18.")?t?.ref:t?.props?.ref}function tD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tD(t))&&(r&&(r+=" "),r+=e);return r}const cL={};function uL(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=Zr(e[r],i):e[r]=i})}),e}function Cp({theme:t,classNames:e,props:n,stylesCtx:r}){const o=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,r):s||cL);return uL(o)}function ep({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((o,s)=>typeof s=="function"?{...o,...s(t,n,r)}:{...o,...s},{})}const kS=P.createContext(null);function Hl(){const t=P.useContext(kS);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function fL(){return Hl().cssVariablesResolver}function dL(){return Hl().classNamesPrefix}function fy(){return Hl().getStyleNonce}function hL(){return Hl().withStaticClasses}function pL(){return Hl().headless}function mL(){return Hl().stylesTransform?.sx}function gL(){return Hl().stylesTransform?.styles}function dy(){return Hl().env||"default"}function vL(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function yL(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function bL(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i===void 0?1:i}}function wL(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,l=(1-Math.abs(2*o-1))*i,u=r/60,f=l*(1-Math.abs(u%2-1)),h=o-l/2;let p,g,v;return u>=0&&u<1?(p=l,g=f,v=0):u>=1&&u<2?(p=f,g=l,v=0):u>=2&&u<3?(p=0,g=l,v=f):u>=3&&u<4?(p=0,g=f,v=l):u>=4&&u<5?(p=f,g=0,v=l):(p=l,g=0,v=f),{r:Math.round((p+h)*255),g:Math.round((g+h)*255),b:Math.round((v+h)*255),a:s||1}}function ES(t){return vL(t)?yL(t):t.startsWith("rgb")?bL(t):t.startsWith("hsl")?wL(t):{r:0,g:0,b:0,a:1}}function ug(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:o}=ES(t),s=1-e,l=u=>Math.round(u*s);return`rgba(${l(n)}, ${l(r)}, ${l(i)}, ${o})`}function tp(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function w1(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function xL(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function SL(t){if(t.startsWith("oklch("))return(xL(t)||0)/100;const{r:e,g:n,b:r}=ES(t),i=e/255,o=n/255,s=r/255,l=w1(i),u=w1(o),f=w1(s);return .2126*l+.7152*u+.0722*f}function Ch(t,e=.179){return t.startsWith("var(")?!1:SL(t)>e}function Ls({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ch(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ch(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ch(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),o=i?Number(i):void 0,s=r in e.colors;if(s){const l=o!==void 0?e.colors[r][o]:e.colors[r][tp(e,n||"light")];return{color:r,value:l,shade:o,isThemeColor:s,isLight:Ch(l,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:Ch(t,e.luminanceThreshold),shade:o,variable:void 0}}function Yi(t,e){const n=Ls({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function Ow(t,e){const n={from:t?.from||e.defaultGradient.from,to:t?.to||e.defaultGradient.to,deg:t?.deg??e.defaultGradient.deg??0},r=Yi(n.from,e),i=Yi(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function vs(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const o=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${o}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=ES(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const Ju=vs,_L=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const o=Ls({color:t,theme:e}),s=typeof i=="boolean"?i:e.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const l=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:l,border:`${Ke(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:l,border:`${Ke(1)} solid transparent`}:{background:t,hover:ug(t,.1),color:l,border:`${Ke(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Ke(1)} solid transparent`};const l=e.colors[o.color][o.shade];return{background:vs(l,.1),hover:vs(l,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ke(1)} solid transparent`}}return{background:vs(t,.1),hover:vs(t,.12),color:t,border:`${Ke(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${Ke(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:vs(e.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ke(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:vs(t,.05),color:t,border:`${Ke(1)} solid ${t}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Ke(1)} solid transparent`};const l=e.colors[o.color][o.shade];return{background:"transparent",hover:vs(l,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ke(1)} solid transparent`}}return{background:"transparent",hover:vs(t,.12),color:t,border:`${Ke(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${Ke(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ke(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${Ke(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:ug(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${Ke(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ug(e.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ke(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ug(e.white,.01),color:t,border:`${Ke(1)} solid transparent`}:n==="gradient"?{background:Ow(r,e),hover:Ow(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ke(1)} solid var(--mantine-color-default-border)`}:{}},CL={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},pA="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",AS={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:CL,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:_L,autoContrast:!1,luminanceThreshold:.3,fontFamily:pA,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:pA,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ke(34),lineHeight:"1.3"},h2:{fontSize:Ke(26),lineHeight:"1.35"},h3:{fontSize:Ke(22),lineHeight:"1.4"},h4:{fontSize:Ke(18),lineHeight:"1.45"},h5:{fontSize:Ke(16),lineHeight:"1.5"},h6:{fontSize:Ke(14),lineHeight:"1.5"}}},fontSizes:{xs:Ke(12),sm:Ke(14),md:Ke(16),lg:Ke(18),xl:Ke(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ke(2),sm:Ke(4),md:Ke(8),lg:Ke(16),xl:Ke(32)},spacing:{xs:Ke(10),sm:Ke(12),md:Ke(16),lg:Ke(20),xl:Ke(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ke(1)} ${Ke(3)} rgba(0, 0, 0, 0.05), 0 ${Ke(1)} ${Ke(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ke(1)} ${Ke(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ke(10)} ${Ke(15)} ${Ke(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ke(7)} ${Ke(7)} ${Ke(-5)}`,md:`0 ${Ke(1)} ${Ke(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ke(20)} ${Ke(25)} ${Ke(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ke(10)} ${Ke(10)} ${Ke(-5)}`,lg:`0 ${Ke(1)} ${Ke(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ke(28)} ${Ke(23)} ${Ke(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ke(12)} ${Ke(12)} ${Ke(-7)}`,xl:`0 ${Ke(1)} ${Ke(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ke(36)} ${Ke(28)} ${Ke(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ke(17)} ${Ke(17)} ${Ke(-7)}`},other:{},components:{}};function mA(t){return t==="auto"||t==="dark"||t==="light"}function kL({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return mA(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&mA(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const EL="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",gA="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function x1(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function vA(t){if(!(t.primaryColor in t.colors))throw new Error(EL);if(typeof t.primaryShade=="object"&&(!x1(t.primaryShade.dark)||!x1(t.primaryShade.light)))throw new Error(gA);if(typeof t.primaryShade=="number"&&!x1(t.primaryShade))throw new Error(gA)}function AL(t,e){if(!e)return vA(t),t;const n=SS(t,e);return e.fontFamily&&!e.headings?.fontFamily&&(n.headings.fontFamily=e.fontFamily),vA(n),n}const OS=P.createContext(null),OL=()=>P.useContext(OS)||AS;function ui(){const t=P.useContext(OS);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function nD({theme:t,children:e,inherit:n=!0}){const r=OL(),i=P.useMemo(()=>AL(n?r:AS,t),[t,r,n]);return S.jsx(OS.Provider,{value:i,children:e})}nD.displayName="@mantine/core/MantineThemeProvider";function TL(){const t=ui(),e=fy(),n=_s(t.breakpoints).reduce((r,i)=>{const o=t.breakpoints[i].includes("px"),s=kP(t.breakpoints[i]),l=o?`${s-.1}px`:dA(s-.1),u=o?`${s}px`:dA(s);return`${r}@media (max-width: ${l}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return S.jsx("style",{"data-mantine-styles":"classes",nonce:e?.(),dangerouslySetInnerHTML:{__html:n}})}function S1(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function kh(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function DL(t,e){const n=S1(t.variables),r=n?kh(e,n):"",i=S1(t.dark),o=S1(t.light),s=i?kh(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,i):"",l=o?kh(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,o):"";return`${r}

${s}

${l}`}function hy({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Ls({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function yA(t,e){return hy({color:t.colors[t.primaryColor][tp(t,e)],theme:t,autoContrast:null})}function fg({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const l=tp(t,"light"),u={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${l})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${l===9?8:l+1})`,[`--mantine-color-${r}-light`]:Ju(t.colors[e][l],.1),[`--mantine-color-${r}-light-hover`]:Ju(t.colors[e][l],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${l})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${l})`,[`--mantine-color-${r}-outline-hover`]:Ju(t.colors[e][l],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...u}:u}const o=tp(t,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:Ju(t.colors[e][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:Ju(t.colors[e][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Ju(t.colors[e][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...s}:s}function RL(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function ef(t,e,n){_s(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const rD=t=>{const e=tp(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:Ke(t.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":yA(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":yA(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};ef(r.variables,t.breakpoints,"breakpoint"),ef(r.variables,t.spacing,"spacing"),ef(r.variables,t.fontSizes,"font-size"),ef(r.variables,t.lineHeights,"line-height"),ef(r.variables,t.shadows,"shadow"),ef(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),_s(t.colors).forEach(o=>{const s=t.colors[o];if(RL(s)){Object.assign(r.light,fg({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,fg({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((l,u)=>{r.variables[`--mantine-color-${o}-${u}`]=l}),Object.assign(r.light,fg({theme:t,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,fg({theme:t,color:o,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return _s(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||t.headings.fontWeight}),r};function ML({theme:t,generator:e}){const n=rD(t),r=e?.(t);return r?SS(n,r):n}const _1=rD(AS);function NL(t){const e={variables:{},light:{},dark:{}};return _s(t.variables).forEach(n=>{_1.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),_s(t.light).forEach(n=>{_1.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),_s(t.dark).forEach(n=>{_1.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function jL(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function iD({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=ui(),r=fy(),i=fL(),o=ML({theme:n,generator:i}),s=t===":root"&&e,l=s?NL(o):o,u=DL(l,t);return u?S.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${u}${s?"":jL(t)}`}}):null}iD.displayName="@mantine/CssVariables";function tf(t,e){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=t!=="auto"?t:n?"dark":"light";e()?.setAttribute("data-mantine-color-scheme",r)}function zL({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=P.useRef(null),[o,s]=P.useState(()=>t.get(e)),l=r||o,u=P.useCallback(h=>{r||(tf(h,n),s(h),t.set(h))},[t.set,l,r]),f=P.useCallback(()=>{s(e),tf(e,n),t.clear()},[t.clear,e]);return P.useEffect(()=>(t.subscribe(u),t.unsubscribe),[t.subscribe,t.unsubscribe]),nu(()=>{tf(t.get(e),n)},[]),P.useEffect(()=>{if(r)return tf(r,n),()=>{};r===void 0&&tf(o,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const h=p=>{o==="auto"&&tf(p.matches?"dark":"light",n)};return i.current?.addEventListener("change",h),()=>i.current?.removeEventListener("change",h)},[o,r]),{colorScheme:l,setColorScheme:u,clearColorScheme:f}}function PL({respectReducedMotion:t,getRootElement:e}){nu(()=>{t&&e()?.setAttribute("data-respect-reduced-motion","true")},[t])}function oD({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:l=":root",classNamesPrefix:u="mantine",colorSchemeManager:f=kL(),defaultColorScheme:h="light",getRootElement:p=()=>document.documentElement,cssVariablesResolver:g,forceColorScheme:v,stylesTransform:b,env:y}){const{colorScheme:_,setColorScheme:E,clearColorScheme:A}=zL({defaultColorScheme:h,forceColorScheme:v,manager:f,getRootElement:p});return PL({respectReducedMotion:t?.respectReducedMotion||!1,getRootElement:p}),S.jsx(kS.Provider,{value:{colorScheme:_,setColorScheme:E,clearColorScheme:A,getRootElement:p,classNamesPrefix:u,getStyleNonce:n,cssVariablesResolver:g,cssVariablesSelector:l,withStaticClasses:r,stylesTransform:b,env:y},children:S.jsxs(nD,{theme:t,children:[s&&S.jsx(iD,{cssVariablesSelector:l,deduplicateCssVariables:o}),i&&S.jsx(TL,{}),e]})})}oD.displayName="@mantine/core/MantineProvider";function ql({classNames:t,styles:e,props:n,stylesCtx:r}){const i=ui();return{resolvedClassNames:Cp({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:ep({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const LL={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function BL({theme:t,options:e,unstyled:n}){return Zr(e?.focusable&&!n&&(t.focusClassName||LL[t.focusRing]),e?.active&&!n&&t.activeClassName)}function IL({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return Cp({theme:i,classNames:n?.classNames,props:n?.props||r,stylesCtx:e})[t]}function bA({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return Cp({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function $L({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function FL({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function UL({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function HL({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(o=>Cp({theme:e,classNames:e.components[o]?.classNames,props:r,stylesCtx:i})?.[n])}function qL({options:t,classes:e,selector:n,unstyled:r}){return t?.variant&&!r?e[`${n}--${t.variant}`]:void 0}function KL({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:l,className:u,rootSelector:f,props:h,stylesCtx:p,withStaticClasses:g,headless:v,transformedStyles:b}){return Zr(BL({theme:t,options:e,unstyled:l||v}),HL({theme:t,themeName:n,selector:r,props:h,stylesCtx:p}),qL({options:e,classes:s,selector:r,unstyled:l}),bA({selector:r,stylesCtx:p,theme:t,classNames:o,props:h}),bA({selector:r,stylesCtx:p,theme:t,classNames:b,props:h}),IL({selector:r,stylesCtx:p,options:e,props:h,theme:t}),$L({rootSelector:f,selector:r,className:u}),FL({selector:r,classes:s,unstyled:l||v}),g&&!v&&UL({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e?.withStaticClass}),e?.className)}function VL({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(o=>ep({theme:t,styles:t.components[o]?.styles,props:n,stylesCtx:r})[i]).reduce((o,s)=>({...o,...s}),{})}function Tw({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...Tw({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function WL(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...ay(n[r])}}),e),{})}function YL({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:l}){return WL([l?{}:e?.(n,r,i),...s.map(u=>n.components?.[u]?.vars?.(n,r,i)),t?.(n,r,i)])?.[o]}function ZL({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:l,style:u,vars:f,varsResolver:h,headless:p,withStylesTransform:g}){return{...!g&&VL({theme:t,themeName:e,props:i,stylesCtx:o,selector:n}),...!g&&ep({theme:t,styles:l,props:i,stylesCtx:o})[n],...!g&&ep({theme:t,styles:r?.styles,props:r?.props||i,stylesCtx:o})[n],...YL({theme:t,props:i,stylesCtx:o,vars:f,varsResolver:h,selector:n,themeName:e,headless:p}),...s===n?Tw({style:u,theme:t}):null,...Tw({style:r?.style,theme:t})}}function XL({props:t,stylesCtx:e,themeName:n}){const r=ui(),i=gL()?.();return{getTransformedStyles:s=>i?[...s.map(u=>i(u,{props:t,theme:r,ctx:e})),...n.map(u=>i(r.components[u]?.styles,{props:t,theme:r,ctx:e}))].filter(Boolean):[],withStylesTransform:!!i}}function jt({name:t,classes:e,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:l,classNames:u,styles:f,vars:h,varsResolver:p,attributes:g}){const v=ui(),b=dL(),y=hL(),_=pL(),E=(Array.isArray(t)?t:[t]).filter(T=>T),{withStylesTransform:A,getTransformedStyles:O}=XL({props:n,stylesCtx:r,themeName:E});return(T,R)=>({className:KL({theme:v,options:R,themeName:E,selector:T,classNamesPrefix:b,classNames:u,classes:e,unstyled:l,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:y,headless:_,transformedStyles:O([R?.styles,f])}),style:ZL({theme:v,themeName:E,selector:T,options:R,props:n,stylesCtx:r,rootSelector:s,styles:f,style:o,vars:h,varsResolver:p,headless:_,withStylesTransform:A}),...g?.[T]})}function TS(t,e){return typeof t=="boolean"?t:e.autoContrast}function wA(t){const e=document.createElement("style");return e.setAttribute("data-mantine-styles","inline"),e.innerHTML="*, *::before, *::after {transition: none !important;}",e.setAttribute("data-mantine-disable-transition","true"),t&&e.setAttribute("nonce",t),document.head.appendChild(e),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function DS({keepTransitions:t}={}){const e=P.useRef(YT),n=P.useRef(-1),r=P.useContext(kS),i=fy(),o=P.useRef(i?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const s=p=>{r.setColorScheme(p),e.current=t?()=>{}:wA(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e.current?.()},10)},l=()=>{r.clearColorScheme(),e.current=t?()=>{}:wA(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e.current?.()},10)},u=BP("light",{getInitialValueInEffect:!1}),f=r.colorScheme==="auto"?u:r.colorScheme,h=P.useCallback(()=>s(f==="light"?"dark":"light"),[s,f]);return P.useEffect(()=>()=>{e.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:s,clearColorScheme:l,toggleColorScheme:h}}function Ze(t,e,n){const r=ui(),i=r.components[t]?.defaultProps,o=typeof i=="function"?i(r):i;return{...e,...o,...ay(n)}}function C1(t){return _s(t).reduce((e,n)=>t[n]!==void 0?`${e}${_P(n)}:${t[n]};`:e,"").trim()}function GL({selector:t,styles:e,media:n,container:r}){const i=e?C1(e):"",o=Array.isArray(n)?n.map(l=>`@media${l.query}{${t}{${C1(l.styles)}}}`):[],s=Array.isArray(r)?r.map(l=>`@container ${l.query}{${t}{${C1(l.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function sD(t){const e=fy();return S.jsx("style",{"data-mantine-styles":"inline",nonce:e?.(),dangerouslySetInnerHTML:{__html:GL(t)}})}function kp(t){const{m:e,mx:n,my:r,mt:i,mb:o,ml:s,mr:l,me:u,ms:f,p:h,px:p,py:g,pt:v,pb:b,pl:y,pr:_,pe:E,ps:A,bd:O,bdrs:T,bg:R,c:N,opacity:j,ff:U,fz:H,fw:Z,lts:te,ta:I,lh:Y,fs:M,tt:J,td:V,w:X,miw:Q,maw:ne,h:ue,mih:$,mah:q,bgsz:se,bgp:le,bgr:me,bga:je,pos:We,top:Xe,left:Ae,bottom:ht,right:Ye,inset:Je,display:ct,flex:B,hiddenFrom:Ee,visibleFrom:be,lightHidden:ee,darkHidden:G,sx:ae,...Ne}=t;return{styleProps:ay({m:e,mx:n,my:r,mt:i,mb:o,ml:s,mr:l,me:u,ms:f,p:h,px:p,py:g,pt:v,pb:b,pl:y,pr:_,pe:E,ps:A,bd:O,bg:R,c:N,opacity:j,ff:U,fz:H,fw:Z,lts:te,ta:I,lh:Y,fs:M,tt:J,td:V,w:X,miw:Q,maw:ne,h:ue,mih:$,mah:q,bgsz:se,bgp:le,bgr:me,bga:je,pos:We,top:Xe,left:Ae,bottom:ht,right:Ye,inset:Je,display:ct,flex:B,bdrs:T,hiddenFrom:Ee,visibleFrom:be,lightHidden:ee,darkHidden:G,sx:ae}),rest:Ne}}const QL={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function RS(t,e){const n=Ls({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function JL(t,e){const n=Ls({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:RS(t,e)}function eB(t,e){if(typeof t=="number")return Ke(t);if(typeof t=="string"){const[n,r,...i]=t.split(" ").filter(s=>s.trim()!=="");let o=`${Ke(n)}`;return r&&(o+=` ${r}`),i.length>0&&(o+=` ${RS(i.join(" "),e)}`),o.trim()}return t}const xA={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function tB(t){return typeof t=="string"&&t in xA?xA[t]:t}const nB=["h1","h2","h3","h4","h5","h6"];function rB(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&nB.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?Ke(t):t}function iB(t){return t}const oB=["h1","h2","h3","h4","h5","h6"];function sB(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&oB.includes(t)?`var(--mantine-${t}-line-height)`:t}function aB(t,e){return typeof t=="string"&&t in e.radius?`var(--mantine-radius-${t})`:typeof t=="number"||typeof t=="string"?Ke(t):t}function lB(t){return typeof t=="number"?Ke(t):t}function cB(t,e){if(typeof t=="number")return Ke(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return Ke(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const k1={color:RS,textColor:JL,fontSize:rB,spacing:cB,radius:aB,identity:iB,size:lB,lineHeight:sB,fontFamily:tB,border:eB};function SA(t){return t.replace("(min-width: ","").replace("em)","")}function uB({media:t,...e}){const r=Object.keys(t).sort((i,o)=>Number(SA(i))-Number(SA(o))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function fB(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function dB(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function hB(t){return typeof t=="object"&&t!==null?_s(t).filter(e=>e!=="base"):[]}function pB(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function aD({styleProps:t,data:e,theme:n}){return uB(_s(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=e[i],s=Array.isArray(o.property)?o.property:[o.property],l=dB(t[i]);if(!fB(t[i]))return s.forEach(f=>{r.inlineStyles[f]=k1[o.type](l,n)}),r;r.hasResponsiveStyles=!0;const u=hB(t[i]);return s.forEach(f=>{l!=null&&(r.styles[f]=k1[o.type](l,n)),u.forEach(h=>{const p=`(min-width: ${n.breakpoints[h]})`;r.media[p]={...r.media[p],[f]:k1[o.type](pB(t[i],h),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function lD(){return`__m__-${P.useId().replace(/[:]/g,"")}`}function cD(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...cD(r,e)}),{}):typeof t=="function"?t(e):t??{}}function uD(t){return t.startsWith("data-")?t:`data-${t}`}function mB(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[uD(n)]=t[n]),e},{})}function fD(t){return t?typeof t=="string"?{[uD(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...fD(n)}),{}):mB(t):null}function Dw(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...Dw(r,e)}),{}):typeof t=="function"?t(e):t??{}}function gB({theme:t,style:e,vars:n,styleProps:r}){const i=Dw(e,t),o=Dw(n,t);return{...i,...o,...r}}const dD=P.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:l,visibleFrom:u,lightHidden:f,darkHidden:h,renderRoot:p,__size:g,...v},b)=>{const y=ui(),_=t||"div",{styleProps:E,rest:A}=kp(v),T=mL()?.()?.(E.sx),R=lD(),N=aD({styleProps:E,theme:y,data:QL}),j={ref:b,style:gB({theme:y,style:e,vars:n,styleProps:N.inlineStyles}),className:Zr(r,T,{[R]:N.hasResponsiveStyles,"mantine-light-hidden":f,"mantine-dark-hidden":h,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${u}`]:u}),"data-variant":i,"data-size":VT(s)?void 0:s||void 0,size:g,...fD(o),...A};return S.jsxs(S.Fragment,{children:[N.hasResponsiveStyles&&S.jsx(sD,{selector:`.${R}`,styles:N.styles,media:N.media}),typeof p=="function"?p(j):S.jsx(_,{...j})]})});dD.displayName="@mantine/core/Box";const ut=dD;function hD(t){return t}function vB(t){const e=t;return n=>{const r=P.forwardRef((i,o)=>S.jsx(e,{...n,...i,ref:o}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r}}function ft(t){const e=P.forwardRef(t);return e.extend=hD,e.withProps=n=>{const r=P.forwardRef((i,o)=>S.jsx(e,{...n,...i,ref:o}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e}function Gi(t){const e=P.forwardRef(t);return e.withProps=n=>{const r=P.forwardRef((i,o)=>S.jsx(e,{...n,...i,ref:o}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e.extend=hD,e}const yB=P.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function ru(){return P.useContext(yB)}var MS=LT();const Lh=eu(MS);function py(){return typeof window<"u"}function Qf(t){return pD(t)?(t.nodeName||"").toLowerCase():"#document"}function Oi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bs(t){var e;return(e=(pD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pD(t){return py()?t instanceof Node||t instanceof Oi(t).Node:!1}function Fn(t){return py()?t instanceof Element||t instanceof Oi(t).Element:!1}function Zi(t){return py()?t instanceof HTMLElement||t instanceof Oi(t).HTMLElement:!1}function Rw(t){return!py()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Oi(t).ShadowRoot}const bB=new Set(["inline","contents"]);function Ep(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=bo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!bB.has(i)}const wB=new Set(["table","td","th"]);function xB(t){return wB.has(Qf(t))}const SB=[":popover-open",":modal"];function my(t){return SB.some(e=>{try{return t.matches(e)}catch{return!1}})}const _B=["transform","translate","scale","rotate","perspective"],CB=["transform","translate","scale","rotate","perspective","filter"],kB=["paint","layout","strict","content"];function NS(t){const e=gy(),n=Fn(t)?bo(t):t;return _B.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||CB.some(r=>(n.willChange||"").includes(r))||kB.some(r=>(n.contain||"").includes(r))}function EB(t){let e=Ca(t);for(;Zi(e)&&!ba(e);){if(NS(e))return e;if(my(e))return null;e=Ca(e)}return null}function gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const AB=new Set(["html","body","#document"]);function ba(t){return AB.has(Qf(t))}function bo(t){return Oi(t).getComputedStyle(t)}function vy(t){return Fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ca(t){if(Qf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rw(t)&&t.host||Bs(t);return Rw(e)?e.host:e}function mD(t){const e=Ca(t);return ba(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zi(e)&&Ep(e)?e:mD(e)}function wa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=mD(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Oi(i);if(o){const l=Mw(s);return e.concat(s,s.visualViewport||[],Ep(i)?i:[],l&&n?wa(l):[])}return e.concat(i,wa(i,[],n))}function Mw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const OB=["top","right","bottom","left"],Uo=Math.min,ii=Math.max,wv=Math.round,dg=Math.floor,Cs=t=>({x:t,y:t}),TB={left:"right",right:"left",bottom:"top",top:"bottom"},DB={start:"end",end:"start"};function Nw(t,e,n){return ii(t,Uo(e,n))}function Ts(t,e){return typeof t=="function"?t(e):t}function Ho(t){return t.split("-")[0]}function Jf(t){return t.split("-")[1]}function jS(t){return t==="x"?"y":"x"}function zS(t){return t==="y"?"height":"width"}const RB=new Set(["top","bottom"]);function Po(t){return RB.has(Ho(t))?"y":"x"}function PS(t){return jS(Po(t))}function MB(t,e,n){n===void 0&&(n=!1);const r=Jf(t),i=PS(t),o=zS(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=xv(s)),[s,xv(s)]}function NB(t){const e=xv(t);return[jw(t),e,jw(e)]}function jw(t){return t.replace(/start|end/g,e=>DB[e])}const _A=["left","right"],CA=["right","left"],jB=["top","bottom"],zB=["bottom","top"];function PB(t,e,n){switch(t){case"top":case"bottom":return n?e?CA:_A:e?_A:CA;case"left":case"right":return e?jB:zB;default:return[]}}function LB(t,e,n,r){const i=Jf(t);let o=PB(Ho(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(jw)))),o}function xv(t){return t.replace(/left|right|bottom|top/g,e=>TB[e])}function BB(t){return{top:0,right:0,bottom:0,left:0,...t}}function LS(t){return typeof t!="number"?BB(t):{top:t,right:t,bottom:t,left:t}}function kf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function IB(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function $B(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function FB(){return/apple/i.test(navigator.vendor)}function UB(){return IB().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function HB(){return $B().includes("jsdom/")}const kA="data-floating-ui-focusable",qB="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function EA(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function np(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Rw(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function af(t){return"composedPath"in t?t.composedPath()[0]:t.target}function E1(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function KB(t){return t.matches("html,body")}function Bc(t){return t?.ownerDocument||document}function VB(t){return Zi(t)&&t.matches(qB)}function WB(t){if(!t||HB())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function YB(t){return t?t.hasAttribute(kA)?t:t.querySelector("["+kA+"]")||t:null}function Qg(t,e,n){return n===void 0&&(n=!0),t.filter(i=>{var o;return i.parentId===e&&(!n||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...Qg(t,i.id,n)])}function ZB(t){return"nativeEvent"in t}function zw(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}var XB=typeof document<"u",GB=function(){},ks=XB?P.useLayoutEffect:GB;const QB={...PT};function hg(t){const e=P.useRef(t);return ks(()=>{e.current=t}),e}const JB=QB.useInsertionEffect,e9=JB||(t=>t());function bs(t){const e=P.useRef(()=>{});return e9(()=>{e.current=t}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function AA(t,e,n){let{reference:r,floating:i}=t;const o=Po(e),s=PS(e),l=zS(s),u=Ho(e),f=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let v;switch(u){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-i.width,y:p};break;default:v={x:r.x,y:r.y}}switch(Jf(e)){case"start":v[s]-=g*(n&&f?-1:1);break;case"end":v[s]+=g*(n&&f?-1:1);break}return v}const t9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,l=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:p}=AA(f,r,u),g=r,v={},b=0;for(let y=0;y<l.length;y++){const{name:_,fn:E}=l[y],{x:A,y:O,data:T,reset:R}=await E({x:h,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:v,rects:f,platform:s,elements:{reference:t,floating:e}});h=A??h,p=O??p,v={...v,[_]:{...v[_],...T}},R&&b<=50&&(b++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(f=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:h,y:p}=AA(f,g,u)),y=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:v}};async function rp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:l,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Ts(e,t),b=LS(v),_=l[g?p==="floating"?"reference":"floating":p],E=kf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:f,rootBoundary:h,strategy:u})),A=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),T=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},R=kf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:O,strategy:u}):A);return{top:(E.top-R.top+b.top)/T.y,bottom:(R.bottom-E.bottom+b.bottom)/T.y,left:(E.left-R.left+b.left)/T.x,right:(R.right-E.right+b.right)/T.x}}const n9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:l,middlewareData:u}=e,{element:f,padding:h=0}=Ts(t,e)||{};if(f==null)return{};const p=LS(h),g={x:n,y:r},v=PS(i),b=zS(v),y=await s.getDimensions(f),_=v==="y",E=_?"top":"left",A=_?"bottom":"right",O=_?"clientHeight":"clientWidth",T=o.reference[b]+o.reference[v]-g[v]-o.floating[b],R=g[v]-o.reference[v],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let j=N?N[O]:0;(!j||!await(s.isElement==null?void 0:s.isElement(N)))&&(j=l.floating[O]||o.floating[b]);const U=T/2-R/2,H=j/2-y[b]/2-1,Z=Uo(p[E],H),te=Uo(p[A],H),I=Z,Y=j-y[b]-te,M=j/2-y[b]/2+U,J=Nw(I,M,Y),V=!u.arrow&&Jf(i)!=null&&M!==J&&o.reference[b]/2-(M<I?Z:te)-y[b]/2<0,X=V?M<I?M-I:M-Y:0;return{[v]:g[v]+X,data:{[v]:J,centerOffset:M-J-X,...V&&{alignmentOffset:X}},reset:V}}}),r9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l,platform:u,elements:f}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,..._}=Ts(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Ho(i),A=Po(l),O=Ho(l)===l,T=await(u.isRTL==null?void 0:u.isRTL(f.floating)),R=g||(O||!y?[xv(l)]:NB(l)),N=b!=="none";!g&&N&&R.push(...LB(l,y,b,T));const j=[l,...R],U=await rp(e,_),H=[];let Z=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&H.push(U[E]),p){const M=MB(i,s,T);H.push(U[M[0]],U[M[1]])}if(Z=[...Z,{placement:i,overflows:H}],!H.every(M=>M<=0)){var te,I;const M=(((te=o.flip)==null?void 0:te.index)||0)+1,J=j[M];if(J&&(!(p==="alignment"?A!==Po(J):!1)||Z.every(Q=>Po(Q.placement)===A?Q.overflows[0]>0:!0)))return{data:{index:M,overflows:Z},reset:{placement:J}};let V=(I=Z.filter(X=>X.overflows[0]<=0).sort((X,Q)=>X.overflows[1]-Q.overflows[1])[0])==null?void 0:I.placement;if(!V)switch(v){case"bestFit":{var Y;const X=(Y=Z.filter(Q=>{if(N){const ne=Po(Q.placement);return ne===A||ne==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ne=>ne>0).reduce((ne,ue)=>ne+ue,0)]).sort((Q,ne)=>Q[1]-ne[1])[0])==null?void 0:Y[0];X&&(V=X);break}case"initialPlacement":V=l;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function OA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TA(t){return OB.some(e=>t[e]>=0)}const i9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ts(t,e);switch(r){case"referenceHidden":{const o=await rp(e,{...i,elementContext:"reference"}),s=OA(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:TA(s)}}}case"escaped":{const o=await rp(e,{...i,altBoundary:!0}),s=OA(o,n.floating);return{data:{escapedOffsets:s,escaped:TA(s)}}}default:return{}}}}};function gD(t){const e=Uo(...t.map(o=>o.left)),n=Uo(...t.map(o=>o.top)),r=ii(...t.map(o=>o.right)),i=ii(...t.map(o=>o.bottom));return{x:e,y:n,width:r-e,height:i-n}}function o9(t){const e=t.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<e.length;i++){const o=e[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>kf(gD(i)))}const s9=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=e,{padding:l=2,x:u,y:f}=Ts(t,e),h=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),p=o9(h),g=kf(gD(h)),v=LS(l);function b(){if(p.length===2&&p[0].left>p[1].right&&u!=null&&f!=null)return p.find(_=>u>_.left-v.left&&u<_.right+v.right&&f>_.top-v.top&&f<_.bottom+v.bottom)||g;if(p.length>=2){if(Po(n)==="y"){const Z=p[0],te=p[p.length-1],I=Ho(n)==="top",Y=Z.top,M=te.bottom,J=I?Z.left:te.left,V=I?Z.right:te.right,X=V-J,Q=M-Y;return{top:Y,bottom:M,left:J,right:V,width:X,height:Q,x:J,y:Y}}const _=Ho(n)==="left",E=ii(...p.map(Z=>Z.right)),A=Uo(...p.map(Z=>Z.left)),O=p.filter(Z=>_?Z.left===A:Z.right===E),T=O[0].top,R=O[O.length-1].bottom,N=A,j=E,U=j-N,H=R-T;return{top:T,bottom:R,left:N,right:j,width:U,height:H,x:N,y:T}}return g}const y=await o.getElementRects({reference:{getBoundingClientRect:b},floating:r.floating,strategy:s});return i.reference.x!==y.reference.x||i.reference.y!==y.reference.y||i.reference.width!==y.reference.width||i.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}},vD=new Set(["left","top"]);async function a9(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ho(n),l=Jf(n),u=Po(n)==="y",f=vD.has(s)?-1:1,h=o&&u?-1:1,p=Ts(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),u?{x:v*h,y:g*f}:{x:g*f,y:v*h}}const l9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:l}=e,u=await a9(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:s}}}}},c9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:_=>{let{x:E,y:A}=_;return{x:E,y:A}}},...u}=Ts(t,e),f={x:n,y:r},h=await rp(e,u),p=Po(Ho(i)),g=jS(p);let v=f[g],b=f[p];if(o){const _=g==="y"?"top":"left",E=g==="y"?"bottom":"right",A=v+h[_],O=v-h[E];v=Nw(A,v,O)}if(s){const _=p==="y"?"top":"left",E=p==="y"?"bottom":"right",A=b+h[_],O=b-h[E];b=Nw(A,b,O)}const y=l.fn({...e,[g]:v,[p]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[g]:o,[p]:s}}}}}},u9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=Ts(t,e),h={x:n,y:r},p=Po(i),g=jS(p);let v=h[g],b=h[p];const y=Ts(l,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const O=g==="y"?"height":"width",T=o.reference[g]-o.floating[O]+_.mainAxis,R=o.reference[g]+o.reference[O]-_.mainAxis;v<T?v=T:v>R&&(v=R)}if(f){var E,A;const O=g==="y"?"width":"height",T=vD.has(Ho(i)),R=o.reference[p]-o.floating[O]+(T&&((E=s.offset)==null?void 0:E[p])||0)+(T?0:_.crossAxis),N=o.reference[p]+o.reference[O]+(T?0:((A=s.offset)==null?void 0:A[p])||0)-(T?_.crossAxis:0);b<R?b=R:b>N&&(b=N)}return{[g]:v,[p]:b}}}},f9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:l}=e,{apply:u=()=>{},...f}=Ts(t,e),h=await rp(e,f),p=Ho(i),g=Jf(i),v=Po(i)==="y",{width:b,height:y}=o.floating;let _,E;p==="top"||p==="bottom"?(_=p,E=g===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(E=p,_=g==="end"?"top":"bottom");const A=y-h.top-h.bottom,O=b-h.left-h.right,T=Uo(y-h[_],A),R=Uo(b-h[E],O),N=!e.middlewareData.shift;let j=T,U=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(U=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=A),N&&!g){const Z=ii(h.left,0),te=ii(h.right,0),I=ii(h.top,0),Y=ii(h.bottom,0);v?U=b-2*(Z!==0||te!==0?Z+te:ii(h.left,h.right)):j=y-2*(I!==0||Y!==0?I+Y:ii(h.top,h.bottom))}await u({...e,availableWidth:U,availableHeight:j});const H=await s.getDimensions(l.floating);return b!==H.width||y!==H.height?{reset:{rects:!0}}:{}}}};function yD(t){const e=bo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zi(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,l=wv(n)!==o||wv(r)!==s;return l&&(n=o,r=s),{width:n,height:r,$:l}}function BS(t){return Fn(t)?t:t.contextElement}function vf(t){const e=BS(t);if(!Zi(e))return Cs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=yD(e);let s=(o?wv(n.width):n.width)/r,l=(o?wv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const d9=Cs(0);function bD(t){const e=Oi(t);return!gy()||!e.visualViewport?d9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Oi(t)?!1:e}function Vc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=BS(t);let s=Cs(1);e&&(r?Fn(r)&&(s=vf(r)):s=vf(t));const l=h9(o,n,r)?bD(o):Cs(0);let u=(i.left+l.x)/s.x,f=(i.top+l.y)/s.y,h=i.width/s.x,p=i.height/s.y;if(o){const g=Oi(o),v=r&&Fn(r)?Oi(r):r;let b=g,y=Mw(b);for(;y&&r&&v!==b;){const _=vf(y),E=y.getBoundingClientRect(),A=bo(y),O=E.left+(y.clientLeft+parseFloat(A.paddingLeft))*_.x,T=E.top+(y.clientTop+parseFloat(A.paddingTop))*_.y;u*=_.x,f*=_.y,h*=_.x,p*=_.y,u+=O,f+=T,b=Oi(y),y=Mw(b)}}return kf({width:h,height:p,x:u,y:f})}function yy(t,e){const n=vy(t).scrollLeft;return e?e.left+n:Vc(Bs(t)).left+n}function wD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-yy(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function p9(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Bs(r),l=e?my(e.floating):!1;if(r===s||l&&o)return n;let u={scrollLeft:0,scrollTop:0},f=Cs(1);const h=Cs(0),p=Zi(r);if((p||!p&&!o)&&((Qf(r)!=="body"||Ep(s))&&(u=vy(r)),Zi(r))){const v=Vc(r);f=vf(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const g=s&&!p&&!o?wD(s,u):Cs(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+h.x+g.x,y:n.y*f.y-u.scrollTop*f.y+h.y+g.y}}function m9(t){return Array.from(t.getClientRects())}function g9(t){const e=Bs(t),n=vy(t),r=t.ownerDocument.body,i=ii(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ii(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+yy(t);const l=-n.scrollTop;return bo(r).direction==="rtl"&&(s+=ii(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}const DA=25;function v9(t,e){const n=Oi(t),r=Bs(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;const h=gy();(!h||h&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}const f=yy(r);if(f<=0){const h=r.ownerDocument,p=h.body,g=getComputedStyle(p),v=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-p.clientWidth-v);b<=DA&&(o-=b)}else f<=DA&&(o+=f);return{width:o,height:s,x:l,y:u}}const y9=new Set(["absolute","fixed"]);function b9(t,e){const n=Vc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Zi(t)?vf(t):Cs(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,u=i*o.x,f=r*o.y;return{width:s,height:l,x:u,y:f}}function RA(t,e,n){let r;if(e==="viewport")r=v9(t,n);else if(e==="document")r=g9(Bs(t));else if(Fn(e))r=b9(e,n);else{const i=bD(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return kf(r)}function xD(t,e){const n=Ca(t);return n===e||!Fn(n)||ba(n)?!1:bo(n).position==="fixed"||xD(n,e)}function w9(t,e){const n=e.get(t);if(n)return n;let r=wa(t,[],!1).filter(l=>Fn(l)&&Qf(l)!=="body"),i=null;const o=bo(t).position==="fixed";let s=o?Ca(t):t;for(;Fn(s)&&!ba(s);){const l=bo(s),u=NS(s);!u&&l.position==="fixed"&&(i=null),(o?!u&&!i:!u&&l.position==="static"&&!!i&&y9.has(i.position)||Ep(s)&&!u&&xD(t,s))?r=r.filter(h=>h!==s):i=l,s=Ca(s)}return e.set(t,r),r}function x9(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?my(e)?[]:w9(e,this._c):[].concat(n),r],l=s[0],u=s.reduce((f,h)=>{const p=RA(e,h,i);return f.top=ii(p.top,f.top),f.right=Uo(p.right,f.right),f.bottom=Uo(p.bottom,f.bottom),f.left=ii(p.left,f.left),f},RA(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function S9(t){const{width:e,height:n}=yD(t);return{width:e,height:n}}function _9(t,e,n){const r=Zi(e),i=Bs(e),o=n==="fixed",s=Vc(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const u=Cs(0);function f(){u.x=yy(i)}if(r||!r&&!o)if((Qf(e)!=="body"||Ep(i))&&(l=vy(e)),r){const v=Vc(e,!0,o,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else i&&f();o&&!r&&i&&f();const h=i&&!r&&!o?wD(i,l):Cs(0),p=s.left+l.scrollLeft-u.x-h.x,g=s.top+l.scrollTop-u.y-h.y;return{x:p,y:g,width:s.width,height:s.height}}function A1(t){return bo(t).position==="static"}function MA(t,e){if(!Zi(t)||bo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bs(t)===n&&(n=n.ownerDocument.body),n}function SD(t,e){const n=Oi(t);if(my(t))return n;if(!Zi(t)){let i=Ca(t);for(;i&&!ba(i);){if(Fn(i)&&!A1(i))return i;i=Ca(i)}return n}let r=MA(t,e);for(;r&&xB(r)&&A1(r);)r=MA(r,e);return r&&ba(r)&&A1(r)&&!NS(r)?n:r||EB(t)||n}const C9=async function(t){const e=this.getOffsetParent||SD,n=this.getDimensions,r=await n(t.floating);return{reference:_9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function k9(t){return bo(t).direction==="rtl"}const E9={convertOffsetParentRelativeRectToViewportRelativeRect:p9,getDocumentElement:Bs,getClippingRect:x9,getOffsetParent:SD,getElementRects:C9,getClientRects:m9,getDimensions:S9,getScale:vf,isElement:Fn,isRTL:k9};function _D(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function A9(t,e){let n=null,r;const i=Bs(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),o();const f=t.getBoundingClientRect(),{left:h,top:p,width:g,height:v}=f;if(l||e(),!g||!v)return;const b=dg(p),y=dg(i.clientWidth-(h+g)),_=dg(i.clientHeight-(p+v)),E=dg(h),O={rootMargin:-b+"px "+-y+"px "+-_+"px "+-E+"px",threshold:ii(0,Uo(1,u))||1};let T=!0;function R(N){const j=N[0].intersectionRatio;if(j!==u){if(!T)return s();j?s(!1,j):r=setTimeout(()=>{s(!1,1e-7)},1e3)}j===1&&!_D(f,t.getBoundingClientRect())&&s(),T=!1}try{n=new IntersectionObserver(R,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,O)}n.observe(t)}return s(!0),o}function Pw(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=BS(t),h=i||o?[...f?wa(f):[],...wa(e)]:[];h.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const p=f&&l?A9(f,n):null;let g=-1,v=null;s&&(v=new ResizeObserver(E=>{let[A]=E;A&&A.target===f&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var O;(O=v)==null||O.observe(e)})),n()}),f&&!u&&v.observe(f),v.observe(e));let b,y=u?Vc(t):null;u&&_();function _(){const E=Vc(t);y&&!_D(y,E)&&n(),y=E,b=requestAnimationFrame(_)}return n(),()=>{var E;h.forEach(A=>{i&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),p?.(),(E=v)==null||E.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const O9=l9,T9=c9,D9=r9,R9=f9,M9=i9,NA=n9,N9=s9,j9=u9,z9=(t,e,n)=>{const r=new Map,i={platform:E9,...n},o={...i.platform,_c:r};return t9(t,e,{...i,platform:o})};var P9=typeof document<"u",L9=function(){},Jg=P9?P.useLayoutEffect:L9;function Sv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Sv(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function CD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jA(t,e){const n=CD(t);return Math.round(e*n)/n}function O1(t){const e=P.useRef(t);return Jg(()=>{e.current=t}),e}function B9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:l=!0,whileElementsMounted:u,open:f}=t,[h,p]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=P.useState(r);Sv(g,r)||v(r);const[b,y]=P.useState(null),[_,E]=P.useState(null),A=P.useCallback(Q=>{Q!==N.current&&(N.current=Q,y(Q))},[]),O=P.useCallback(Q=>{Q!==j.current&&(j.current=Q,E(Q))},[]),T=o||b,R=s||_,N=P.useRef(null),j=P.useRef(null),U=P.useRef(h),H=u!=null,Z=O1(u),te=O1(i),I=O1(f),Y=P.useCallback(()=>{if(!N.current||!j.current)return;const Q={placement:e,strategy:n,middleware:g};te.current&&(Q.platform=te.current),z9(N.current,j.current,Q).then(ne=>{const ue={...ne,isPositioned:I.current!==!1};M.current&&!Sv(U.current,ue)&&(U.current=ue,MS.flushSync(()=>{p(ue)}))})},[g,e,n,te,I]);Jg(()=>{f===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,p(Q=>({...Q,isPositioned:!1})))},[f]);const M=P.useRef(!1);Jg(()=>(M.current=!0,()=>{M.current=!1}),[]),Jg(()=>{if(T&&(N.current=T),R&&(j.current=R),T&&R){if(Z.current)return Z.current(T,R,Y);Y()}},[T,R,Y,Z,H]);const J=P.useMemo(()=>({reference:N,floating:j,setReference:A,setFloating:O}),[A,O]),V=P.useMemo(()=>({reference:T,floating:R}),[T,R]),X=P.useMemo(()=>{const Q={position:n,left:0,top:0};if(!V.floating)return Q;const ne=jA(V.floating,h.x),ue=jA(V.floating,h.y);return l?{...Q,transform:"translate("+ne+"px, "+ue+"px)",...CD(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ue}},[n,l,V.floating,h.x,h.y]);return P.useMemo(()=>({...h,update:Y,refs:J,elements:V,floatingStyles:X}),[h,Y,J,V,X])}const I9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?NA({element:r.current,padding:i}).fn(n):{}:r?NA({element:r,padding:i}).fn(n):{}}}},kD=(t,e)=>({...O9(t),options:[t,e]}),IS=(t,e)=>({...T9(t),options:[t,e]}),zA=(t,e)=>({...j9(t),options:[t,e]}),_v=(t,e)=>({...D9(t),options:[t,e]}),$9=(t,e)=>({...R9(t),options:[t,e]}),F9=(t,e)=>({...M9(t),options:[t,e]}),Kh=(t,e)=>({...N9(t),options:[t,e]}),ED=(t,e)=>({...I9(t),options:[t,e]});function AD(t){const e=P.useRef(void 0),n=P.useCallback(r=>{const i=t.map(o=>{if(o!=null){if(typeof o=="function"){const s=o,l=s(r);return typeof l=="function"?l:()=>{s(null)}}return o.current=r,()=>{o.current=null}}});return()=>{i.forEach(o=>o?.())}},t);return P.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const U9="data-floating-ui-focusable",PA="active",LA="selected",H9={...PT};let BA=!1,q9=0;const IA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+q9++;function K9(){const[t,e]=P.useState(()=>BA?IA():void 0);return ks(()=>{t==null&&e(IA())},[]),P.useEffect(()=>{BA=!0},[]),t}const V9=H9.useId,OD=V9||K9;function W9(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const Y9=P.createContext(null),Z9=P.createContext(null),$S=()=>{var t;return((t=P.useContext(Y9))==null?void 0:t.id)||null},FS=()=>P.useContext(Z9);function US(t){return"data-floating-ui-"+t}function ho(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const $A=US("safe-polygon");function ev(t,e,n){if(n&&!zw(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const r=t();return typeof r=="number"?r:r?.[e]}return t?.[e]}function T1(t){return typeof t=="function"?t():t}function X9(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=t,{enabled:l=!0,delay:u=0,handleClose:f=null,mouseOnly:h=!1,restMs:p=0,move:g=!0}=e,v=FS(),b=$S(),y=hg(f),_=hg(u),E=hg(n),A=hg(p),O=P.useRef(),T=P.useRef(-1),R=P.useRef(),N=P.useRef(-1),j=P.useRef(!0),U=P.useRef(!1),H=P.useRef(()=>{}),Z=P.useRef(!1),te=bs(()=>{var X;const Q=(X=i.current.openEvent)==null?void 0:X.type;return Q?.includes("mouse")&&Q!=="mousedown"});P.useEffect(()=>{if(!l)return;function X(Q){let{open:ne}=Q;ne||(ho(T),ho(N),j.current=!0,Z.current=!1)}return o.on("openchange",X),()=>{o.off("openchange",X)}},[l,o]),P.useEffect(()=>{if(!l||!y.current||!n)return;function X(ne){te()&&r(!1,ne,"hover")}const Q=Bc(s.floating).documentElement;return Q.addEventListener("mouseleave",X),()=>{Q.removeEventListener("mouseleave",X)}},[s.floating,n,r,l,y,te]);const I=P.useCallback(function(X,Q,ne){Q===void 0&&(Q=!0),ne===void 0&&(ne="hover");const ue=ev(_.current,"close",O.current);ue&&!R.current?(ho(T),T.current=window.setTimeout(()=>r(!1,X,ne),ue)):Q&&(ho(T),r(!1,X,ne))},[_,r]),Y=bs(()=>{H.current(),R.current=void 0}),M=bs(()=>{if(U.current){const X=Bc(s.floating).body;X.style.pointerEvents="",X.removeAttribute($A),U.current=!1}}),J=bs(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);P.useEffect(()=>{if(!l)return;function X(q){if(ho(T),j.current=!1,h&&!zw(O.current)||T1(A.current)>0&&!ev(_.current,"open"))return;const se=ev(_.current,"open",O.current);se?T.current=window.setTimeout(()=>{E.current||r(!0,q,"hover")},se):n||r(!0,q,"hover")}function Q(q){if(J()){M();return}H.current();const se=Bc(s.floating);if(ho(N),Z.current=!1,y.current&&i.current.floatingContext){n||ho(T),R.current=y.current({...i.current.floatingContext,tree:v,x:q.clientX,y:q.clientY,onClose(){M(),Y(),J()||I(q,!0,"safe-polygon")}});const me=R.current;se.addEventListener("mousemove",me),H.current=()=>{se.removeEventListener("mousemove",me)};return}(O.current==="touch"?!np(s.floating,q.relatedTarget):!0)&&I(q)}function ne(q){J()||i.current.floatingContext&&(y.current==null||y.current({...i.current.floatingContext,tree:v,x:q.clientX,y:q.clientY,onClose(){M(),Y(),J()||I(q)}})(q))}function ue(){ho(T)}function $(q){J()||I(q,!1)}if(Fn(s.domReference)){const q=s.domReference,se=s.floating;return n&&q.addEventListener("mouseleave",ne),g&&q.addEventListener("mousemove",X,{once:!0}),q.addEventListener("mouseenter",X),q.addEventListener("mouseleave",Q),se&&(se.addEventListener("mouseleave",ne),se.addEventListener("mouseenter",ue),se.addEventListener("mouseleave",$)),()=>{n&&q.removeEventListener("mouseleave",ne),g&&q.removeEventListener("mousemove",X),q.removeEventListener("mouseenter",X),q.removeEventListener("mouseleave",Q),se&&(se.removeEventListener("mouseleave",ne),se.removeEventListener("mouseenter",ue),se.removeEventListener("mouseleave",$))}}},[s,l,t,h,g,I,Y,M,r,n,E,v,_,y,i,J,A]),ks(()=>{var X;if(l&&n&&(X=y.current)!=null&&(X=X.__options)!=null&&X.blockPointerEvents&&te()){U.current=!0;const ne=s.floating;if(Fn(s.domReference)&&ne){var Q;const ue=Bc(s.floating).body;ue.setAttribute($A,"");const $=s.domReference,q=v==null||(Q=v.nodesRef.current.find(se=>se.id===b))==null||(Q=Q.context)==null?void 0:Q.elements.floating;return q&&(q.style.pointerEvents=""),ue.style.pointerEvents="none",$.style.pointerEvents="auto",ne.style.pointerEvents="auto",()=>{ue.style.pointerEvents="",$.style.pointerEvents="",ne.style.pointerEvents=""}}}},[l,n,b,s,v,y,te]),ks(()=>{n||(O.current=void 0,Z.current=!1,Y(),M())},[n,Y,M]),P.useEffect(()=>()=>{Y(),ho(T),ho(N),M()},[l,s.domReference,Y,M]);const V=P.useMemo(()=>{function X(Q){O.current=Q.pointerType}return{onPointerDown:X,onPointerEnter:X,onMouseMove(Q){const{nativeEvent:ne}=Q;function ue(){!j.current&&!E.current&&r(!0,ne,"hover")}h&&!zw(O.current)||n||T1(A.current)===0||Z.current&&Q.movementX**2+Q.movementY**2<2||(ho(N),O.current==="touch"?ue():(Z.current=!0,N.current=window.setTimeout(ue,T1(A.current))))}}},[h,r,n,E,A]);return P.useMemo(()=>l?{reference:V}:{},[l,V])}const Lw=()=>{},TD=P.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Lw,setState:Lw,isInstantPhase:!1}),G9=()=>P.useContext(TD);function Q9(t){const{children:e,delay:n,timeoutMs:r=0}=t,[i,o]=P.useReducer((u,f)=>({...u,...f}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=P.useRef(null),l=P.useCallback(u=>{o({currentId:u})},[]);return ks(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),S.jsx(TD.Provider,{value:P.useMemo(()=>({...i,setState:o,setCurrentId:l}),[i,l]),children:e})}function J9(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,floatingId:i}=t,{id:o,enabled:s=!0}=e,l=o??i,u=G9(),{currentId:f,setCurrentId:h,initialDelay:p,setState:g,timeoutMs:v}=u;return ks(()=>{s&&f&&(g({delay:{open:1,close:ev(p,"close")}}),f!==l&&r(!1))},[s,l,r,g,f,p]),ks(()=>{function b(){r(!1),g({delay:p,currentId:null})}if(s&&f&&!n&&f===l){if(v){const y=window.setTimeout(b,v);return()=>{clearTimeout(y)}}b()}},[s,n,g,f,l,r,p,v]),ks(()=>{s&&(h===Lw||!n||h(l))},[s,n,h,l]),u}const e7={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},t7={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},FA=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function n7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=t,{enabled:s=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:f="pointerdown",referencePress:h=!1,referencePressEvent:p="pointerdown",ancestorScroll:g=!1,bubbles:v,capture:b}=e,y=FS(),_=bs(typeof u=="function"?u:()=>!1),E=typeof u=="function"?_:u,A=P.useRef(!1),{escapeKey:O,outsidePress:T}=FA(v),{escapeKey:R,outsidePress:N}=FA(b),j=P.useRef(!1),U=bs(M=>{var J;if(!n||!s||!l||M.key!=="Escape"||j.current)return;const V=(J=o.current.floatingContext)==null?void 0:J.nodeId,X=y?Qg(y.nodesRef.current,V):[];if(!O&&(M.stopPropagation(),X.length>0)){let Q=!0;if(X.forEach(ne=>{var ue;if((ue=ne.context)!=null&&ue.open&&!ne.context.dataRef.current.__escapeKeyBubbles){Q=!1;return}}),!Q)return}r(!1,ZB(M)?M.nativeEvent:M,"escape-key")}),H=bs(M=>{var J;const V=()=>{var X;U(M),(X=af(M))==null||X.removeEventListener("keydown",V)};(J=af(M))==null||J.addEventListener("keydown",V)}),Z=bs(M=>{var J;const V=o.current.insideReactTree;o.current.insideReactTree=!1;const X=A.current;if(A.current=!1,f==="click"&&X||V||typeof E=="function"&&!E(M))return;const Q=af(M),ne="["+US("inert")+"]",ue=Bc(i.floating).querySelectorAll(ne);let $=Fn(Q)?Q:null;for(;$&&!ba($);){const me=Ca($);if(ba(me)||!Fn(me))break;$=me}if(ue.length&&Fn(Q)&&!KB(Q)&&!np(Q,i.floating)&&Array.from(ue).every(me=>!np($,me)))return;if(Zi(Q)&&Y){const me=ba(Q),je=bo(Q),We=/auto|scroll/,Xe=me||We.test(je.overflowX),Ae=me||We.test(je.overflowY),ht=Xe&&Q.clientWidth>0&&Q.scrollWidth>Q.clientWidth,Ye=Ae&&Q.clientHeight>0&&Q.scrollHeight>Q.clientHeight,Je=je.direction==="rtl",ct=Ye&&(Je?M.offsetX<=Q.offsetWidth-Q.clientWidth:M.offsetX>Q.clientWidth),B=ht&&M.offsetY>Q.clientHeight;if(ct||B)return}const q=(J=o.current.floatingContext)==null?void 0:J.nodeId,se=y&&Qg(y.nodesRef.current,q).some(me=>{var je;return E1(M,(je=me.context)==null?void 0:je.elements.floating)});if(E1(M,i.floating)||E1(M,i.domReference)||se)return;const le=y?Qg(y.nodesRef.current,q):[];if(le.length>0){let me=!0;if(le.forEach(je=>{var We;if((We=je.context)!=null&&We.open&&!je.context.dataRef.current.__outsidePressBubbles){me=!1;return}}),!me)return}r(!1,M,"outside-press")}),te=bs(M=>{var J;const V=()=>{var X;Z(M),(X=af(M))==null||X.removeEventListener(f,V)};(J=af(M))==null||J.addEventListener(f,V)});P.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=O,o.current.__outsidePressBubbles=T;let M=-1;function J(ue){r(!1,ue,"ancestor-scroll")}function V(){window.clearTimeout(M),j.current=!0}function X(){M=window.setTimeout(()=>{j.current=!1},gy()?5:0)}const Q=Bc(i.floating);l&&(Q.addEventListener("keydown",R?H:U,R),Q.addEventListener("compositionstart",V),Q.addEventListener("compositionend",X)),E&&Q.addEventListener(f,N?te:Z,N);let ne=[];return g&&(Fn(i.domReference)&&(ne=wa(i.domReference)),Fn(i.floating)&&(ne=ne.concat(wa(i.floating))),!Fn(i.reference)&&i.reference&&i.reference.contextElement&&(ne=ne.concat(wa(i.reference.contextElement)))),ne=ne.filter(ue=>{var $;return ue!==(($=Q.defaultView)==null?void 0:$.visualViewport)}),ne.forEach(ue=>{ue.addEventListener("scroll",J,{passive:!0})}),()=>{l&&(Q.removeEventListener("keydown",R?H:U,R),Q.removeEventListener("compositionstart",V),Q.removeEventListener("compositionend",X)),E&&Q.removeEventListener(f,N?te:Z,N),ne.forEach(ue=>{ue.removeEventListener("scroll",J)}),window.clearTimeout(M)}},[o,i,l,E,f,n,r,g,s,O,T,U,R,H,Z,N,te]),P.useEffect(()=>{o.current.insideReactTree=!1},[o,E,f]);const I=P.useMemo(()=>({onKeyDown:U,...h&&{[e7[p]]:M=>{r(!1,M.nativeEvent,"reference-press")},...p!=="click"&&{onClick(M){r(!1,M.nativeEvent,"reference-press")}}}}),[U,r,h,p]),Y=P.useMemo(()=>({onKeyDown:U,onMouseDown(){A.current=!0},onMouseUp(){A.current=!0},[t7[f]]:()=>{o.current.insideReactTree=!0}}),[U,f,o]);return P.useMemo(()=>s?{reference:I,floating:Y}:{},[s,I,Y])}function r7(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=OD(),o=P.useRef({}),[s]=P.useState(()=>W9()),l=$S()!=null,[u,f]=P.useState(r.reference),h=bs((v,b,y)=>{o.current.openEvent=v?b:void 0,s.emit("openchange",{open:v,event:b,reason:y,nested:l}),n?.(v,b,y)}),p=P.useMemo(()=>({setPositionReference:f}),[]),g=P.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return P.useMemo(()=>({dataRef:o,open:e,onOpenChange:h,elements:g,events:s,floatingId:i,refs:p}),[e,h,g,s,i,p])}function HS(t){t===void 0&&(t={});const{nodeId:e}=t,n=r7({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,s]=P.useState(null),[l,u]=P.useState(null),h=i?.domReference||o,p=P.useRef(null),g=FS();ks(()=>{h&&(p.current=h)},[h]);const v=B9({...t,elements:{...i,...l&&{reference:l}}}),b=P.useCallback(O=>{const T=Fn(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),getClientRects:()=>O.getClientRects(),contextElement:O}:O;u(T),v.refs.setReference(T)},[v.refs]),y=P.useCallback(O=>{(Fn(O)||O===null)&&(p.current=O,s(O)),(Fn(v.refs.reference.current)||v.refs.reference.current===null||O!==null&&!Fn(O))&&v.refs.setReference(O)},[v.refs]),_=P.useMemo(()=>({...v.refs,setReference:y,setPositionReference:b,domReference:p}),[v.refs,y,b]),E=P.useMemo(()=>({...v.elements,domReference:h}),[v.elements,h]),A=P.useMemo(()=>({...v,...r,refs:_,elements:E,nodeId:e}),[v,_,E,e,r]);return ks(()=>{r.dataRef.current.floatingContext=A;const O=g?.nodesRef.current.find(T=>T.id===e);O&&(O.context=A)}),P.useMemo(()=>({...v,context:A,refs:_,elements:E}),[v,_,E,A])}function D1(){return UB()&&FB()}function i7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=t,{enabled:l=!0,visibleOnly:u=!0}=e,f=P.useRef(!1),h=P.useRef(-1),p=P.useRef(!0);P.useEffect(()=>{if(!l)return;const v=Oi(s.domReference);function b(){!n&&Zi(s.domReference)&&s.domReference===EA(Bc(s.domReference))&&(f.current=!0)}function y(){p.current=!0}function _(){p.current=!1}return v.addEventListener("blur",b),D1()&&(v.addEventListener("keydown",y,!0),v.addEventListener("pointerdown",_,!0)),()=>{v.removeEventListener("blur",b),D1()&&(v.removeEventListener("keydown",y,!0),v.removeEventListener("pointerdown",_,!0))}},[s.domReference,n,l]),P.useEffect(()=>{if(!l)return;function v(b){let{reason:y}=b;(y==="reference-press"||y==="escape-key")&&(f.current=!0)}return i.on("openchange",v),()=>{i.off("openchange",v)}},[i,l]),P.useEffect(()=>()=>{ho(h)},[]);const g=P.useMemo(()=>({onMouseLeave(){f.current=!1},onFocus(v){if(f.current)return;const b=af(v.nativeEvent);if(u&&Fn(b)){if(D1()&&!v.relatedTarget){if(!p.current&&!VB(b))return}else if(!WB(b))return}r(!0,v.nativeEvent,"focus")},onBlur(v){f.current=!1;const b=v.relatedTarget,y=v.nativeEvent,_=Fn(b)&&b.hasAttribute(US("focus-guard"))&&b.getAttribute("data-type")==="outside";h.current=window.setTimeout(()=>{var E;const A=EA(s.domReference?s.domReference.ownerDocument:document);!b&&A===s.domReference||np((E=o.current.floatingContext)==null?void 0:E.refs.floating.current,A)||np(s.domReference,A)||_||r(!1,y,"focus")})}}),[o,s.domReference,r,u]);return P.useMemo(()=>l?{reference:g}:{},[l,g])}function R1(t,e,n){const r=new Map,i=n==="item";let o=t;if(i&&t){const{[PA]:s,[LA]:l,...u}=t;o=u}return{...n==="floating"&&{tabIndex:-1,[U9]:""},...o,...e.map(s=>{const l=s?s[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((s,l)=>(l&&Object.entries(l).forEach(u=>{let[f,h]=u;if(!(i&&[PA,LA].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var p;(p=r.get(f))==null||p.push(h),s[f]=function(){for(var g,v=arguments.length,b=new Array(v),y=0;y<v;y++)b[y]=arguments[y];return(g=r.get(f))==null?void 0:g.map(_=>_(...b)).find(_=>_!==void 0)}}}else s[f]=h}),s),{})}}function o7(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),r=t.map(l=>l?.item),i=P.useCallback(l=>R1(l,t,"reference"),e),o=P.useCallback(l=>R1(l,t,"floating"),n),s=P.useCallback(l=>R1(l,t,"item"),r);return P.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const s7=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function a7(t,e){var n,r;e===void 0&&(e={});const{open:i,elements:o,floatingId:s}=t,{enabled:l=!0,role:u="dialog"}=e,f=OD(),h=((n=o.domReference)==null?void 0:n.id)||f,p=P.useMemo(()=>{var A;return((A=YB(o.floating))==null?void 0:A.id)||s},[o.floating,s]),g=(r=s7.get(u))!=null?r:u,b=$S()!=null,y=P.useMemo(()=>g==="tooltip"||u==="label"?{["aria-"+(u==="label"?"labelledby":"describedby")]:i?p:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":g==="alertdialog"?"dialog":g,"aria-controls":i?p:void 0,...g==="listbox"&&{role:"combobox"},...g==="menu"&&{id:h},...g==="menu"&&b&&{role:"menuitem"},...u==="select"&&{"aria-autocomplete":"none"},...u==="combobox"&&{"aria-autocomplete":"list"}},[g,p,b,i,h,u]),_=P.useMemo(()=>{const A={id:p,...g&&{role:g}};return g==="tooltip"||u==="label"?A:{...A,...g==="menu"&&{"aria-labelledby":h}}},[g,p,h,u]),E=P.useCallback(A=>{let{active:O,selected:T}=A;const R={role:"option",...O&&{id:p+"-fui-option"}};switch(u){case"select":case"combobox":return{...R,"aria-selected":T}}return{}},[p,u]);return P.useMemo(()=>l?{reference:y,floating:_,item:E}:{},[l,y,_,E])}const[l7,So]=Wo("ScrollArea.Root component was not found in tree");function Ef(t,e){const n=Nc(e);nu(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const c7=P.forwardRef((t,e)=>{const{style:n,...r}=t,i=So(),[o,s]=P.useState(0),[l,u]=P.useState(0),f=!!(o&&l);return Ef(i.scrollbarX,()=>{const h=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(h),u(h)}),Ef(i.scrollbarY,()=>{const h=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(h),s(h)}),f?S.jsx("div",{...r,ref:e,style:{...n,width:o,height:l}}):null}),u7=P.forwardRef((t,e)=>{const n=So(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.jsx(c7,{...t,ref:e}):null}),f7={scrollHideDelay:1e3,type:"hover"},DD=P.forwardRef((t,e)=>{const{type:n,scrollHideDelay:r,scrollbars:i,getStyles:o,...s}=Ze("ScrollAreaRoot",f7,t),[l,u]=P.useState(null),[f,h]=P.useState(null),[p,g]=P.useState(null),[v,b]=P.useState(null),[y,_]=P.useState(null),[E,A]=P.useState(0),[O,T]=P.useState(0),[R,N]=P.useState(!1),[j,U]=P.useState(!1),H=kr(e,Z=>u(Z));return S.jsx(l7,{value:{type:n,scrollHideDelay:r,scrollArea:l,viewport:f,onViewportChange:h,content:p,onContentChange:g,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:R,onScrollbarXEnabledChange:N,scrollbarY:y,onScrollbarYChange:_,scrollbarYEnabled:j,onScrollbarYEnabledChange:U,onCornerWidthChange:A,onCornerHeightChange:T,getStyles:o},children:S.jsx(ut,{...s,ref:H,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${E}px`,"--sa-corner-height":i!=="xy"?"0px":`${O}px`}})})});DD.displayName="@mantine/core/ScrollAreaRoot";function RD(t,e){const n=t/e;return Number.isNaN(n)?0:n}function by(t){const e=RD(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function MD(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function d7(t,[e,n]){return Math.min(n,Math.max(e,t))}function UA(t,e,n="ltr"){const r=by(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,l=o-r,u=n==="ltr"?[0,s]:[s*-1,0],f=d7(t,u);return MD([0,s],[0,l])(f)}function h7(t,e,n,r="ltr"){const i=by(n),o=i/2,s=e||o,l=i-s,u=n.scrollbar.paddingStart+s,f=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,p=r==="ltr"?[0,h]:[h*-1,0];return MD([u,f],p)(t)}function ND(t,e){return t>0&&t<e}function Cv(t){return t?parseInt(t,10):0}function Hc(t,e,{checkForDefaultPrevented:n=!0}={}){return r=>{t?.(r),(n===!1||!r.defaultPrevented)&&e?.(r)}}const[p7,jD]=Wo("ScrollAreaScrollbar was not found in tree"),zD=P.forwardRef((t,e)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:f,onResize:h,...p}=t,g=So(),[v,b]=P.useState(null),y=kr(e,U=>b(U)),_=P.useRef(null),E=P.useRef(""),{viewport:A}=g,O=n.content-n.viewport,T=Nc(f),R=Nc(l),N=cy(h,10),j=U=>{if(_.current){const H=U.clientX-_.current.left,Z=U.clientY-_.current.top;u({x:H,y:Z})}};return P.useEffect(()=>{const U=H=>{const Z=H.target;v?.contains(Z)&&T(H,O)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[A,v,O,T]),P.useEffect(R,[n,R]),Ef(v,N),Ef(g.content,N),S.jsx(p7,{value:{scrollbar:v,hasThumb:r,onThumbChange:Nc(i),onThumbPointerUp:Nc(o),onThumbPositionChange:R,onThumbPointerDown:Nc(s)},children:S.jsx("div",{...p,ref:y,"data-mantine-scrollbar":!0,style:{position:"absolute",...p.style},onPointerDown:Hc(t.onPointerDown,U=>{U.preventDefault(),U.button===0&&(U.target.setPointerCapture(U.pointerId),_.current=v.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j(U))}),onPointerMove:Hc(t.onPointerMove,j),onPointerUp:Hc(t.onPointerUp,U=>{const H=U.target;H.hasPointerCapture(U.pointerId)&&(U.preventDefault(),H.releasePointerCapture(U.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=E.current,_.current=null}})})}),PD=P.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...o}=t,s=So(),[l,u]=P.useState(),f=P.useRef(null),h=kr(e,f,s.onScrollbarXChange);return P.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),S.jsx(zD,{"data-orientation":"horizontal",...o,ref:h,sizes:n,style:{...i,"--sa-thumb-width":`${by(n)}px`},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(s.viewport){const v=s.viewport.scrollLeft+p.deltaX;t.onWheelScroll(v),ND(v,g)&&p.preventDefault()}},onResize:()=>{f.current&&s.viewport&&l&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Cv(l.paddingLeft),paddingEnd:Cv(l.paddingRight)}})}})});PD.displayName="@mantine/core/ScrollAreaScrollbarX";const LD=P.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...o}=t,s=So(),[l,u]=P.useState(),f=P.useRef(null),h=kr(e,f,s.onScrollbarYChange);return P.useEffect(()=>{f.current&&u(window.getComputedStyle(f.current))},[]),S.jsx(zD,{...o,"data-orientation":"vertical",ref:h,sizes:n,style:{"--sa-thumb-height":`${by(n)}px`,...i},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(s.viewport){const v=s.viewport.scrollTop+p.deltaY;t.onWheelScroll(v),ND(v,g)&&p.preventDefault()}},onResize:()=>{f.current&&s.viewport&&l&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Cv(l.paddingTop),paddingEnd:Cv(l.paddingBottom)}})}})});LD.displayName="@mantine/core/ScrollAreaScrollbarY";const wy=P.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,{dir:i}=ru(),o=So(),s=P.useRef(null),l=P.useRef(0),[u,f]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=RD(u.viewport,u.content),p={...r,sizes:u,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:v=>{s.current=v},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:v=>{l.current=v}},g=(v,b)=>h7(v,l.current,u,b);return n==="horizontal"?S.jsx(PD,{...p,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const v=o.viewport.scrollLeft,b=UA(v,u,i);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollLeft=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollLeft=g(v,i))}}):n==="vertical"?S.jsx(LD,{...p,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const v=o.viewport.scrollTop,b=UA(v,u);u.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollTop=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollTop=g(v))}}):null});wy.displayName="@mantine/core/ScrollAreaScrollbarVisible";const qS=P.forwardRef((t,e)=>{const n=So(),{forceMount:r,...i}=t,[o,s]=P.useState(!1),l=t.orientation==="horizontal",u=cy(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?f:h)}},10);return Ef(n.viewport,u),Ef(n.content,u),r||o?S.jsx(wy,{"data-state":o?"visible":"hidden",...i,ref:e}):null});qS.displayName="@mantine/core/ScrollAreaScrollbarAuto";const BD=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=So(),[o,s]=P.useState(!1);return P.useEffect(()=>{const{scrollArea:l}=i;let u=0;if(l){const f=()=>{window.clearTimeout(u),s(!0)},h=()=>{u=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),n||o?S.jsx(qS,{"data-state":o?"visible":"hidden",...r,ref:e}):null});BD.displayName="@mantine/core/ScrollAreaScrollbarHover";const m7=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=So(),o=t.orientation==="horizontal",[s,l]=P.useState("hidden"),u=cy(()=>l("idle"),100);return P.useEffect(()=>{if(s==="idle"){const f=window.setTimeout(()=>l("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[s,i.scrollHideDelay]),P.useEffect(()=>{const{viewport:f}=i,h=o?"scrollLeft":"scrollTop";if(f){let p=f[h];const g=()=>{const v=f[h];p!==v&&(l("scrolling"),u()),p=v};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,o,u]),n||s!=="hidden"?S.jsx(wy,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Hc(t.onPointerEnter,()=>l("interacting")),onPointerLeave:Hc(t.onPointerLeave,()=>l("idle"))}):null}),Bw=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=So(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,l=t.orientation==="horizontal";return P.useEffect(()=>(l?o(!0):s(!0),()=>{l?o(!1):s(!1)}),[l,o,s]),i.type==="hover"?S.jsx(BD,{...r,ref:e,forceMount:n}):i.type==="scroll"?S.jsx(m7,{...r,ref:e,forceMount:n}):i.type==="auto"?S.jsx(qS,{...r,ref:e,forceMount:n}):i.type==="always"?S.jsx(wy,{...r,ref:e}):null});Bw.displayName="@mantine/core/ScrollAreaScrollbar";function g7(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,l=n.top!==o.top;(s||l)&&e(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}const ID=P.forwardRef((t,e)=>{const{style:n,...r}=t,i=So(),o=jD(),{onThumbPositionChange:s}=o,l=kr(e,h=>o.onThumbChange(h)),u=P.useRef(void 0),f=cy(()=>{u.current&&(u.current(),u.current=void 0)},100);return P.useEffect(()=>{const{viewport:h}=i;if(h){const p=()=>{if(f(),!u.current){const g=g7(h,s);u.current=g,s()}};return s(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,f,s]),S.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Hc(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),v=h.clientX-g.left,b=h.clientY-g.top;o.onThumbPointerDown({x:v,y:b})}),onPointerUp:Hc(t.onPointerUp,o.onThumbPointerUp)})});ID.displayName="@mantine/core/ScrollAreaThumb";const Iw=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=jD();return n||i.hasThumb?S.jsx(ID,{ref:e,...r}):null});Iw.displayName="@mantine/core/ScrollAreaThumb";const $D=P.forwardRef(({children:t,style:e,...n},r)=>{const i=So(),o=kr(r,i.onViewportChange);return S.jsx(ut,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e},children:S.jsx("div",{...i.getStyles("content"),ref:i.onContentChange,children:t})})});$D.displayName="@mantine/core/ScrollAreaViewport";var KS={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const FD={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},v7=(t,{scrollbarSize:e,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Ke(e),"--scrollarea-over-scroll-behavior":n}}),Kl=ft((t,e)=>{const n=Ze("ScrollArea",FD,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,scrollbarSize:u,vars:f,type:h,scrollHideDelay:p,viewportProps:g,viewportRef:v,onScrollPositionChange:b,children:y,offsetScrollbars:_,scrollbars:E,onBottomReached:A,onTopReached:O,overscrollBehavior:T,attributes:R,...N}=n,[j,U]=P.useState(!1),[H,Z]=P.useState(!1),[te,I]=P.useState(!1),Y=jt({name:"ScrollArea",props:n,classes:KS,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:R,vars:f,varsResolver:v7}),M=P.useRef(null),J=AD([v,M]);return P.useEffect(()=>{if(!M.current||_!=="present")return;const V=M.current,X=new ResizeObserver(()=>{const{scrollHeight:Q,clientHeight:ne,scrollWidth:ue,clientWidth:$}=V;Z(Q>ne),I(ue>$)});return X.observe(V),()=>X.disconnect()},[M,_]),S.jsxs(DD,{getStyles:Y,type:h==="never"?"always":h,scrollHideDelay:p,ref:e,scrollbars:E,...Y("root"),...N,children:[S.jsx($D,{...g,...Y("viewport",{style:g?.style}),ref:J,"data-offset-scrollbars":_===!0?"xy":_||void 0,"data-scrollbars":E||void 0,"data-horizontal-hidden":_==="present"&&!te?"true":void 0,"data-vertical-hidden":_==="present"&&!H?"true":void 0,onScroll:V=>{g?.onScroll?.(V),b?.({x:V.currentTarget.scrollLeft,y:V.currentTarget.scrollTop});const{scrollTop:X,scrollHeight:Q,clientHeight:ne}=V.currentTarget;X-(Q-ne)>=-.6&&A?.(),X===0&&O?.()},children:y}),(E==="xy"||E==="x")&&S.jsx(Bw,{...Y("scrollbar"),orientation:"horizontal","data-hidden":h==="never"||_==="present"&&!te?!0:void 0,forceMount:!0,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),children:S.jsx(Iw,{...Y("thumb")})}),(E==="xy"||E==="y")&&S.jsx(Bw,{...Y("scrollbar"),orientation:"vertical","data-hidden":h==="never"||_==="present"&&!H?!0:void 0,forceMount:!0,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),children:S.jsx(Iw,{...Y("thumb")})}),S.jsx(u7,{...Y("corner"),"data-hovered":j||void 0,"data-hidden":h==="never"||void 0})]})});Kl.displayName="@mantine/core/ScrollArea";const VS=ft((t,e)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:l,dir:u,offsetScrollbars:f,viewportRef:h,onScrollPositionChange:p,unstyled:g,variant:v,viewportProps:b,scrollbars:y,style:_,vars:E,onBottomReached:A,onTopReached:O,onOverflowChange:T,...R}=Ze("ScrollAreaAutosize",FD,t),N=P.useRef(null),j=AD([h,N]),[U,H]=P.useState(!1),Z=P.useRef(!1);return P.useEffect(()=>{if(!T)return;const te=N.current;if(!te)return;const I=()=>{const M=te.scrollHeight>te.clientHeight;M!==U&&(Z.current?T?.(M):(Z.current=!0,M&&T?.(!0)),H(M))};I();const Y=new ResizeObserver(I);return Y.observe(te),()=>Y.disconnect()},[T,U]),S.jsx(ut,{...R,ref:e,style:[{display:"flex",overflow:"hidden"},_],children:S.jsx(ut,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...y==="y"&&{minWidth:0},...y==="x"&&{minHeight:0},...y==="xy"&&{minWidth:0,minHeight:0},...y===!1&&{minWidth:0,minHeight:0}},children:S.jsx(Kl,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:l,dir:u,offsetScrollbars:f,viewportRef:j,onScrollPositionChange:p,unstyled:g,variant:v,viewportProps:b,vars:E,scrollbars:y,onBottomReached:A,onTopReached:O,"data-autosize":"true",children:n})})})});Kl.classes=KS;VS.displayName="@mantine/core/ScrollAreaAutosize";VS.classes=KS;Kl.Autosize=VS;var UD={root:"m_87cf2631"};const y7={__staticSelector:"UnstyledButton"},ir=Gi((t,e)=>{const n=Ze("UnstyledButton",y7,t),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:l,styles:u,style:f,attributes:h,...p}=n,g=jt({name:o,props:n,classes:UD,className:r,style:f,classNames:l,styles:u,unstyled:s,attributes:h});return S.jsx(ut,{...g("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...p})});ir.classes=UD;ir.displayName="@mantine/core/UnstyledButton";var HD={root:"m_515a97f8"};const WS=ft((t,e)=>{const n=Ze("VisuallyHidden",null,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,attributes:f,...h}=n,p=jt({name:"VisuallyHidden",classes:HD,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:f});return S.jsx(ut,{component:"span",ref:e,...p("root"),...h})});WS.classes=HD;WS.displayName="@mantine/core/VisuallyHidden";var qD={root:"m_1b7284a3"};const b7=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:Lr(e),"--paper-shadow":_S(n)}}),Af=Gi((t,e)=>{const n=Ze("Paper",null,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,withBorder:u,vars:f,radius:h,shadow:p,variant:g,mod:v,attributes:b,...y}=n,_=jt({name:"Paper",props:n,classes:qD,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:b,vars:f,varsResolver:b7});return S.jsx(ut,{ref:e,mod:[{"data-with-border":u},v],..._("root"),variant:g,...y})});Af.classes=qD;Af.displayName="@mantine/core/Paper";function HA(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function qA(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const w7={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function x7({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:l}){const[u,f="center"]=t.split("-"),h={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[w7[u]]:r},p=-e/2;return u==="left"?{...h,...HA(f,s,n,i),right:p,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...h,...HA(f,s,n,i),left:p,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...h,...qA(f,o,n,i,l),bottom:p,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...h,...qA(f,o,n,i,l),top:p,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const kv=P.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:l,style:u,...f},h)=>{const{dir:p}=ru();return o?S.jsx("div",{...f,ref:h,style:{...u,...x7({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:p,arrowX:s,arrowY:l})}}):null});kv.displayName="@mantine/core/FloatingArrow";function KD(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}var VD={root:"m_9814e45f"};const S7={zIndex:Or("modal")},_7=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&vs(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Ke(i)})`:void 0,"--overlay-radius":o===void 0?void 0:Lr(o),"--overlay-z-index":s?.toString()}}),Of=Gi((t,e)=>{const n=Ze("Overlay",S7,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,fixed:f,center:h,children:p,radius:g,zIndex:v,gradient:b,blur:y,color:_,backgroundOpacity:E,mod:A,attributes:O,...T}=n,R=jt({name:"Overlay",props:n,classes:VD,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:O,vars:u,varsResolver:_7});return S.jsx(ut,{ref:e,...R("root"),mod:[{center:h,fixed:f},A],...T,children:p})});Of.classes=VD;Of.displayName="@mantine/core/Overlay";function M1(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function C7({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||M1(n):t;if(e){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=M1(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return M1(n)}const k7={reuseTargetNode:!0},WD=ft((t,e)=>{const{children:n,target:r,reuseTargetNode:i,...o}=Ze("Portal",k7,t),[s,l]=P.useState(!1),u=P.useRef(null);return nu(()=>(l(!0),u.current=C7({target:r,reuseTargetNode:i,...o}),Jh(e,u.current),!r&&!i&&u.current&&document.body.appendChild(u.current),()=>{!r&&!i&&u.current&&document.body.removeChild(u.current)}),[r]),!s||!u.current?null:MS.createPortal(S.jsx(S.Fragment,{children:n}),u.current)});WD.displayName="@mantine/core/Portal";const ka=ft(({withinPortal:t=!0,children:e,...n},r)=>dy()==="test"||!t?S.jsx(S.Fragment,{children:e}):S.jsx(WD,{ref:r,...n,children:e}));ka.displayName="@mantine/core/OptionalPortal";const Eh=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),pg={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Eh("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Eh("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Eh("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Eh("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Eh("top"),common:{transformOrigin:"top right"}}},KA={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function E7({transition:t,state:e,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in pg?{transitionProperty:pg[t].transitionProperty,...i,...pg[t].common,...pg[t][KA[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[KA[e]]}}function A7({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:l,enterDelay:u,exitDelay:f}){const h=ui(),p=CS(),g=h.respectReducedMotion?p:!1,[v,b]=P.useState(g?0:t),[y,_]=P.useState(r?"entered":"exited"),E=P.useRef(-1),A=P.useRef(-1),O=P.useRef(-1);function T(){window.clearTimeout(E.current),window.clearTimeout(A.current),cancelAnimationFrame(O.current)}const R=j=>{T();const U=j?i:o,H=j?s:l,Z=g?0:j?t:e;b(Z),Z===0?(typeof U=="function"&&U(),typeof H=="function"&&H(),_(j?"entered":"exited")):O.current=requestAnimationFrame(()=>{Lh.flushSync(()=>{_(j?"pre-entering":"pre-exiting")}),O.current=requestAnimationFrame(()=>{typeof U=="function"&&U(),_(j?"entering":"exiting"),E.current=window.setTimeout(()=>{typeof H=="function"&&H(),_(j?"entered":"exited")},Z)})})},N=j=>{if(T(),typeof(j?u:f)!="number"){R(j);return}A.current=window.setTimeout(()=>{R(j)},j?u:f)};return Dl(()=>{N(r)},[r]),P.useEffect(()=>()=>{T()},[]),{transitionDuration:v,transitionStatus:y,transitionTimingFunction:n||"ease"}}function Ds({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:l,onEntered:u,onEnter:f,onExited:h,enterDelay:p,exitDelay:g}){const v=dy(),{transitionDuration:b,transitionStatus:y,transitionTimingFunction:_}=A7({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:l,onEntered:u,onEnter:f,onExited:h,enterDelay:p,exitDelay:g});return b===0||v==="test"?i?S.jsx(S.Fragment,{children:o({})}):t?o({display:"none"}):null:y==="exited"?t?o({display:"none"}):null:S.jsx(S.Fragment,{children:o(E7({transition:e,duration:b,state:y,timingFunction:_}))})}Ds.displayName="@mantine/core/Transition";const[O7,YD]=Wo("Popover component was not found in the tree");function xy({children:t,active:e=!0,refProp:n="ref",innerRef:r}){const i=qP(e),o=kr(i,r);return zs(t)?P.cloneElement(t,{[n]:o}):t}function ZD(t){return S.jsx(WS,{tabIndex:-1,"data-autofocus":!0,...t})}xy.displayName="@mantine/core/FocusTrap";ZD.displayName="@mantine/core/FocusTrapInitialFocus";xy.InitialFocus=ZD;var XD={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const YS=ft((t,e)=>{const n=Ze("PopoverDropdown",null,t),{className:r,style:i,vars:o,children:s,onKeyDownCapture:l,variant:u,classNames:f,styles:h,...p}=n,g=YD(),v=XT({opened:g.opened,shouldReturnFocus:g.returnFocus}),b=g.withRoles?{"aria-labelledby":g.getTargetId(),id:g.getDropdownId(),role:"dialog",tabIndex:-1}:{},y=kr(e,g.floating);return g.disabled?null:S.jsx(ka,{...g.portalProps,withinPortal:g.withinPortal,children:S.jsx(Ds,{mounted:g.opened,...g.transitionProps,transition:g.transitionProps?.transition||"fade",duration:g.transitionProps?.duration??150,keepMounted:g.keepMounted,exitDuration:typeof g.transitionProps?.exitDuration=="number"?g.transitionProps.exitDuration:g.transitionProps?.duration,children:_=>S.jsx(xy,{active:g.trapFocus&&g.opened,innerRef:y,children:S.jsxs(ut,{...b,...p,variant:u,onKeyDownCapture:DP(()=>{g.onClose?.(),g.onDismiss?.()},{active:g.closeOnEscape,onTrigger:v,onKeyDown:l}),"data-position":g.placement,"data-fixed":g.floatingStrategy==="fixed"||void 0,...g.getStyles("dropdown",{className:r,props:n,classNames:f,styles:h,style:[{..._,zIndex:g.zIndex,top:g.y??0,left:g.x??0,width:g.width==="target"?void 0:Ke(g.width),...g.referenceHidden?{display:"none"}:null},g.resolvedStyles.dropdown,h?.dropdown,i]}),children:[s,S.jsx(kv,{ref:g.arrowRef,arrowX:g.arrowX,arrowY:g.arrowY,visible:g.withArrow,position:g.placement,arrowSize:g.arrowSize,arrowRadius:g.arrowRadius,arrowOffset:g.arrowOffset,arrowPosition:g.arrowPosition,...g.getStyles("arrow",{props:n,classNames:f,styles:h})})]})})})})});YS.classes=XD;YS.displayName="@mantine/core/PopoverDropdown";const T7={refProp:"ref",popupType:"dialog"},GD=ft((t,e)=>{const{children:n,refProp:r,popupType:i,...o}=Ze("PopoverTarget",T7,t);if(!zs(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,l=YD(),u=kr(l.reference,uy(n),e),f=l.withRoles?{"aria-haspopup":i,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return P.cloneElement(n,{...s,...f,...l.targetProps,className:Zr(l.targetProps.className,s.className,n.props.className),[r]:u,...l.controlled?null:{onClick:()=>{l.onToggle(),n.props.onClick?.()}}})});GD.displayName="@mantine/core/PopoverTarget";function D7(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function R7(t,e,n){const r=D7(t.middlewares),i=[kD(t.offset),F9()];return t.dropdownVisible&&n!=="test"&&t.preventPositionChangeWhenVisible&&(r.flip=!1),r.shift&&i.push(IS(typeof r.shift=="boolean"?{limiter:zA(),padding:5}:{limiter:zA(),padding:5,...r.shift})),r.flip&&i.push(typeof r.flip=="boolean"?_v():_v(r.flip)),r.inline&&i.push(typeof r.inline=="boolean"?Kh():Kh(r.inline)),i.push(ED({element:t.arrowRef,padding:t.arrowOffset})),(r.size||t.width==="target")&&i.push($9({...typeof r.size=="boolean"?{}:r.size,apply({rects:o,availableWidth:s,availableHeight:l,...u}){const h=e().refs.floating.current?.style??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:o,availableWidth:s,availableHeight:l,...u}):Object.assign(h,{maxWidth:`${s}px`,maxHeight:`${l}px`})),t.width==="target"&&Object.assign(h,{width:`${o.reference.width}px`})}})),i}function M7(t){const e=dy(),[n,r]=Os({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),i=P.useRef(n),o=()=>{n&&!t.disabled&&r(!1)},s=()=>{t.disabled||r(!n)},l=HS({strategy:t.strategy,placement:t.preventPositionChangeWhenVisible?t.positionRef.current:t.position,middleware:R7(t,()=>l,e),whileElementsMounted:t.keepMounted?void 0:Pw});return P.useEffect(()=>{if(!(!l.refs.reference.current||!l.refs.floating.current)&&n)return Pw(l.refs.reference.current,l.refs.floating.current,l.update)},[n,l.update]),Dl(()=>{t.onPositionChange?.(l.placement),t.positionRef.current=l.placement},[l.placement,t.preventPositionChangeWhenVisible]),Dl(()=>{n!==i.current&&(n?t.onOpen?.():t.onClose?.()),i.current=n},[n,t.onClose,t.onOpen]),Dl(()=>{let u=-1;return n&&(u=window.setTimeout(()=>t.setDropdownVisible(!0),4)),()=>{window.clearTimeout(u)}},[n,t.position]),{floating:l,controlled:typeof t.opened=="boolean",opened:n,onClose:o,onToggle:s}}const N7={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Or("popover"),__staticSelector:"Popover",width:"max-content"},j7=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:Lr(e),"--popover-shadow":_S(n)}});function Zn(t){const e=Ze("Popover",N7,t),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:l,transitionProps:u,onExitTransitionEnd:f,onEnterTransitionEnd:h,width:p,middlewares:g,withArrow:v,arrowSize:b,arrowOffset:y,arrowRadius:_,arrowPosition:E,unstyled:A,classNames:O,styles:T,closeOnClickOutside:R,withinPortal:N,portalProps:j,closeOnEscape:U,clickOutsideEvents:H,trapFocus:Z,onClose:te,onDismiss:I,onOpen:Y,onChange:M,zIndex:J,radius:V,shadow:X,id:Q,defaultOpened:ne,__staticSelector:ue,withRoles:$,disabled:q,returnFocus:se,variant:le,keepMounted:me,vars:je,floatingStrategy:We,withOverlay:Xe,overlayProps:Ae,hideDetached:ht,attributes:Ye,preventPositionChangeWhenVisible:Je,...ct}=e,B=jt({name:ue,props:e,classes:XD,classNames:O,styles:T,unstyled:A,attributes:Ye,rootSelector:"dropdown",vars:je,varsResolver:j7}),{resolvedStyles:Ee}=ql({classNames:O,styles:T,props:e}),[be,ee]=P.useState(l??ne??!1),G=P.useRef(r),ae=P.useRef(null),[Ne,Me]=P.useState(null),[pe,Ue]=P.useState(null),{dir:ge}=ru(),Oe=dy(),Ge=Ps(Q),tt=M7({middlewares:g,width:p,position:KD(ge,r),offset:typeof i=="number"?i+(v?b/2:0):i,arrowRef:ae,arrowOffset:y,onPositionChange:o,positionDependencies:s,opened:l,defaultOpened:ne,onChange:M,onOpen:Y,onClose:te,onDismiss:I,strategy:We,dropdownVisible:be,setDropdownVisible:ee,positionRef:G,disabled:q,preventPositionChangeWhenVisible:Je,keepMounted:me});zP(()=>{R&&(tt.onClose(),I?.())},H,[Ne,pe]);const vt=P.useCallback(Ct=>{Me(Ct),tt.floating.refs.setReference(Ct)},[tt.floating.refs.setReference]),zt=P.useCallback(Ct=>{Ue(Ct),tt.floating.refs.setFloating(Ct)},[tt.floating.refs.setFloating]),ln=P.useCallback(()=>{u?.onExited?.(),f?.(),ee(!1),Je||(G.current=r)},[u?.onExited,f,Je,r]),Qt=P.useCallback(()=>{u?.onEntered?.(),h?.()},[u?.onEntered,h]);return S.jsxs(O7,{value:{returnFocus:se,disabled:q,controlled:tt.controlled,reference:vt,floating:zt,x:tt.floating.x,y:tt.floating.y,arrowX:tt.floating?.middlewareData?.arrow?.x,arrowY:tt.floating?.middlewareData?.arrow?.y,opened:tt.opened,arrowRef:ae,transitionProps:{...u,onExited:ln,onEntered:Qt},width:p,withArrow:v,arrowSize:b,arrowOffset:y,arrowRadius:_,arrowPosition:E,placement:tt.floating.placement,trapFocus:Z,withinPortal:N,portalProps:j,zIndex:J,radius:V,shadow:X,closeOnEscape:U,onDismiss:I,onClose:tt.onClose,onToggle:tt.onToggle,getTargetId:()=>`${Ge}-target`,getDropdownId:()=>`${Ge}-dropdown`,withRoles:$,targetProps:ct,__staticSelector:ue,classNames:O,styles:T,unstyled:A,variant:le,keepMounted:me,getStyles:B,resolvedStyles:Ee,floatingStrategy:We,referenceHidden:ht&&Oe!=="test"?tt.floating.middlewareData.hide?.referenceHidden:!1},children:[n,Xe&&S.jsx(Ds,{transition:"fade",mounted:tt.opened,duration:u?.duration||250,exitDuration:u?.exitDuration||250,children:Ct=>S.jsx(ka,{withinPortal:N,children:S.jsx(Of,{...Ae,...B("overlay",{className:Ae?.className,style:[Ct,Ae?.style]})})})})]})}Zn.Target=GD;Zn.Dropdown=YS;Zn.displayName="@mantine/core/Popover";Zn.extend=t=>t;var Lo={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const QD=P.forwardRef(({className:t,...e},n)=>S.jsxs(ut,{component:"span",className:Zr(Lo.barsLoader,t),...e,ref:n,children:[S.jsx("span",{className:Lo.bar}),S.jsx("span",{className:Lo.bar}),S.jsx("span",{className:Lo.bar})]}));QD.displayName="@mantine/core/Bars";const JD=P.forwardRef(({className:t,...e},n)=>S.jsxs(ut,{component:"span",className:Zr(Lo.dotsLoader,t),...e,ref:n,children:[S.jsx("span",{className:Lo.dot}),S.jsx("span",{className:Lo.dot}),S.jsx("span",{className:Lo.dot})]}));JD.displayName="@mantine/core/Dots";const e5=P.forwardRef(({className:t,...e},n)=>S.jsx(ut,{component:"span",className:Zr(Lo.ovalLoader,t),...e,ref:n}));e5.displayName="@mantine/core/Oval";const t5={bars:QD,oval:e5,dots:JD},z7={loaders:t5,type:"oval"},P7=(t,{size:e,color:n})=>({root:{"--loader-size":Sn(e,"loader-size"),"--loader-color":n?Yi(n,t):void 0}}),$o=ft((t,e)=>{const n=Ze("Loader",z7,t),{size:r,color:i,type:o,vars:s,className:l,style:u,classNames:f,styles:h,unstyled:p,loaders:g,variant:v,children:b,attributes:y,..._}=n,E=jt({name:"Loader",props:n,classes:Lo,className:l,style:u,classNames:f,styles:h,unstyled:p,attributes:y,vars:s,varsResolver:P7});return b?S.jsx(ut,{...E("root"),ref:e,..._,children:b}):S.jsx(ut,{...E("root"),ref:e,component:g[o],variant:v,size:r,..._})});$o.defaultLoaders=t5;$o.classes=Lo;$o.displayName="@mantine/core/Loader";var ed={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const VA={orientation:"horizontal"},L7=(t,{borderWidth:e})=>({group:{"--ai-border-width":Ke(e)}}),ZS=ft((t,e)=>{const n=Ze("ActionIconGroup",VA,t),{className:r,style:i,classNames:o,styles:s,unstyled:l,orientation:u,vars:f,borderWidth:h,variant:p,mod:g,attributes:v,...b}=Ze("ActionIconGroup",VA,t),y=jt({name:"ActionIconGroup",props:n,classes:ed,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:v,vars:f,varsResolver:L7,rootSelector:"group"});return S.jsx(ut,{...y("group"),ref:e,variant:p,mod:[{"data-orientation":u},g],role:"group",...b})});ZS.classes=ed;ZS.displayName="@mantine/core/ActionIconGroup";const B7=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":Sn(s,"section-height"),"--section-padding-x":Sn(s,"section-padding-x"),"--section-fz":li(s),"--section-radius":e===void 0?void 0:Lr(e),"--section-bg":n||i?l.background:void 0,"--section-color":l.color,"--section-bd":n||i?l.border:void 0}}},XS=ft((t,e)=>{const n=Ze("ActionIconGroupSection",null,t),{className:r,style:i,classNames:o,styles:s,unstyled:l,vars:u,variant:f,gradient:h,radius:p,autoContrast:g,attributes:v,...b}=n,y=jt({name:"ActionIconGroupSection",props:n,classes:ed,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:v,vars:u,varsResolver:B7,rootSelector:"groupSection"});return S.jsx(ut,{...y("groupSection"),ref:e,variant:f,...b})});XS.classes=ed;XS.displayName="@mantine/core/ActionIconGroupSection";const I7=(t,{size:e,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const l=t.variantColorResolver({color:o||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":Sn(e,"ai-size"),"--ai-radius":n===void 0?void 0:Lr(n),"--ai-bg":o||r?l.background:void 0,"--ai-hover":o||r?l.hover:void 0,"--ai-hover-color":o||r?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":o||r?l.border:void 0}}},Yr=Gi((t,e)=>{const n=Ze("ActionIcon",null,t),{className:r,unstyled:i,variant:o,classNames:s,styles:l,style:u,loading:f,loaderProps:h,size:p,color:g,radius:v,__staticSelector:b,gradient:y,vars:_,children:E,disabled:A,"data-disabled":O,autoContrast:T,mod:R,attributes:N,...j}=n,U=jt({name:["ActionIcon",b],props:n,className:r,style:u,classes:ed,classNames:s,styles:l,unstyled:i,attributes:N,vars:_,varsResolver:I7});return S.jsxs(ir,{...U("root",{active:!A&&!f&&!O}),...j,unstyled:i,variant:o,size:p,disabled:A||f,ref:e,mod:[{loading:f,disabled:A||O},R],children:[typeof f=="boolean"&&S.jsx(Ds,{mounted:f,transition:"slide-down",duration:150,children:H=>S.jsx(ut,{component:"span",...U("loader",{style:H}),"aria-hidden":!0,children:S.jsx($o,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...h})})}),S.jsx(ut,{component:"span",mod:{loading:f},...U("icon"),children:E})]})});Yr.classes=ed;Yr.displayName="@mantine/core/ActionIcon";Yr.Group=ZS;Yr.GroupSection=XS;const n5=P.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>S.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n,children:S.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));n5.displayName="@mantine/core/CloseIcon";var r5={root:"m_86a44da5","root--subtle":"m_220c80f2"};const $7={variant:"subtle"},F7=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":Sn(e,"cb-size"),"--cb-radius":n===void 0?void 0:Lr(n),"--cb-icon-size":Ke(r)}}),td=Gi((t,e)=>{const n=Ze("CloseButton",$7,t),{iconSize:r,children:i,vars:o,radius:s,className:l,classNames:u,style:f,styles:h,unstyled:p,"data-disabled":g,disabled:v,variant:b,icon:y,mod:_,attributes:E,__staticSelector:A,...O}=n,T=jt({name:A||"CloseButton",props:n,className:l,style:f,classes:r5,classNames:u,styles:h,unstyled:p,attributes:E,vars:o,varsResolver:F7});return S.jsxs(ir,{ref:e,...O,unstyled:p,variant:b,disabled:v,mod:[{disabled:v||g},_],...T("root",{variant:b,active:!v&&!g}),children:[y||S.jsx(n5,{}),i]})});td.classes=r5;td.displayName="@mantine/core/CloseButton";function U7(t){return P.Children.toArray(t).filter(Boolean)}var i5={root:"m_4081bf90"};const H7={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},q7=(t,{grow:e,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:l})=>({root:{"--group-child-width":e&&n?l:void 0,"--group-gap":ly(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),Pr=ft((t,e)=>{const n=Ze("Group",H7,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,children:u,gap:f,align:h,justify:p,wrap:g,grow:v,preventGrowOverflow:b,vars:y,variant:_,__size:E,mod:A,attributes:O,...T}=n,R=U7(u),N=R.length,j=ly(f??"md"),H={childWidth:`calc(${100/N}% - (${j} - ${j} / ${N}))`},Z=jt({name:"Group",props:n,stylesCtx:H,className:i,style:o,classes:i5,classNames:r,styles:s,unstyled:l,attributes:O,vars:y,varsResolver:q7});return S.jsx(ut,{...Z("root"),ref:e,variant:_,mod:[{grow:v},A],size:E,...T,children:R})});Pr.classes=i5;Pr.displayName="@mantine/core/Group";const[K7,Aa]=Wo("ModalBase component was not found in tree");function V7({opened:t,transitionDuration:e}){const[n,r]=P.useState(t),i=P.useRef(-1),s=CS()?0:e;return P.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[t,s]),n}function W7({id:t,transitionProps:e,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const l=Ps(t),[u,f]=P.useState(!1),[h,p]=P.useState(!1),g=typeof e?.duration=="number"?e?.duration:200,v=V7({opened:n,transitionDuration:g});return ZP("keydown",b=>{b.key==="Escape"&&i&&!b.isComposing&&n&&b.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&o()},{capture:!0}),XT({opened:n,shouldReturnFocus:r&&s}),{_id:l,titleMounted:u,bodyMounted:h,shouldLockScroll:v,setTitleMounted:f,setBodyMounted:p}}const GS=P.forwardRef(({keepMounted:t,opened:e,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:o,onEnterTransitionEnd:s,trapFocus:l,closeOnEscape:u,returnFocus:f,closeOnClickOutside:h,withinPortal:p,portalProps:g,lockScroll:v,children:b,zIndex:y,shadow:_,padding:E,__vars:A,unstyled:O,removeScrollProps:T,...R},N)=>{const{_id:j,titleMounted:U,bodyMounted:H,shouldLockScroll:Z,setTitleMounted:te,setBodyMounted:I}=W7({id:r,transitionProps:i,opened:e,trapFocus:l,closeOnEscape:u,onClose:n,returnFocus:f}),{key:Y,...M}=T||{};return S.jsx(ka,{...g,withinPortal:p,children:S.jsx(K7,{value:{opened:e,onClose:n,closeOnClickOutside:h,onExitTransitionEnd:o,onEnterTransitionEnd:s,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${j}-title`,getBodyId:()=>`${j}-body`,titleMounted:U,bodyMounted:H,setTitleMounted:te,setBodyMounted:I,trapFocus:l,closeOnEscape:u,zIndex:y,unstyled:O},children:S.jsx(yv,{enabled:Z&&v,...M,children:S.jsx(ut,{ref:N,...R,__vars:{...A,"--mb-z-index":(y||Or("modal")).toString(),"--mb-shadow":_S(_),"--mb-padding":ly(E)},children:b})},Y)})})});GS.displayName="@mantine/core/ModalBase";function Y7(){const t=Aa();return P.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var Tf={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const QS=P.forwardRef(({className:t,...e},n)=>{const r=Y7(),i=Aa();return S.jsx(ut,{ref:n,...e,id:r,className:Zr({[Tf.body]:!i.unstyled},t)})});QS.displayName="@mantine/core/ModalBaseBody";const JS=P.forwardRef(({className:t,onClick:e,...n},r)=>{const i=Aa();return S.jsx(td,{ref:r,...n,onClick:o=>{i.onClose(),e?.(o)},className:Zr({[Tf.close]:!i.unstyled},t),unstyled:i.unstyled})});JS.displayName="@mantine/core/ModalBaseCloseButton";const e2=P.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const l=Aa();return S.jsx(Ds,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{l.onExitTransitionEnd?.(),l.transitionProps?.onExited?.()},onEntered:()=>{l.onEnterTransitionEnd?.(),l.transitionProps?.onEntered?.()},...t,children:u=>S.jsx("div",{...n,className:Zr({[Tf.inner]:!l.unstyled},n.className),children:S.jsx(xy,{active:l.opened&&l.trapFocus,innerRef:s,children:S.jsx(Af,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[i,u],className:Zr({[Tf.content]:!l.unstyled},e),unstyled:l.unstyled,children:o.children})})})})});e2.displayName="@mantine/core/ModalBaseContent";const t2=P.forwardRef(({className:t,...e},n)=>{const r=Aa();return S.jsx(ut,{component:"header",ref:n,className:Zr({[Tf.header]:!r.unstyled},t),...e})});t2.displayName="@mantine/core/ModalBaseHeader";const Z7={duration:200,timingFunction:"ease",transition:"fade"};function X7(t){const e=Aa();return{...Z7,...e.transitionProps,...t}}const n2=P.forwardRef(({onClick:t,transitionProps:e,style:n,visible:r,...i},o)=>{const s=Aa(),l=X7(e);return S.jsx(Ds,{mounted:r!==void 0?r:s.opened,...l,transition:"fade",children:u=>S.jsx(Of,{ref:o,fixed:!0,style:[n,u],zIndex:s.zIndex,unstyled:s.unstyled,onClick:f=>{t?.(f),s.closeOnClickOutside&&s.onClose()},...i})})});n2.displayName="@mantine/core/ModalBaseOverlay";function G7(){const t=Aa();return P.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const r2=P.forwardRef(({className:t,...e},n)=>{const r=G7(),i=Aa();return S.jsx(ut,{component:"h2",ref:n,className:Zr({[Tf.title]:!i.unstyled},t),...e,id:r})});r2.displayName="@mantine/core/ModalBaseTitle";function o5({children:t}){return S.jsx(S.Fragment,{children:t})}const[Q7,J7]=Xf({size:"sm"}),s5=ft((t,e)=>{const n=Ze("InputClearButton",null,t),{size:r,variant:i,vars:o,classNames:s,styles:l,...u}=n,f=J7(),{resolvedClassNames:h,resolvedStyles:p}=ql({classNames:s,styles:l,props:n});return S.jsx(td,{variant:i||"transparent",ref:e,size:r||f?.size||"sm",classNames:h,styles:p,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...u.style},...u})});s5.displayName="@mantine/core/InputClearButton";const eI={xs:7,sm:8,md:10,lg:12,xl:15};function tI({__clearable:t,__clearSection:e,rightSection:n,__defaultRightSection:r,size:i="sm"}){const o=t&&e;return o&&(n||r)?S.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:eI[i]},children:[o,n||r]}):n||o||r}const[nI,Ap]=Xf({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var _o={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const rI=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${li(e)} - ${Ke(2)})`}}),Sy=ft((t,e)=>{const n=Ze("InputDescription",null,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,size:f,__staticSelector:h,__inheritStyles:p=!0,attributes:g,variant:v,...b}=Ze("InputDescription",null,n),y=Ap(),_=jt({name:["InputWrapper",h],props:n,classes:_o,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:g,rootSelector:"description",vars:u,varsResolver:rI}),E=p&&y?.getStyles||_;return S.jsx(ut,{component:"p",ref:e,variant:v,size:f,...E("description",y?.getStyles?{className:i,style:o}:void 0),...b})});Sy.classes=_o;Sy.displayName="@mantine/core/InputDescription";const iI=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${li(e)} - ${Ke(2)})`}}),_y=ft((t,e)=>{const n=Ze("InputError",null,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,size:f,attributes:h,__staticSelector:p,__inheritStyles:g=!0,variant:v,...b}=n,y=jt({name:["InputWrapper",p],props:n,classes:_o,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:h,rootSelector:"error",vars:u,varsResolver:iI}),_=Ap(),E=g&&_?.getStyles||y;return S.jsx(ut,{component:"p",ref:e,variant:v,size:f,...E("error",_?.getStyles?{className:i,style:o}:void 0),...b})});_y.classes=_o;_y.displayName="@mantine/core/InputError";const WA={labelElement:"label"},oI=(t,{size:e})=>({label:{"--input-label-size":li(e),"--input-asterisk-color":void 0}}),Cy=ft((t,e)=>{const n=Ze("InputLabel",WA,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,labelElement:f,size:h,required:p,htmlFor:g,onMouseDown:v,children:b,__staticSelector:y,variant:_,mod:E,attributes:A,...O}=Ze("InputLabel",WA,n),T=jt({name:["InputWrapper",y],props:n,classes:_o,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:A,rootSelector:"label",vars:u,varsResolver:oI}),R=Ap(),N=R?.getStyles||T;return S.jsxs(ut,{...N("label",R?.getStyles?{className:i,style:o}:void 0),component:f,variant:_,size:h,ref:e,htmlFor:f==="label"?g:void 0,mod:[{required:p},E],onMouseDown:j=>{v?.(j),!j.defaultPrevented&&j.detail>1&&j.preventDefault()},...O,children:[b,p&&S.jsx("span",{...N("required"),"aria-hidden":!0,children:" *"})]})});Cy.classes=_o;Cy.displayName="@mantine/core/InputLabel";const i2=ft((t,e)=>{const n=Ze("InputPlaceholder",null,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,__staticSelector:f,variant:h,error:p,mod:g,attributes:v,...b}=n,y=jt({name:["InputPlaceholder",f],props:n,classes:_o,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:v,rootSelector:"placeholder"});return S.jsx(ut,{...y("placeholder"),mod:[{error:!!p},g],component:"span",variant:h,ref:e,...b})});i2.classes=_o;i2.displayName="@mantine/core/InputPlaceholder";function sI(t,{hasDescription:e,hasError:n}){const r=t.findIndex(u=>u==="input"),i=t.slice(0,r),o=t.slice(r+1),s=e&&i.includes("description")||n&&i.includes("error");return{offsetBottom:e&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const aI={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},lI=(t,{size:e})=>({label:{"--input-label-size":li(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${li(e)} - ${Ke(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${li(e)} - ${Ke(2)})`}}),o2=ft((t,e)=>{const n=Ze("InputWrapper",aI,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,size:f,variant:h,__staticSelector:p,inputContainer:g,inputWrapperOrder:v,label:b,error:y,description:_,labelProps:E,descriptionProps:A,errorProps:O,labelElement:T,children:R,withAsterisk:N,id:j,required:U,__stylesApiProps:H,mod:Z,attributes:te,...I}=n,Y=jt({name:["InputWrapper",p],props:H||n,classes:_o,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:te,vars:u,varsResolver:lI}),M={size:f,variant:h,__staticSelector:p},J=Ps(j),V=typeof N=="boolean"?N:U,X=O?.id||`${J}-error`,Q=A?.id||`${J}-description`,ne=J,ue=!!y&&typeof y!="boolean",$=!!_,q=`${ue?X:""} ${$?Q:""}`,se=q.trim().length>0?q.trim():void 0,le=E?.id||`${J}-label`,me=b&&S.jsx(Cy,{labelElement:T,id:le,htmlFor:ne,required:V,...M,...E,children:b},"label"),je=$&&S.jsx(Sy,{...A,...M,size:A?.size||M.size,id:A?.id||Q,children:_},"description"),We=S.jsx(P.Fragment,{children:g(R)},"input"),Xe=ue&&P.createElement(_y,{...O,...M,size:O?.size||M.size,key:"error",id:O?.id||X},y),Ae=v.map(ht=>{switch(ht){case"label":return me;case"input":return We;case"description":return je;case"error":return Xe;default:return null}});return S.jsx(nI,{value:{getStyles:Y,describedBy:se,inputId:ne,labelId:le,...sI(v,{hasDescription:$,hasError:ue})},children:S.jsx(ut,{ref:e,variant:h,size:f,mod:[{error:!!y},Z],...Y("root"),...I,children:Ae})})});o2.classes=_o;o2.displayName="@mantine/core/InputWrapper";const cI={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},uI=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Sn(e.size,"input-height"),"--input-fz":li(e.size),"--input-radius":e.radius===void 0?void 0:Lr(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?Ke(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?Ke(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Sn(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),sr=Gi((t,e)=>{const n=Ze("Input",cI,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,required:u,__staticSelector:f,__stylesApiProps:h,size:p,wrapperProps:g,error:v,disabled:b,leftSection:y,leftSectionProps:_,leftSectionWidth:E,rightSection:A,rightSectionProps:O,rightSectionWidth:T,rightSectionPointerEvents:R,leftSectionPointerEvents:N,variant:j,vars:U,pointer:H,multiline:Z,radius:te,id:I,withAria:Y,withErrorStyles:M,mod:J,inputSize:V,attributes:X,__clearSection:Q,__clearable:ne,__defaultRightSection:ue,...$}=n,{styleProps:q,rest:se}=kp($),le=Ap(),me={offsetBottom:le?.offsetBottom,offsetTop:le?.offsetTop},je=jt({name:["Input",f],props:h||n,classes:_o,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:X,stylesCtx:me,rootSelector:"wrapper",vars:U,varsResolver:uI}),We=Y?{required:u,disabled:b,"aria-invalid":!!v,"aria-describedby":le?.describedBy,id:le?.inputId||I}:{},Xe=tI({__clearable:ne,__clearSection:Q,rightSection:A,__defaultRightSection:ue,size:p});return S.jsx(Q7,{value:{size:p||"sm"},children:S.jsxs(ut,{...je("wrapper"),...q,...g,mod:[{error:!!v&&M,pointer:H,disabled:b,multiline:Z,"data-with-right-section":!!Xe,"data-with-left-section":!!y},J],variant:j,size:p,children:[y&&S.jsx("div",{..._,"data-position":"left",...je("section",{className:_?.className,style:_?.style}),children:y}),S.jsx(ut,{component:"input",...se,...We,ref:e,required:u,mod:{disabled:b,error:!!v&&M},variant:j,__size:V,...je("input")}),Xe&&S.jsx("div",{...O,"data-position":"right",...je("section",{className:O?.className,style:O?.style}),children:Xe})]})})});sr.classes=_o;sr.Wrapper=o2;sr.Label=Cy;sr.Error=_y;sr.Description=Sy;sr.Placeholder=i2;sr.ClearButton=s5;sr.displayName="@mantine/core/Input";function fI(t,e,n){const r=Ze(t,e,n),{label:i,description:o,error:s,required:l,classNames:u,styles:f,className:h,unstyled:p,__staticSelector:g,__stylesApiProps:v,errorProps:b,labelProps:y,descriptionProps:_,wrapperProps:E,id:A,size:O,style:T,inputContainer:R,inputWrapperOrder:N,withAsterisk:j,variant:U,vars:H,mod:Z,attributes:te,...I}=r,{styleProps:Y,rest:M}=kp(I),J={label:i,description:o,error:s,required:l,classNames:u,className:h,__staticSelector:g,__stylesApiProps:v||r,errorProps:b,labelProps:y,descriptionProps:_,unstyled:p,styles:f,size:O,style:T,inputContainer:R,inputWrapperOrder:N,withAsterisk:j,variant:U,id:A,mod:Z,attributes:te,...E};return{...M,classNames:u,styles:f,unstyled:p,wrapperProps:{...J,...Y},inputProps:{required:l,classNames:u,styles:f,unstyled:p,size:O,__staticSelector:g,__stylesApiProps:v||r,error:s,variant:U,id:A,attributes:te}}}const dI={__staticSelector:"InputBase",withAria:!0,size:"sm"},Oa=Gi((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=fI("InputBase",dI,t);return S.jsx(sr.Wrapper,{...r,children:S.jsx(sr,{...n,...i,ref:e})})});Oa.classes={...sr.classes,...sr.Wrapper.classes};Oa.displayName="@mantine/core/InputBase";const hI={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var a5={root:"m_8bffd616"};const or=Gi((t,e)=>{const n=Ze("Flex",null,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,gap:f,rowGap:h,columnGap:p,align:g,justify:v,wrap:b,direction:y,attributes:_,...E}=n,A=jt({name:"Flex",classes:a5,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:_,vars:u}),O=ui(),T=lD(),R=aD({styleProps:{gap:f,rowGap:h,columnGap:p,align:g,justify:v,wrap:b,direction:y},theme:O,data:hI});return S.jsxs(S.Fragment,{children:[R.hasResponsiveStyles&&S.jsx(sD,{selector:`.${T}`,styles:R.styles,media:R.media}),S.jsx(ut,{ref:e,...A("root",{className:T,style:ay(R.inlineStyles)}),...E})]})});or.classes=a5;or.displayName="@mantine/core/Flex";function l5({open:t,close:e,openDelay:n,closeDelay:r}){const i=P.useRef(-1),o=P.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},l=()=>{s(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)},u=()=>{s(),r===0||r===void 0?e():o.current=window.setTimeout(e,r)};return P.useEffect(()=>s,[]),{openDropdown:l,closeDropdown:u}}function c5({style:t,size:e=16,...n}){return S.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:Ke(e),height:Ke(e),display:"block"},...n,children:S.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}c5.displayName="@mantine/core/AccordionChevron";var u5={root:"m_b6d8b162"};function pI(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const mI={inherit:!1},gI=(t,{variant:e,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":li(i),"--text-lh":RP(i),"--text-gradient":e==="gradient"?Ow(r,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?Yi(o,t):void 0}}),dn=Gi((t,e)=>{const n=Ze("Text",mI,t),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:l,span:u,__staticSelector:f,vars:h,className:p,style:g,classNames:v,styles:b,unstyled:y,variant:_,mod:E,size:A,attributes:O,...T}=n,R=jt({name:["Text",f],props:n,classes:u5,className:p,style:g,classNames:v,styles:b,unstyled:y,attributes:O,vars:h,varsResolver:gI});return S.jsx(ut,{...R("root",{focusable:!0}),ref:e,component:u?"span":"p",variant:_,mod:[{"data-truncate":pI(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},E],size:A,...T})});dn.classes=u5;dn.displayName="@mantine/core/Text";function f5(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>f5(e))}:t}function vI(t){return t?t.map(e=>f5(e)):[]}function d5(t){return t.reduce((e,n)=>"group"in n?{...e,...d5(n.items)}:(e[n.value]=n,e),{})}var Di={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const yI={error:null},bI=(t,{size:e,color:n})=>({chevron:{"--combobox-chevron-size":Sn(e,"combobox-chevron-size"),"--combobox-chevron-color":n?Yi(n,t):void 0}}),s2=ft((t,e)=>{const n=Ze("ComboboxChevron",yI,t),{size:r,error:i,style:o,className:s,classNames:l,styles:u,unstyled:f,vars:h,mod:p,...g}=n,v=jt({name:"ComboboxChevron",classes:Di,props:n,style:o,className:s,classNames:l,styles:u,unstyled:f,vars:h,varsResolver:bI,rootSelector:"chevron"});return S.jsx(ut,{component:"svg",...g,...v("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},p],ref:e,children:S.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});s2.classes=Di;s2.displayName="@mantine/core/ComboboxChevron";const[wI,Co]=Wo("Combobox component was not found in tree"),h5=P.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:r,...i},o)=>S.jsx(sr.ClearButton,{ref:o,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),e?.(s)},onClick:s=>{r(),n?.(s)}}));h5.displayName="@mantine/core/ComboboxClearButton";const a2=ft((t,e)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...l}=Ze("ComboboxDropdown",null,t),u=Co();return S.jsx(Zn.Dropdown,{...l,ref:e,role:"presentation","data-hidden":s||void 0,...u.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});a2.classes=Di;a2.displayName="@mantine/core/ComboboxDropdown";const xI={refProp:"ref"},p5=ft((t,e)=>{const{children:n,refProp:r}=Ze("ComboboxDropdownTarget",xI,t);if(Co(),!zs(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return S.jsx(Zn.Target,{ref:e,refProp:r,children:n})});p5.displayName="@mantine/core/ComboboxDropdownTarget";const l2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...l}=Ze("ComboboxEmpty",null,t),u=Co();return S.jsx(ut,{ref:e,...u.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...l})});l2.classes=Di;l2.displayName="@mantine/core/ComboboxEmpty";function c2({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=Co(),[l,u]=P.useState(null),f=p=>{if(t?.(p),!s.readOnly&&e){if(p.nativeEvent.isComposing)return;if(p.nativeEvent.code==="ArrowDown"&&(p.preventDefault(),s.store.dropdownOpened?u(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),u(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),p.nativeEvent.code==="ArrowUp"&&(p.preventDefault(),s.store.dropdownOpened?u(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),u(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),p.nativeEvent.code==="Enter"||p.nativeEvent.code==="NumpadEnter"){if(p.nativeEvent.keyCode===229)return;const g=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&g!==-1?(p.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(p.preventDefault(),s.store.openDropdown("keyboard"))}p.key==="Escape"&&s.store.closeDropdown("keyboard"),p.nativeEvent.code==="Space"&&i==="button"&&(p.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r?!!(s.store.listId&&s.store.dropdownOpened):void 0,"aria-controls":s.store.dropdownOpened&&s.store.listId?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&l||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:f}}const SI={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},m5=ft((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:l,autoComplete:u,...f}=Ze("ComboboxEventsTarget",SI,t);if(!zs(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const h=Co(),p=c2({targetType:l,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:u});return P.cloneElement(n,{...p,...f,[r]:kr(e,h.store.targetRef,uy(n))})});m5.displayName="@mantine/core/ComboboxEventsTarget";const u2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...l}=Ze("ComboboxFooter",null,t),u=Co();return S.jsx(ut,{ref:e,...u.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...l,onMouseDown:f=>{f.preventDefault()}})});u2.classes=Di;u2.displayName="@mantine/core/ComboboxFooter";const f2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:l,label:u,id:f,...h}=Ze("ComboboxGroup",null,t),p=Co(),g=Ps(f);return S.jsxs(ut,{ref:e,role:"group","aria-labelledby":u?g:void 0,...p.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...h,children:[u&&S.jsx("div",{id:g,...p.getStyles("groupLabel",{classNames:n,styles:o}),children:u}),l]})});f2.classes=Di;f2.displayName="@mantine/core/ComboboxGroup";const d2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...l}=Ze("ComboboxHeader",null,t),u=Co();return S.jsx(ut,{ref:e,...u.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...l,onMouseDown:f=>{f.preventDefault()}})});d2.classes=Di;d2.displayName="@mantine/core/ComboboxHeader";function g5({value:t,valuesDivider:e=",",...n}){return S.jsx("input",{type:"hidden",value:Array.isArray(t)?t.join(e):t||"",...n})}g5.displayName="@mantine/core/ComboboxHiddenInput";const h2=ft((t,e)=>{const n=Ze("ComboboxOption",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,onClick:u,id:f,active:h,onMouseDown:p,onMouseOver:g,disabled:v,selected:b,mod:y,..._}=n,E=Co(),A=P.useId(),O=f||A;return S.jsx(ut,{...E.getStyles("option",{className:i,classNames:r,styles:s,style:o}),..._,ref:e,id:O,mod:["combobox-option",{"combobox-active":h,"combobox-disabled":v,"combobox-selected":b},y],role:"option",onClick:T=>{v?T.preventDefault():(E.onOptionSubmit?.(n.value,n),u?.(T))},onMouseDown:T=>{T.preventDefault(),p?.(T)},onMouseOver:T=>{E.resetSelectionOnOptionHover&&E.store.resetSelectedOption(),g?.(T)}})});h2.classes=Di;h2.displayName="@mantine/core/ComboboxOption";const p2=ft((t,e)=>{const n=Ze("ComboboxOptions",null,t),{classNames:r,className:i,style:o,styles:s,id:l,onMouseDown:u,labelledBy:f,...h}=n,p=Co(),g=Ps(l);return P.useEffect(()=>{p.store.setListId(g)},[g]),S.jsx(ut,{ref:e,...p.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...h,id:g,role:"listbox","aria-labelledby":f,onMouseDown:v=>{v.preventDefault(),u?.(v)}})});p2.classes=Di;p2.displayName="@mantine/core/ComboboxOptions";const _I={withAriaAttributes:!0,withKeyboardNavigation:!0},m2=ft((t,e)=>{const n=Ze("ComboboxSearch",_I,t),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:l,onKeyDown:u,withKeyboardNavigation:f,size:h,...p}=n,g=Co(),v=g.getStyles("search"),b=c2({targetType:"input",withAriaAttributes:l,withKeyboardNavigation:f,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return S.jsx(sr,{ref:kr(e,g.store.searchRef),classNames:[{input:v.className},r],styles:[{input:v.style},i],size:h||g.size,...b,...p,__staticSelector:"Combobox"})});m2.classes=Di;m2.displayName="@mantine/core/ComboboxSearch";const CI={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},v5=ft((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:l,autoComplete:u,...f}=Ze("ComboboxTarget",CI,t);if(!zs(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const h=Co(),p=c2({targetType:l,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:u}),g=P.cloneElement(n,{...p,...f});return S.jsx(Zn.Target,{ref:kr(e,h.store.targetRef),children:g})});v5.displayName="@mantine/core/ComboboxTarget";function kI(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function EI(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function AI(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function y5({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[l,u]=Os({value:e,defaultValue:t,finalValue:!1,onChange:n}),f=P.useRef(null),h=P.useRef(-1),p=P.useRef(null),g=P.useRef(null),v=P.useRef(-1),b=P.useRef(-1),y=P.useRef(-1),_=P.useCallback((V="unknown")=>{l||(u(!0),i?.(V))},[u,i,l]),E=P.useCallback((V="unknown")=>{l&&(u(!1),r?.(V))},[u,r,l]),A=P.useCallback((V="unknown")=>{l?E(V):_(V)},[E,_,l]),O=P.useCallback(()=>{const V=document.querySelector(`#${f.current} [data-combobox-selected]`);V?.removeAttribute("data-combobox-selected"),V?.removeAttribute("aria-selected")},[]),T=P.useCallback(V=>{const Q=document.getElementById(f.current)?.querySelectorAll("[data-combobox-option]");if(!Q)return null;const ne=V>=Q.length?0:V<0?Q.length-1:V;return h.current=ne,Q?.[ne]&&!Q[ne].hasAttribute("data-combobox-disabled")?(O(),Q[ne].setAttribute("data-combobox-selected","true"),Q[ne].setAttribute("aria-selected","true"),Q[ne].scrollIntoView({block:"nearest",behavior:s}),Q[ne].id):null},[s,O]),R=P.useCallback(()=>{const V=document.querySelector(`#${f.current} [data-combobox-active]`);if(V){const X=document.querySelectorAll(`#${f.current} [data-combobox-option]`),Q=Array.from(X).findIndex(ne=>ne===V);return T(Q)}return T(0)},[T]),N=P.useCallback(()=>T(EI(h.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),o)),[T,o]),j=P.useCallback(()=>T(kI(h.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),o)),[T,o]),U=P.useCallback(()=>T(AI(document.querySelectorAll(`#${f.current} [data-combobox-option]`))),[T]),H=P.useCallback((V="selected",X)=>{y.current=window.setTimeout(()=>{const Q=document.querySelectorAll(`#${f.current} [data-combobox-option]`),ne=Array.from(Q).findIndex(ue=>ue.hasAttribute(`data-combobox-${V}`));h.current=ne,X?.scrollIntoView&&Q[ne]?.scrollIntoView({block:"nearest",behavior:s})},0)},[]),Z=P.useCallback(()=>{h.current=-1,O()},[O]),te=P.useCallback(()=>{document.querySelectorAll(`#${f.current} [data-combobox-option]`)?.[h.current]?.click()},[]),I=P.useCallback(V=>{f.current=V},[]),Y=P.useCallback(()=>{v.current=window.setTimeout(()=>p.current?.focus(),0)},[]),M=P.useCallback(()=>{b.current=window.setTimeout(()=>g.current?.focus(),0)},[]),J=P.useCallback(()=>h.current,[]);return P.useEffect(()=>()=>{window.clearTimeout(v.current),window.clearTimeout(b.current),window.clearTimeout(y.current)},[]),{dropdownOpened:l,openDropdown:_,closeDropdown:E,toggleDropdown:A,selectedOptionIndex:h.current,getSelectedOptionIndex:J,selectOption:T,selectFirstOption:U,selectActiveOption:R,selectNextOption:N,selectPreviousOption:j,resetSelectedOption:Z,updateSelectedOptionIndex:H,listId:f.current,setListId:I,clickSelectedOption:te,searchRef:p,focusSearchInput:Y,targetRef:g,focusTarget:M}}const OI={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},TI=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":li(e),"--combobox-option-padding":Sn(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Ke(n),"--combobox-option-fz":li(e),"--combobox-option-padding":Sn(e,"combobox-option-padding")}});function xn(t){const e=Ze("Combobox",OI,t),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:l,onOptionSubmit:u,onClose:f,size:h,dropdownPadding:p,resetSelectionOnOptionHover:g,__staticSelector:v,readOnly:b,attributes:y,..._}=e,E=y5(),A=s||E,O=jt({name:v||"Combobox",classes:Di,props:e,classNames:n,styles:r,unstyled:i,attributes:y,vars:l,varsResolver:TI}),T=()=>{f?.(),A.closeDropdown()};return S.jsx(wI,{value:{getStyles:O,store:A,onOptionSubmit:u,size:h,resetSelectionOnOptionHover:g,readOnly:b},children:S.jsx(Zn,{opened:A.dropdownOpened,preventPositionChangeWhenVisible:!0,..._,onChange:R=>!R&&T(),withRoles:!1,unstyled:i,children:o})})}const DI=t=>t;xn.extend=DI;xn.classes=Di;xn.displayName="@mantine/core/Combobox";xn.Target=v5;xn.Dropdown=a2;xn.Options=p2;xn.Option=h2;xn.Search=m2;xn.Empty=l2;xn.Chevron=s2;xn.Footer=u2;xn.Header=d2;xn.EventsTarget=m5;xn.DropdownTarget=p5;xn.Group=f2;xn.ClearButton=h5;xn.HiddenInput=g5;var b5={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const RI=b5,w5=P.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:r,styles:i,unstyled:o,children:s,label:l,description:u,id:f,disabled:h,error:p,size:g,labelPosition:v="left",bodyElement:b="div",labelElement:y="label",variant:_,style:E,vars:A,mod:O,attributes:T,...R},N)=>{const j=jt({name:t,props:e,className:n,style:E,classes:b5,classNames:r,styles:i,unstyled:o,attributes:T});return S.jsx(ut,{...j("root"),ref:N,__vars:{"--label-fz":li(g),"--label-lh":Sn(g,"label-lh")},mod:[{"label-position":v},O],variant:_,size:g,...R,children:S.jsxs(ut,{component:b,htmlFor:b==="label"?f:void 0,...j("body"),children:[s,S.jsxs("div",{...j("labelWrapper"),"data-disabled":h||void 0,children:[l&&S.jsx(ut,{component:y,htmlFor:y==="label"?f:void 0,...j("label"),"data-disabled":h||void 0,children:l}),u&&S.jsx(sr.Description,{size:g,__inheritStyles:!1,...j("description"),children:u}),p&&typeof p!="boolean"&&S.jsx(sr.Error,{size:g,__inheritStyles:!1,...j("error"),children:p})]})]})})});w5.displayName="@mantine/core/InlineInput";const x5=P.createContext(null),MI=x5.Provider,S5=()=>P.useContext(x5),[NI,jI]=Xf();var _5={card:"m_26775b0a"};const zI={withBorder:!0},PI=(t,{radius:e})=>({card:{"--card-radius":Lr(e)}}),g2=ft((t,e)=>{const n=Ze("CheckboxCard",zI,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,checked:f,mod:h,withBorder:p,value:g,onClick:v,defaultChecked:b,onChange:y,attributes:_,...E}=n,A=jt({name:"CheckboxCard",classes:_5,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:_,vars:u,varsResolver:PI,rootSelector:"card"}),O=S5(),T=typeof f=="boolean"?f:O?O.value.includes(g||""):void 0,[R,N]=Os({value:T,defaultValue:b,finalValue:!1,onChange:y});return S.jsx(NI,{value:{checked:R},children:S.jsx(ir,{ref:e,mod:[{"with-border":p,checked:R},h],...A("card"),...E,role:"checkbox","aria-checked":R,onClick:j=>{v?.(j),O?.onChange(g||""),N(!R)}})})});g2.displayName="@mantine/core/CheckboxCard";g2.classes=_5;function LI({children:t,role:e}){const n=Ap();return n?S.jsx("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:t}):S.jsx(S.Fragment,{children:t})}const v2=ft((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:l,readOnly:u,...f}=Ze("CheckboxGroup",null,t),[h,p]=Os({value:n,defaultValue:r,finalValue:[],onChange:i}),g=v=>{const b=typeof v=="string"?v:v.currentTarget.value;!u&&p(h.includes(b)?h.filter(y=>y!==b):[...h,b])};return S.jsx(MI,{value:{value:h,onChange:g,size:o},children:S.jsx(sr.Wrapper,{size:o,ref:e,...s,...f,labelElement:"div",__staticSelector:"CheckboxGroup",children:S.jsx(LI,{role:"group",children:l})})})});v2.classes=sr.Wrapper.classes;v2.displayName="@mantine/core/CheckboxGroup";function C5({size:t,style:e,...n}){const r=t!==void 0?{width:Ke(t),height:Ke(t),...e}:e;return S.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:S.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function k5({indeterminate:t,...e}){return t?S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e,children:S.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):S.jsx(C5,{...e})}var E5={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const BI={icon:k5,variant:"filled"},II=(t,{radius:e,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const l=Ls({color:n||t.primaryColor,theme:t}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{indicator:{"--checkbox-size":Sn(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:Lr(e),"--checkbox-color":o==="outline"?u:Yi(n,t),"--checkbox-icon-color":i?Yi(i,t):TS(s,t)?hy({color:n,theme:t,autoContrast:s}):void 0}}},y2=ft((t,e)=>{const n=Ze("CheckboxIndicator",BI,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,icon:f,indeterminate:h,radius:p,color:g,iconColor:v,autoContrast:b,checked:y,mod:_,variant:E,disabled:A,attributes:O,...T}=n,R=jt({name:"CheckboxIndicator",classes:E5,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:O,vars:u,varsResolver:II,rootSelector:"indicator"}),N=jI(),j=typeof y=="boolean"||typeof h=="boolean"?y||h:N?.checked||!1;return S.jsx(ut,{ref:e,...R("indicator",{variant:E}),variant:E,mod:[{checked:j,disabled:A},_],...T,children:S.jsx(f,{indeterminate:h,...R("icon")})})});y2.displayName="@mantine/core/CheckboxIndicator";y2.classes=E5;var A5={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const $I={labelPosition:"right",icon:k5,variant:"filled"},FI=(t,{radius:e,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const l=Ls({color:n||t.primaryColor,theme:t}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{root:{"--checkbox-size":Sn(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:Lr(e),"--checkbox-color":o==="outline"?u:Yi(n,t),"--checkbox-icon-color":i?Yi(i,t):TS(s,t)?hy({color:n,theme:t,autoContrast:s}):void 0}}},Vl=ft((t,e)=>{const n=Ze("Checkbox",$I,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,color:f,label:h,id:p,size:g,radius:v,wrapperProps:b,checked:y,labelPosition:_,description:E,error:A,disabled:O,variant:T,indeterminate:R,icon:N,rootRef:j,iconColor:U,onChange:H,autoContrast:Z,mod:te,attributes:I,...Y}=n,M=S5(),J=g||M?.size,V=jt({name:"Checkbox",props:n,classes:A5,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:I,vars:u,varsResolver:FI}),{styleProps:X,rest:Q}=kp(Y),ne=Ps(p),ue=M?{checked:M.value.includes(Q.value),onChange:se=>{M.onChange(se),H?.(se)}}:{},$=P.useRef(null),q=e||$;return P.useEffect(()=>{q&&"current"in q&&q.current&&(q.current.indeterminate=R||!1)},[R,q]),S.jsx(w5,{...V("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:ne,size:J,labelPosition:_,label:h,description:E,error:A,disabled:O,classNames:r,styles:s,unstyled:l,"data-checked":ue.checked||y||void 0,variant:T,ref:j,mod:te,...X,...b,children:S.jsxs(ut,{...V("inner"),mod:{"data-label-position":_},children:[S.jsx(ut,{component:"input",id:ne,ref:q,checked:y,disabled:O,mod:{error:!!A,indeterminate:R},...V("input",{focusable:!0,variant:T}),onChange:H,...Q,...ue,type:"checkbox"}),S.jsx(N,{indeterminate:R,...V("icon")})]})})});Vl.classes={...A5,...RI};Vl.displayName="@mantine/core/Checkbox";Vl.Group=v2;Vl.Indicator=y2;Vl.Card=g2;function ip(t){return"group"in t}function O5({options:t,search:e,limit:n}){const r=e.trim().toLowerCase(),i=[];for(let o=0;o<t.length;o+=1){const s=t[o];if(i.length===n)return i;ip(s)&&i.push({group:s.group,items:O5({options:s.items,search:e,limit:n-i.length})}),ip(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function UI(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function T5(t,e=new Set){if(Array.isArray(t))for(const n of t)if(ip(n))T5(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function HI(t,e){return Array.isArray(t)?t.includes(e):t===e}function D5({data:t,withCheckIcon:e,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!ip(t)){const l=HI(n,t.value),u=e&&l&&S.jsx(C5,{className:Di.optionsDropdownCheckIcon}),f=S.jsxs(S.Fragment,{children:[r==="left"&&u,S.jsx("span",{children:t.label}),r==="right"&&u]});return S.jsx(xn.Option,{value:t.value,disabled:t.disabled,className:Zr({[Di.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":l||void 0,"aria-selected":l,active:l,children:typeof o=="function"?o({option:t,checked:l}):f})}const s=t.items.map(l=>S.jsx(D5,{data:l,value:n,unstyled:i,withCheckIcon:e,checkIconPosition:r,renderOption:o},l.value));return S.jsx(xn.Group,{label:t.group,children:s})}function qI({data:t,hidden:e,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:l=!0,filterOptions:u=!0,withCheckIcon:f=!1,value:h,checkIconPosition:p,nothingFoundMessage:g,unstyled:v,labelId:b,renderOption:y,scrollAreaProps:_,"aria-label":E}){T5(t);const O=typeof i=="string"?(r||O5)({options:t,search:u?i:"",limit:o??1/0}):t,T=UI(O),R=O.map(N=>S.jsx(D5,{data:N,withCheckIcon:f,value:h,checkIconPosition:p,unstyled:v,renderOption:y},ip(N)?N.group:N.value));return S.jsx(xn.Dropdown,{hidden:e||n&&T,"data-composed":!0,children:S.jsxs(xn.Options,{labelledBy:b,"aria-label":E,children:[l?S.jsx(Kl.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",..._,children:R}):R,T&&g&&S.jsx(xn.Empty,{children:g})]})})}var nd={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const YA={orientation:"horizontal"},KI=(t,{borderWidth:e})=>({group:{"--button-border-width":Ke(e)}}),b2=ft((t,e)=>{const n=Ze("ButtonGroup",YA,t),{className:r,style:i,classNames:o,styles:s,unstyled:l,orientation:u,vars:f,borderWidth:h,variant:p,mod:g,attributes:v,...b}=Ze("ButtonGroup",YA,t),y=jt({name:"ButtonGroup",props:n,classes:nd,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:v,vars:f,varsResolver:KI,rootSelector:"group"});return S.jsx(ut,{...y("group"),ref:e,variant:p,mod:[{"data-orientation":u},g],role:"group",...b})});b2.classes=nd;b2.displayName="@mantine/core/ButtonGroup";const VI=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":Sn(s,"section-height"),"--section-padding-x":Sn(s,"section-padding-x"),"--section-fz":s?.includes("compact")?li(s.replace("compact-","")):li(s),"--section-radius":e===void 0?void 0:Lr(e),"--section-bg":n||i?l.background:void 0,"--section-color":l.color,"--section-bd":n||i?l.border:void 0}}},w2=ft((t,e)=>{const n=Ze("ButtonGroupSection",null,t),{className:r,style:i,classNames:o,styles:s,unstyled:l,vars:u,variant:f,gradient:h,radius:p,autoContrast:g,attributes:v,...b}=n,y=jt({name:"ButtonGroupSection",props:n,classes:nd,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:v,vars:u,varsResolver:VI,rootSelector:"groupSection"});return S.jsx(ut,{...y("groupSection"),ref:e,variant:f,...b})});w2.classes=nd;w2.displayName="@mantine/core/ButtonGroupSection";const WI={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ke(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},YI=(t,{radius:e,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:l})=>{const u=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:l});return{root:{"--button-justify":s,"--button-height":Sn(o,"button-height"),"--button-padding-x":Sn(o,"button-padding-x"),"--button-fz":o?.includes("compact")?li(o.replace("compact-","")):li(o),"--button-radius":e===void 0?void 0:Lr(e),"--button-bg":n||i?u.background:void 0,"--button-hover":n||i?u.hover:void 0,"--button-color":u.color,"--button-bd":n||i?u.border:void 0,"--button-hover-color":n||i?u.hoverColor:void 0}}},fn=Gi((t,e)=>{const n=Ze("Button",null,t),{style:r,vars:i,className:o,color:s,disabled:l,children:u,leftSection:f,rightSection:h,fullWidth:p,variant:g,radius:v,loading:b,loaderProps:y,gradient:_,classNames:E,styles:A,unstyled:O,"data-disabled":T,autoContrast:R,mod:N,attributes:j,...U}=n,H=jt({name:"Button",props:n,classes:nd,className:o,style:r,classNames:E,styles:A,unstyled:O,attributes:j,vars:i,varsResolver:YI}),Z=!!f,te=!!h;return S.jsxs(ir,{ref:e,...H("root",{active:!l&&!b&&!T}),unstyled:O,variant:g,disabled:l||b,mod:[{disabled:l||T,loading:b,block:p,"with-left-section":Z,"with-right-section":te},N],...U,children:[typeof b=="boolean"&&S.jsx(Ds,{mounted:b,transition:WI,duration:150,children:I=>S.jsx(ut,{component:"span",...H("loader",{style:I}),"aria-hidden":!0,children:S.jsx($o,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...y})})}),S.jsxs("span",{...H("inner"),children:[f&&S.jsx(ut,{component:"span",...H("section"),mod:{position:"left"},children:f}),S.jsx(ut,{component:"span",mod:{loading:b},...H("label"),children:u}),h&&S.jsx(ut,{component:"span",...H("section"),mod:{position:"right"},children:h})]})]})});fn.classes=nd;fn.displayName="@mantine/core/Button";fn.Group=b2;fn.GroupSection=w2;var R5={root:"m_3eebeb36",label:"m_9e365f20"};const ZI={orientation:"horizontal"},XI=(t,{color:e,variant:n,size:r})=>({root:{"--divider-color":e?Yi(e,t):void 0,"--divider-border-style":n,"--divider-size":Sn(r,"divider-size")}}),Op=ft((t,e)=>{const n=Ze("Divider",ZI,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,color:f,orientation:h,label:p,labelPosition:g,mod:v,attributes:b,...y}=n,_=jt({name:"Divider",classes:R5,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:b,vars:u,varsResolver:XI});return S.jsx(ut,{ref:e,mod:[{orientation:h,"with-label":!!p},v],..._("root"),...y,role:"separator",children:p&&S.jsx(ut,{component:"span",mod:{position:g},..._("label"),children:p})})});Op.classes=R5;Op.displayName="@mantine/core/Divider";const[GI,rd]=Wo("Drawer component was not found in tree");var Ta={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const ky=ft((t,e)=>{const n=Ze("DrawerBody",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=rd();return S.jsx(QS,{ref:e,...f.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...u})});ky.classes=Ta;ky.displayName="@mantine/core/DrawerBody";const Ey=ft((t,e)=>{const n=Ze("DrawerCloseButton",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=rd();return S.jsx(JS,{ref:e,...f.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...u})});Ey.classes=Ta;Ey.displayName="@mantine/core/DrawerCloseButton";const Ay=ft((t,e)=>{const n=Ze("DrawerContent",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,children:u,radius:f,__hidden:h,...p}=n,g=rd(),v=g.scrollAreaComponent||o5;return S.jsx(e2,{...g.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:g.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),ref:e,...p,radius:f||g.radius||0,"data-hidden":h||void 0,children:S.jsx(v,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:u})})});Ay.classes=Ta;Ay.displayName="@mantine/core/DrawerContent";const Oy=ft((t,e)=>{const n=Ze("DrawerHeader",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=rd();return S.jsx(t2,{ref:e,...f.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...u})});Oy.classes=Ta;Oy.displayName="@mantine/core/DrawerHeader";const Ty=ft((t,e)=>{const n=Ze("DrawerOverlay",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=rd();return S.jsx(n2,{ref:e,...f.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...u})});Ty.classes=Ta;Ty.displayName="@mantine/core/DrawerOverlay";function QI(t){switch(t){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function JI(t){if(t==="top"||t==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const e$={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},t$={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},n$={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Or("modal"),position:"left"},r$=(t,{position:e,size:n,offset:r})=>({root:{"--drawer-size":Sn(n,"drawer-size"),"--drawer-flex":JI(e),"--drawer-height":e==="left"||e==="right"?void 0:"var(--drawer-size)","--drawer-align":QI(e),"--drawer-justify":e==="right"?"flex-end":void 0,"--drawer-offset":Ke(r)}}),Dy=ft((t,e)=>{const n=Ze("DrawerRoot",n$,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,scrollAreaComponent:f,position:h,transitionProps:p,radius:g,attributes:v,...b}=n,{dir:y}=ru(),_=jt({name:"Drawer",classes:Ta,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:v,vars:u,varsResolver:r$}),E=(y==="rtl"?t$:e$)[h];return S.jsx(GI,{value:{scrollAreaComponent:f,getStyles:_,radius:g},children:S.jsx(GS,{ref:e,..._("root"),transitionProps:{transition:E,...p},"data-offset-scrollbars":f===Kl.Autosize||void 0,unstyled:l,...b})})});Dy.classes=Ta;Dy.displayName="@mantine/core/DrawerRoot";const[i$,o$]=Xf();function M5({children:t}){const[e,n]=P.useState([]),[r,i]=P.useState(Or("modal"));return S.jsx(i$,{value:{stack:e,addModal:(o,s)=>{n(l=>[...new Set([...l,o])]),i(l=>typeof s=="number"&&typeof l=="number"?Math.max(l,s):l)},removeModal:o=>n(s=>s.filter(l=>l!==o)),getZIndex:o=>`calc(${r} + ${e.indexOf(o)} + 1)`,currentId:e[e.length-1],maxZIndex:r},children:t})}M5.displayName="@mantine/core/DrawerStack";const Ry=ft((t,e)=>{const n=Ze("DrawerTitle",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=rd();return S.jsx(r2,{ref:e,...f.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...u})});Ry.classes=Ta;Ry.displayName="@mantine/core/DrawerTitle";const s$={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Or("modal"),withOverlay:!0,withCloseButton:!0},Qi=ft((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:l,opened:u,stackId:f,zIndex:h,...p}=Ze("Drawer",s$,t),g=o$(),v=!!n||o,b=g&&f?{closeOnEscape:g.currentId===f,trapFocus:g.currentId===f,zIndex:g.getZIndex(f)}:{},y=r===!1?!1:f&&g?g.currentId===f:u;return P.useEffect(()=>{g&&f&&(u?g.addModal(f,h||Or("modal")):g.removeModal(f))},[u,f,h]),S.jsxs(Dy,{ref:e,opened:u,zIndex:g&&f?g.getZIndex(f):h,...p,...b,children:[r&&S.jsx(Ty,{visible:y,transitionProps:g&&f?{duration:0}:void 0,...i}),S.jsxs(Ay,{__hidden:g&&f&&u?f!==g.currentId:!1,children:[v&&S.jsxs(Oy,{children:[n&&S.jsx(Ry,{children:n}),o&&S.jsx(Ey,{...s})]}),S.jsx(ky,{children:l})]})]})});Qi.classes=Ta;Qi.displayName="@mantine/core/Drawer";Qi.Root=Dy;Qi.Overlay=Ty;Qi.Content=Ay;Qi.Body=ky;Qi.Header=Oy;Qi.Title=Ry;Qi.CloseButton=Ey;Qi.Stack=M5;const a$={multiple:!1},N5=P.forwardRef((t,e)=>{const{onChange:n,children:r,multiple:i,accept:o,name:s,form:l,resetRef:u,disabled:f,capture:h,inputProps:p,...g}=Ze("FileButton",a$,t),v=P.useRef(null),b=()=>{!f&&v.current?.click()},y=E=>{if(E.currentTarget.files===null)return n(i?[]:null);n(i?Array.from(E.currentTarget.files):E.currentTarget.files[0]||null)};return Jh(u,()=>{v.current&&(v.current.value="")}),S.jsxs(S.Fragment,{children:[S.jsx("input",{style:{display:"none"},type:"file",accept:o,multiple:i,onChange:y,ref:kr(e,v),name:s,form:l,capture:h,...p}),r({onClick:b,...g})]})});N5.displayName="@mantine/core/FileButton";const l$=({value:t})=>S.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t?.name}),c$={valueComponent:l$},x2=ft((t,e)=>{const n=Ze("FileInput",c$,t),{unstyled:r,vars:i,onChange:o,value:s,defaultValue:l,multiple:u,accept:f,name:h,form:p,valueComponent:g,clearable:v,clearButtonProps:b,readOnly:y,capture:_,fileInputProps:E,rightSection:A,size:O,placeholder:T,component:R,resetRef:N,classNames:j,styles:U,attributes:H,...Z}=n,te=P.useRef(null),{resolvedClassNames:I,resolvedStyles:Y}=ql({classNames:j,styles:U,props:n}),[M,J]=Os({value:s,defaultValue:l,onChange:o,finalValue:u?[]:null}),V=Array.isArray(M)?M.length!==0:M!==null,X=A||(v&&V&&!y?S.jsx(td,{...b,variant:"subtle",onClick:()=>J(u?[]:null),size:O,unstyled:r}):null);return P.useEffect(()=>{(Array.isArray(M)&&M.length===0||M===null)&&te.current?.()},[M]),S.jsx(N5,{onChange:J,multiple:u,accept:f,name:h,form:p,resetRef:kr(te,N),disabled:y,capture:_,inputProps:E,children:Q=>S.jsx(Oa,{component:R||"button",ref:e,rightSection:X,...Q,...Z,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:O,classNames:j,styles:U,attributes:H,children:V?S.jsx(g,{value:M}):S.jsx(sr.Placeholder,{__staticSelector:"FileInput",classNames:I,styles:Y,attributes:H,children:T})})})});x2.classes=Oa.classes;x2.displayName="@mantine/core/FileInput";const j5=x2;function ZA({color:t,theme:e,defaultShade:n}){const r=Ls({color:t,theme:e});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:t}var z5={root:"m_bcb3f3c2"};const u$={color:"yellow"},f$=(t,{color:e})=>({root:{"--mark-bg-dark":ZA({color:e,theme:t,defaultShade:5}),"--mark-bg-light":ZA({color:e,theme:t,defaultShade:2})}}),S2=ft((t,e)=>{const n=Ze("Mark",u$,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,color:f,variant:h,attributes:p,...g}=n,v=jt({name:"Mark",props:n,className:i,style:o,classes:z5,classNames:r,styles:s,unstyled:l,attributes:p,vars:u,varsResolver:f$});return S.jsx(ut,{component:"mark",ref:e,variant:h,...v("root"),...g})});S2.classes=z5;S2.displayName="@mantine/core/Mark";function XA(t){return t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function d$(t,e){if(e==null)return[{chunk:t,highlighted:!1}];const n=Array.isArray(e)?e.map(XA):XA(e);if(!(Array.isArray(n)?n.filter(l=>l.trim().length>0).length>0:n.trim()!==""))return[{chunk:t,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(l=>l.trim().length!==0).map(l=>l.trim()).sort((l,u)=>u.length-l.length).join("|"),o=new RegExp(`(${i})`,"gi");return t.split(o).map(l=>({chunk:l,highlighted:o.test(l)})).filter(({chunk:l})=>l)}const _2=Gi((t,e)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:o,color:s,...l}=Ze("Highlight",null,t),u=d$(r,i);return S.jsx(dn,{unstyled:n,ref:e,...l,__staticSelector:"Highlight",children:u.map(({chunk:f,highlighted:h},p)=>h?S.jsx(S2,{unstyled:n,color:s,style:o,"data-highlight":f,children:f},p):S.jsx("span",{children:f},p))})});_2.classes=dn.classes;_2.displayName="@mantine/core/Highlight";function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}function P5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var L5={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const GA={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Or("overlay")},h$=(t,{zIndex:e})=>({root:{"--lo-z-index":e?.toString()}}),C2=ft((t,e)=>{const n=Ze("LoadingOverlay",GA,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,transitionProps:f,loaderProps:h,overlayProps:p,visible:g,zIndex:v,attributes:b,...y}=n,_=ui(),E=jt({name:"LoadingOverlay",classes:L5,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:b,vars:u,varsResolver:h$}),A={...GA.overlayProps,...p};return S.jsx(Ds,{transition:"fade",...f,mounted:!!g,children:O=>S.jsxs(ut,{...E("root",{style:O}),ref:e,...y,children:[S.jsx($o,{...E("loader"),unstyled:l,...h}),S.jsx(Of,{...A,...E("overlay"),darkHidden:!0,unstyled:l,color:p?.color||_.white}),S.jsx(Of,{...A,...E("overlay"),lightHidden:!0,unstyled:l,color:p?.color||_.colors.dark[5]})]})})});C2.classes=L5;C2.displayName="@mantine/core/LoadingOverlay";const[p$,Wl]=Wo("Menu component was not found in the tree");var Yl={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504",chevron:"m_b85b0bed"};const k2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...l}=Ze("MenuDivider",null,t),u=Wl();return S.jsx(ut,{ref:e,...u.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...l})});k2.classes=Yl;k2.displayName="@mantine/core/MenuDivider";const E2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:l,onMouseLeave:u,onKeyDown:f,children:h,...p}=Ze("MenuDropdown",null,t),g=P.useRef(null),v=Wl(),b=Ai(f,E=>{(E.key==="ArrowUp"||E.key==="ArrowDown")&&(E.preventDefault(),g.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())}),y=Ai(l,()=>(v.trigger==="hover"||v.trigger==="click-hover")&&v.openDropdown()),_=Ai(u,()=>(v.trigger==="hover"||v.trigger==="click-hover")&&v.closeDropdown());return S.jsxs(Zn.Dropdown,{...p,onMouseEnter:y,onMouseLeave:_,role:"menu","aria-orientation":"vertical",ref:kr(e,g),...v.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:b,children:[v.withInitialFocusPlaceholder&&S.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),h]})});E2.classes=Yl;E2.displayName="@mantine/core/MenuDropdown";const[m$,My]=Xf(),A2=Gi((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:l,closeMenuOnClick:u,leftSection:f,rightSection:h,children:p,disabled:g,"data-disabled":v,...b}=Ze("MenuItem",null,t),y=Wl(),_=My(),E=ui(),{dir:A}=ru(),O=P.useRef(null),T=b,R=Ai(T.onClick,()=>{v||(typeof u=="boolean"?u&&y.closeDropdownImmediately():y.closeOnItemClick&&y.closeDropdownImmediately())}),N=l?E.variantColorResolver({color:l,theme:E,variant:"light"}):void 0,j=l?Ls({color:l,theme:E}):null,U=Ai(T.onKeyDown,H=>{H.key==="ArrowLeft"&&_&&(_.close(),_.focusParentItem())});return S.jsxs(ir,{onMouseDown:H=>H.preventDefault(),...b,unstyled:y.unstyled,tabIndex:y.menuItemTabIndex,...y.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:kr(O,e),role:"menuitem",disabled:g,"data-menu-item":!0,"data-disabled":g||v||void 0,"data-mantine-stop-propagation":!0,onClick:R,onKeyDown:WT({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:y.loop,dir:A,orientation:"vertical",onKeyDown:U}),__vars:{"--menu-item-color":j?.isThemeColor&&j?.shade===void 0?`var(--mantine-color-${j.color}-6)`:N?.color,"--menu-item-hover":N?.hover},children:[f&&S.jsx("div",{...y.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:f}),p&&S.jsx("div",{...y.getStyles("itemLabel",{styles:o,classNames:n}),children:p}),h&&S.jsx("div",{...y.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:h})]})});A2.classes=Yl;A2.displayName="@mantine/core/MenuItem";const O2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...l}=Ze("MenuLabel",null,t),u=Wl();return S.jsx(ut,{ref:e,...u.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...l})});O2.classes=Yl;O2.displayName="@mantine/core/MenuLabel";const T2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:l,onMouseLeave:u,onKeyDown:f,children:h,...p}=Ze("MenuSubDropdown",null,t),g=P.useRef(null),v=Wl(),b=My(),y=Ai(l,b?.open),_=Ai(u,b?.close);return S.jsx(Zn.Dropdown,{...p,onMouseEnter:y,onMouseLeave:_,role:"menu","aria-orientation":"vertical",ref:kr(e,g),...v.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,children:h})});T2.classes=Yl;T2.displayName="@mantine/core/MenuSubDropdown";const D2=Gi((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:l,leftSection:u,rightSection:f,children:h,disabled:p,"data-disabled":g,closeMenuOnClick:v,...b}=Ze("MenuSubItem",null,t),y=Wl(),_=My(),E=ui(),{dir:A}=ru(),O=P.useRef(null),T=b,R=l?E.variantColorResolver({color:l,theme:E,variant:"light"}):void 0,N=l?Ls({color:l,theme:E}):null,j=Ai(T.onKeyDown,te=>{te.key==="ArrowRight"&&(_?.open(),_?.focusFirstItem()),te.key==="ArrowLeft"&&_?.parentContext&&(_.parentContext.close(),_.parentContext.focusParentItem())}),U=Ai(T.onClick,()=>{!g&&v&&y.closeDropdownImmediately()}),H=Ai(T.onMouseEnter,_?.open),Z=Ai(T.onMouseLeave,_?.close);return S.jsxs(ir,{onMouseDown:te=>te.preventDefault(),...b,unstyled:y.unstyled,tabIndex:y.menuItemTabIndex,...y.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:kr(O,e),role:"menuitem",disabled:p,"data-menu-item":!0,"data-sub-menu-item":!0,"data-disabled":p||g||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:H,onMouseLeave:Z,onClick:U,onKeyDown:WT({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:y.loop,dir:A,orientation:"vertical",onKeyDown:j}),__vars:{"--menu-item-color":N?.isThemeColor&&N?.shade===void 0?`var(--mantine-color-${N.color}-6)`:R?.color,"--menu-item-hover":R?.hover},children:[u&&S.jsx("div",{...y.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:u}),h&&S.jsx("div",{...y.getStyles("itemLabel",{styles:o,classNames:n}),children:h}),S.jsx("div",{...y.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:f||S.jsx(c5,{...y.getStyles("chevron"),size:14})})]})});D2.classes=Yl;D2.displayName="@mantine/core/MenuSubItem";function B5({children:t,refProp:e}){if(!zs(t))throw new Error("Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return Wl(),S.jsx(Zn.Target,{refProp:e,popupType:"menu",children:t})}B5.displayName="@mantine/core/MenuSubTarget";const g$={offset:0,position:"right-start",transitionProps:{duration:0},middlewares:{shift:{crossAxis:!0}}};function id(t){const{children:e,closeDelay:n,...r}=Ze("MenuSub",g$,t),i=Ps(),[o,{open:s,close:l}]=eD(!1),u=My(),{openDropdown:f,closeDropdown:h}=l5({open:s,close:l,closeDelay:n,openDelay:0}),p=()=>window.setTimeout(()=>{document.getElementById(`${i}-dropdown`)?.querySelectorAll("[data-menu-item]:not([data-disabled])")[0]?.focus()},16),g=()=>window.setTimeout(()=>{document.getElementById(`${i}-target`)?.focus()},16);return S.jsx(m$,{value:{opened:o,close:h,open:f,focusFirstItem:p,focusParentItem:g,parentContext:u},children:S.jsx(Zn,{opened:o,withinPortal:!1,withArrow:!1,id:i,...r,children:e})})}id.extend=t=>t;id.displayName="@mantine/core/MenuSub";id.Target=B5;id.Dropdown=T2;id.Item=D2;const v$={refProp:"ref"},I5=P.forwardRef((t,e)=>{const{children:n,refProp:r,...i}=Ze("MenuTarget",v$,t);if(!zs(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=Wl(),s=n.props,l=Ai(s.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),u=Ai(s.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),f=Ai(s.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return S.jsx(Zn.Target,{refProp:r,popupType:"menu",ref:e,...i,children:P.cloneElement(n,{onClick:l,onMouseEnter:u,onMouseLeave:f,"data-expanded":o.opened?!0:void 0})})});I5.displayName="@mantine/core/MenuTarget";const y$={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function nn(t){const e=Ze("Menu",y$,t),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:l,onChange:u,closeOnItemClick:f,loop:h,closeOnEscape:p,trigger:g,openDelay:v,closeDelay:b,classNames:y,styles:_,unstyled:E,variant:A,vars:O,menuItemTabIndex:T,keepMounted:R,withInitialFocusPlaceholder:N,attributes:j,...U}=e,H=jt({name:"Menu",classes:Yl,props:e,classNames:y,styles:_,unstyled:E,attributes:j}),[Z,te]=Os({value:o,defaultValue:s,finalValue:!1,onChange:u}),[I,Y]=P.useState(!1),M=()=>{te(!1),Y(!1),Z&&i?.()},J=()=>{te(!0),!Z&&r?.()},V=()=>{Z?M():J()},{openDropdown:X,closeDropdown:Q}=l5({open:J,close:M,closeDelay:b,openDelay:v}),ne=q=>MP("[data-menu-item]","[data-menu-dropdown]",q),{resolvedClassNames:ue,resolvedStyles:$}=ql({classNames:y,styles:_,props:e});return S.jsx(p$,{value:{getStyles:H,opened:Z,toggleDropdown:V,getItemIndex:ne,openedViaClick:I,setOpenedViaClick:Y,closeOnItemClick:f,closeDropdown:g==="click"?M:Q,openDropdown:g==="click"?J:X,closeDropdownImmediately:M,loop:h,trigger:g,unstyled:E,menuItemTabIndex:T,withInitialFocusPlaceholder:N},children:S.jsx(Zn,{...U,opened:Z,onChange:V,defaultOpened:s,trapFocus:R?!1:l,closeOnEscape:p,__staticSelector:"Menu",classNames:ue,styles:$,unstyled:E,variant:A,keepMounted:R,children:n})})}nn.extend=t=>t;nn.withProps=vB(nn);nn.classes=Yl;nn.displayName="@mantine/core/Menu";nn.Item=A2;nn.Label=O2;nn.Dropdown=E2;nn.Target=I5;nn.Divider=k2;nn.Sub=id;const[b$,od]=Wo("Modal component was not found in tree");var Da={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Ny=ft((t,e)=>{const n=Ze("ModalBody",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=od();return S.jsx(QS,{ref:e,...f.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...u})});Ny.classes=Da;Ny.displayName="@mantine/core/ModalBody";const jy=ft((t,e)=>{const n=Ze("ModalCloseButton",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=od();return S.jsx(JS,{ref:e,...f.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...u})});jy.classes=Da;jy.displayName="@mantine/core/ModalCloseButton";const zy=ft((t,e)=>{const n=Ze("ModalContent",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,children:u,__hidden:f,...h}=n,p=od(),g=p.scrollAreaComponent||o5;return S.jsx(e2,{...p.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:p.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":p.fullScreen||void 0,"data-modal-content":!0,"data-hidden":f||void 0,ref:e,...h,children:S.jsx(g,{style:{maxHeight:p.fullScreen?"100dvh":`calc(100dvh - (${Ke(p.yOffset)} * 2))`},children:u})})});zy.classes=Da;zy.displayName="@mantine/core/ModalContent";const Py=ft((t,e)=>{const n=Ze("ModalHeader",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=od();return S.jsx(t2,{ref:e,...f.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...u})});Py.classes=Da;Py.displayName="@mantine/core/ModalHeader";const Ly=ft((t,e)=>{const n=Ze("ModalOverlay",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=od();return S.jsx(n2,{ref:e,...f.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...u})});Ly.classes=Da;Ly.displayName="@mantine/core/ModalOverlay";const w$={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Or("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},x$=(t,{radius:e,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:Lr(e),"--modal-size":Sn(n,"modal-size"),"--modal-y-offset":Ke(r),"--modal-x-offset":Ke(i)}}),By=ft((t,e)=>{const n=Ze("ModalRoot",w$,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,yOffset:f,scrollAreaComponent:h,radius:p,fullScreen:g,centered:v,xOffset:b,__staticSelector:y,attributes:_,...E}=n,A=jt({name:y,classes:Da,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:_,vars:u,varsResolver:x$});return S.jsx(b$,{value:{yOffset:f,scrollAreaComponent:h,getStyles:A,fullScreen:g},children:S.jsx(GS,{ref:e,...A("root"),"data-full-screen":g||void 0,"data-centered":v||void 0,"data-offset-scrollbars":h===Kl.Autosize||void 0,unstyled:l,...E})})});By.classes=Da;By.displayName="@mantine/core/ModalRoot";const[S$,_$]=Xf();function $5({children:t}){const[e,n]=P.useState([]),[r,i]=P.useState(Or("modal"));return S.jsx(S$,{value:{stack:e,addModal:(o,s)=>{n(l=>[...new Set([...l,o])]),i(l=>typeof s=="number"&&typeof l=="number"?Math.max(l,s):l)},removeModal:o=>n(s=>s.filter(l=>l!==o)),getZIndex:o=>`calc(${r} + ${e.indexOf(o)} + 1)`,currentId:e[e.length-1],maxZIndex:r},children:t})}$5.displayName="@mantine/core/ModalStack";const Iy=ft((t,e)=>{const n=Ze("ModalTitle",null,t),{classNames:r,className:i,style:o,styles:s,vars:l,...u}=n,f=od();return S.jsx(r2,{ref:e,...f.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...u})});Iy.classes=Da;Iy.displayName="@mantine/core/ModalTitle";const C$={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Or("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Nn=ft((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:l,radius:u,opened:f,stackId:h,zIndex:p,...g}=Ze("Modal",C$,t),v=_$(),b=!!n||o,y=v&&h?{closeOnEscape:v.currentId===h,trapFocus:v.currentId===h,zIndex:v.getZIndex(h)}:{},_=r===!1?!1:h&&v?v.currentId===h:f;return P.useEffect(()=>{v&&h&&(f?v.addModal(h,p||Or("modal")):v.removeModal(h))},[f,h,p]),S.jsxs(By,{ref:e,radius:u,opened:f,zIndex:v&&h?v.getZIndex(h):p,...g,...y,children:[r&&S.jsx(Ly,{visible:_,transitionProps:v&&h?{duration:0}:void 0,...i}),S.jsxs(zy,{radius:u,__hidden:v&&h&&f?h!==v.currentId:!1,children:[b&&S.jsxs(Py,{children:[n&&S.jsx(Iy,{children:n}),o&&S.jsx(jy,{...s})]}),S.jsx(Ny,{children:l})]})]})});Nn.classes=Da;Nn.displayName="@mantine/core/Modal";Nn.Root=By;Nn.Overlay=Ly;Nn.Content=zy;Nn.Body=Ny;Nn.Header=Py;Nn.Title=Iy;Nn.CloseButton=jy;Nn.Stack=$5;var F5={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const k$={withCloseButton:!0},E$=(t,{radius:e,color:n})=>({root:{"--notification-radius":e===void 0?void 0:Lr(e),"--notification-color":n?Yi(n,t):void 0}}),R2=ft((t,e)=>{const n=Ze("Notification",k$,t),{className:r,color:i,radius:o,loading:s,withCloseButton:l,withBorder:u,title:f,icon:h,children:p,onClose:g,closeButtonProps:v,classNames:b,style:y,styles:_,unstyled:E,variant:A,vars:O,mod:T,loaderProps:R,role:N,attributes:j,...U}=n,H=jt({name:"Notification",classes:F5,props:n,className:r,style:y,classNames:b,styles:_,unstyled:E,attributes:j,vars:O,varsResolver:E$});return S.jsxs(ut,{...H("root"),mod:[{"data-with-icon":!!h||s,"data-with-border":u},T],ref:e,variant:A,role:N||"alert",...U,children:[h&&!s&&S.jsx("div",{...H("icon"),children:h}),s&&S.jsx($o,{size:28,color:i,...R,...H("loader")}),S.jsxs("div",{...H("body"),children:[f&&S.jsx("div",{...H("title"),children:f}),S.jsx(ut,{...H("description"),mod:{"data-with-title":!!f},children:p})]}),l&&S.jsx(td,{iconSize:16,color:"gray",...v,unstyled:E,onClick:g,...H("closeButton")})]})});R2.classes=F5;R2.displayName="@mantine/core/Notification";const A$=({reveal:t})=>S.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:S.jsx("path",{d:t?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Fw={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const O$={visibilityToggleIcon:A$},T$=(t,{size:e})=>({root:{"--psi-icon-size":Sn(e,"psi-icon-size"),"--psi-button-size":Sn(e,"psi-button-size")}}),M2=ft((t,e)=>{const n=Ze("PasswordInput",O$,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,required:f,error:h,leftSection:p,disabled:g,id:v,variant:b,inputContainer:y,description:_,label:E,size:A,errorProps:O,descriptionProps:T,labelProps:R,withAsterisk:N,inputWrapperOrder:j,wrapperProps:U,radius:H,rightSection:Z,rightSectionWidth:te,rightSectionPointerEvents:I,leftSectionWidth:Y,visible:M,defaultVisible:J,onVisibilityChange:V,visibilityToggleIcon:X,visibilityToggleButtonProps:Q,rightSectionProps:ne,leftSectionProps:ue,leftSectionPointerEvents:$,withErrorStyles:q,mod:se,attributes:le,...me}=n,je=Ps(v),[We,Xe]=Os({value:M,defaultValue:J,finalValue:!1,onChange:V}),Ae=()=>Xe(!We),ht=jt({name:"PasswordInput",classes:Fw,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:le,vars:u,varsResolver:T$}),{resolvedClassNames:Ye,resolvedStyles:Je}=ql({classNames:r,styles:s,props:n}),{styleProps:ct,rest:B}=kp(me),Ee=O?.id||`${je}-error`,be=T?.id||`${je}-description`,ae=`${!!h&&typeof h!="boolean"?Ee:""} ${!!_?be:""}`,Ne=ae.trim().length>0?ae.trim():void 0,Me=S.jsx(Yr,{...ht("visibilityToggle"),disabled:g,radius:H,"aria-hidden":!Q,tabIndex:-1,...Q,variant:Q?.variant??"subtle",color:"gray",unstyled:l,onTouchEnd:pe=>{pe.preventDefault(),Q?.onTouchEnd?.(pe),Ae()},onMouseDown:pe=>{pe.preventDefault(),Q?.onMouseDown?.(pe),Ae()},onKeyDown:pe=>{Q?.onKeyDown?.(pe),pe.key===" "&&(pe.preventDefault(),Ae())},children:S.jsx(X,{reveal:We})});return S.jsx(sr.Wrapper,{required:f,id:je,label:E,error:h,description:_,size:A,classNames:Ye,styles:Je,__staticSelector:"PasswordInput",unstyled:l,withAsterisk:N,inputWrapperOrder:j,inputContainer:y,variant:b,labelProps:{...R,htmlFor:je},descriptionProps:{...T,id:be},errorProps:{...O,id:Ee},mod:se,attributes:le,...ht("root"),...ct,...U,children:S.jsx(sr,{component:"div",error:h,leftSection:p,size:A,classNames:{...Ye,input:Zr(Fw.input,Ye.input)},styles:Je,radius:H,disabled:g,__staticSelector:"PasswordInput",rightSectionWidth:te,rightSection:Z??Me,variant:b,unstyled:l,leftSectionWidth:Y,rightSectionPointerEvents:I||"all",rightSectionProps:ne,leftSectionProps:ue,leftSectionPointerEvents:$,withAria:!1,withErrorStyles:q,attributes:le,children:S.jsx("input",{required:f,"data-invalid":!!h||void 0,"data-with-left-section":!!p||void 0,...ht("innerInput"),disabled:g,id:je,ref:e,...B,"aria-describedby":Ne,autoComplete:B.autoComplete||"off",type:We?"text":"password"})})})});M2.classes={...Oa.classes,...Fw};M2.displayName="@mantine/core/PasswordInput";const[D$,U5]=Wo("Progress.Root component was not found in tree");var Tp={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd","stripes-animation-vertical":"m_e0fb7a86",label:"m_91e40b74"};const N2=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...l}=Ze("ProgressLabel",null,t),u=U5();return S.jsx(ut,{ref:e,...u.getStyles("label",{className:r,style:i,classNames:n,styles:o}),...l})});N2.classes=Tp;N2.displayName="@mantine/core/ProgressLabel";const R$=(t,{size:e,radius:n,transitionDuration:r})=>({root:{"--progress-size":Sn(e,"progress-size"),"--progress-radius":n===void 0?void 0:Lr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),$y=ft((t,e)=>{const n=Ze("ProgressRoot",null,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,autoContrast:f,transitionDuration:h,orientation:p,attributes:g,mod:v,...b}=n,y=jt({name:"Progress",classes:Tp,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:g,vars:u,varsResolver:R$});return S.jsx(D$,{value:{getStyles:y,autoContrast:f},children:S.jsx(ut,{ref:e,mod:[{orientation:p},v],...y("root"),...b})})});$y.classes=Tp;$y.displayName="@mantine/core/ProgressRoot";const M$={withAria:!0},Fy=ft((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:l,withAria:u,color:f,striped:h,animated:p,mod:g,...v}=Ze("ProgressSection",M$,t),b=U5(),y=ui(),_=u?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l,"aria-valuetext":`${l}%`}:{};return S.jsx(ut,{ref:e,...b.getStyles("section",{className:r,classNames:n,styles:o,style:i}),...v,..._,mod:[{striped:h||p,animated:p},g],__vars:{"--progress-section-size":`${l}%`,"--progress-section-color":Yi(f,y),"--progress-label-color":TS(b.autoContrast,y)?hy({color:f,theme:y,autoContrast:b.autoContrast}):void 0}})});Fy.classes=Tp;Fy.displayName="@mantine/core/ProgressSection";const Rl=ft((t,e)=>{const n=Ze("Progress",null,t),{value:r,classNames:i,styles:o,vars:s,color:l,striped:u,animated:f,"aria-label":h,...p}=n,{resolvedClassNames:g,resolvedStyles:v}=ql({classNames:i,styles:o,props:n});return S.jsx($y,{ref:e,classNames:g,styles:v,vars:s,...p,children:S.jsx(Fy,{value:r,color:l,striped:u,animated:f,"aria-label":h})})});Rl.classes=Tp;Rl.displayName="@mantine/core/Progress";Rl.Section=Fy;Rl.Root=$y;Rl.Label=N2;const N$={duration:100,transition:"fade"};function QA(t,e){return{...N$,...e,...t}}function j$({offset:t,position:e,defaultOpened:n}){const[r,i]=P.useState(n),o=P.useRef(null),{x:s,y:l,elements:u,refs:f,update:h,placement:p}=HS({placement:e,middleware:[IS({crossAxis:!0,padding:5,rootBoundary:"document"})]}),g=p.includes("right")?t:e.includes("left")?t*-1:0,v=p.includes("bottom")?t:e.includes("top")?t*-1:0,b=P.useCallback(({clientX:y,clientY:_})=>{f.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:y,y:_,left:y+g,top:_+v,right:y,bottom:_}}})},[u.reference]);return P.useEffect(()=>{if(f.floating.current){const y=o.current;y.addEventListener("mousemove",b);const _=wa(f.floating.current);return _.forEach(E=>{E.addEventListener("scroll",h)}),()=>{y.removeEventListener("mousemove",b),_.forEach(E=>{E.removeEventListener("scroll",h)})}}},[u.reference,f.floating.current,h,b,r]),{handleMouseMove:b,x:s,y:l,opened:r,setOpened:i,boundaryRef:o,floating:f.setFloating}}var Uy={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const z$={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Or("popover")},P$=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Lr(e),"--tooltip-bg":n?Yi(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),j2=ft((t,e)=>{const n=Ze("TooltipFloating",z$,t),{children:r,refProp:i,withinPortal:o,style:s,className:l,classNames:u,styles:f,unstyled:h,radius:p,color:g,label:v,offset:b,position:y,multiline:_,zIndex:E,disabled:A,defaultOpened:O,variant:T,vars:R,portalProps:N,attributes:j,...U}=n,H=ui(),Z=jt({name:"TooltipFloating",props:n,classes:Uy,className:l,style:s,classNames:u,styles:f,unstyled:h,attributes:j,rootSelector:"tooltip",vars:R,varsResolver:P$}),{handleMouseMove:te,x:I,y:Y,opened:M,boundaryRef:J,floating:V,setOpened:X}=j$({offset:b,position:y,defaultOpened:O});if(!zs(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Q=kr(J,uy(r),e),ne=r.props,ue=q=>{ne.onMouseEnter?.(q),te(q),X(!0)},$=q=>{ne.onMouseLeave?.(q),X(!1)};return S.jsxs(S.Fragment,{children:[S.jsx(ka,{...N,withinPortal:o,children:S.jsx(ut,{...U,...Z("tooltip",{style:{...cD(s,H),zIndex:E,display:!A&&M?"block":"none",top:(Y&&Math.round(Y))??"",left:(I&&Math.round(I))??""}}),variant:T,ref:V,mod:{multiline:_},children:v})}),P.cloneElement(r,{...ne,[i]:Q,onMouseEnter:ue,onMouseLeave:$})]})});j2.classes=Uy;j2.displayName="@mantine/core/TooltipFloating";const H5=P.createContext(!1),L$=H5.Provider,B$=()=>P.useContext(H5),I$={openDelay:0,closeDelay:0};function z2(t){const{openDelay:e,closeDelay:n,children:r}=Ze("TooltipGroup",I$,t);return S.jsx(L$,{value:!0,children:S.jsx(Q9,{delay:{open:e,close:n},children:r})})}z2.displayName="@mantine/core/TooltipGroup";z2.extend=t=>t;function $$(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function F$(t){const e=$$(t.middlewares),n=[kD(t.offset)];return e.shift&&n.push(IS(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?_v():_v(e.flip)),n.push(ED({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?Kh():Kh(e.inline)):t.inline&&n.push(Kh()),n}function U$(t){const[e,n]=P.useState(t.defaultOpened),i=typeof t.opened=="boolean"?t.opened:e,o=B$(),s=Ps(),l=P.useCallback(R=>{n(R),R&&E(s)},[s]),{x:u,y:f,context:h,refs:p,placement:g,middlewareData:{arrow:{x:v,y:b}={}}}=HS({strategy:t.strategy,placement:t.position,open:i,onOpenChange:l,middleware:F$(t),whileElementsMounted:Pw}),{delay:y,currentId:_,setCurrentId:E}=J9(h,{id:s}),{getReferenceProps:A,getFloatingProps:O}=o7([X9(h,{enabled:t.events?.hover,delay:o?y:{open:t.openDelay,close:t.closeDelay},mouseOnly:!t.events?.touch}),i7(h,{enabled:t.events?.focus,visibleOnly:!0}),a7(h,{role:"tooltip"}),n7(h,{enabled:typeof t.opened>"u"})]);Dl(()=>{t.onPositionChange?.(g)},[g]);const T=i&&_&&_!==s;return{x:u,y:f,arrowX:v,arrowY:b,reference:p.setReference,floating:p.setFloating,getFloatingProps:O,getReferenceProps:A,isGroupPhase:T,opened:i,placement:g}}const JA={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Or("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},H$=(t,{radius:e,color:n,variant:r,autoContrast:i})=>{const o=t.variantColorResolver({theme:t,color:n||t.primaryColor,autoContrast:i,variant:r||"filled"});return{tooltip:{"--tooltip-radius":e===void 0?void 0:Lr(e),"--tooltip-bg":n?o.background:void 0,"--tooltip-color":n?o.color:void 0}}},xa=ft((t,e)=>{const n=Ze("Tooltip",JA,t),{children:r,position:i,refProp:o,label:s,openDelay:l,closeDelay:u,onPositionChange:f,opened:h,defaultOpened:p,withinPortal:g,radius:v,color:b,classNames:y,styles:_,unstyled:E,style:A,className:O,withArrow:T,arrowSize:R,arrowOffset:N,arrowRadius:j,arrowPosition:U,offset:H,transitionProps:Z,multiline:te,events:I,zIndex:Y,disabled:M,positionDependencies:J,onClick:V,onMouseEnter:X,onMouseLeave:Q,inline:ne,variant:ue,keepMounted:$,vars:q,portalProps:se,mod:le,floatingStrategy:me,middlewares:je,autoContrast:We,attributes:Xe,target:Ae,...ht}=Ze("Tooltip",JA,n),{dir:Ye}=ru(),Je=P.useRef(null),ct=U$({position:KD(Ye,i),closeDelay:u,openDelay:l,onPositionChange:f,opened:h,defaultOpened:p,events:I,arrowRef:Je,arrowOffset:N,offset:typeof H=="number"?H+(T?R/2:0):H,positionDependencies:[...J,Ae??r],inline:ne,strategy:me,middlewares:je});P.useEffect(()=>{const ae=Ae instanceof HTMLElement?Ae:typeof Ae=="string"?document.querySelector(Ae):Ae?.current||null;ae&&ct.reference(ae)},[Ae,ct]);const B=jt({name:"Tooltip",props:n,classes:Uy,className:O,style:A,classNames:y,styles:_,unstyled:E,attributes:Xe,rootSelector:"tooltip",vars:q,varsResolver:H$});if(!Ae&&!zs(r))return null;if(Ae){const ae=QA(Z,{duration:100,transition:"fade"});return S.jsx(S.Fragment,{children:S.jsx(ka,{...se,withinPortal:g,children:S.jsx(Ds,{...ae,keepMounted:$,mounted:!M&&!!ct.opened,duration:ct.isGroupPhase?10:ae.duration,children:Ne=>S.jsxs(ut,{...ht,"data-fixed":me==="fixed"||void 0,variant:ue,mod:[{multiline:te},le],...ct.getFloatingProps({ref:ct.floating,className:B("tooltip").className,style:{...B("tooltip").style,...Ne,zIndex:Y,top:ct.y??0,left:ct.x??0}}),children:[s,S.jsx(kv,{ref:Je,arrowX:ct.arrowX,arrowY:ct.arrowY,visible:T,position:ct.placement,arrowSize:R,arrowOffset:N,arrowRadius:j,arrowPosition:U,...B("arrow")})]})})})})}const Ee=r,be=Ee.props,ee=kr(ct.reference,uy(Ee),e),G=QA(Z,{duration:100,transition:"fade"});return S.jsxs(S.Fragment,{children:[S.jsx(ka,{...se,withinPortal:g,children:S.jsx(Ds,{...G,keepMounted:$,mounted:!M&&!!ct.opened,duration:ct.isGroupPhase?10:G.duration,children:ae=>S.jsxs(ut,{...ht,"data-fixed":me==="fixed"||void 0,variant:ue,mod:[{multiline:te},le],...ct.getFloatingProps({ref:ct.floating,className:B("tooltip").className,style:{...B("tooltip").style,...ae,zIndex:Y,top:ct.y??0,left:ct.x??0}}),children:[s,S.jsx(kv,{ref:Je,arrowX:ct.arrowX,arrowY:ct.arrowY,visible:T,position:ct.placement,arrowSize:R,arrowOffset:N,arrowRadius:j,arrowPosition:U,...B("arrow")})]})})}),P.cloneElement(Ee,ct.getReferenceProps({onClick:V,onMouseEnter:X,onMouseLeave:Q,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Zr(O,be.className),...be,[o]:ee}))]})});xa.classes=Uy;xa.displayName="@mantine/core/Tooltip";xa.Floating=j2;xa.Group=z2;const q$={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},P2=ft((t,e)=>{const n=Ze("Select",q$,t),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:l,defaultDropdownOpened:u,onDropdownClose:f,onDropdownOpen:h,onFocus:p,onBlur:g,onClick:v,onChange:b,data:y,value:_,defaultValue:E,selectFirstOptionOnChange:A,onOptionSubmit:O,comboboxProps:T,readOnly:R,disabled:N,filter:j,limit:U,withScrollArea:H,maxDropdownHeight:Z,size:te,searchable:I,rightSection:Y,checkIconPosition:M,withCheckIcon:J,nothingFoundMessage:V,name:X,form:Q,searchValue:ne,defaultSearchValue:ue,onSearchChange:$,allowDeselect:q,error:se,rightSectionPointerEvents:le,id:me,clearable:je,clearButtonProps:We,hiddenInputProps:Xe,renderOption:Ae,onClear:ht,autoComplete:Ye,scrollAreaProps:Je,__defaultRightSection:ct,__clearSection:B,__clearable:Ee,chevronColor:be,autoSelectOnBlur:ee,attributes:G,...ae}=n,Ne=P.useMemo(()=>vI(y),[y]),Me=P.useRef({}),pe=P.useMemo(()=>d5(Ne),[Ne]),Ue=Ps(me),[ge,Oe,Ge]=Os({value:_,defaultValue:E,finalValue:null,onChange:b}),tt=typeof ge=="string"?ge in pe?pe[ge]:Me.current[ge]:void 0,vt=nL(tt),[zt,ln,Qt]=Os({value:ne,defaultValue:ue,finalValue:tt?tt.label:"",onChange:$}),Ct=y5({opened:l,defaultOpened:u,onDropdownOpen:()=>{h?.(),Ct.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{f?.(),setTimeout(Ct.resetSelectedOption,0)}}),St=Vt=>{ln(Vt),Ct.resetSelectedOption()},{resolvedClassNames:$t,resolvedStyles:Ut}=ql({props:n,styles:i,classNames:r});P.useEffect(()=>{A&&Ct.selectFirstOption()},[A,zt]),P.useEffect(()=>{_===null&&St(""),typeof _=="string"&&tt&&(vt?.value!==tt.value||vt?.label!==tt.label)&&St(tt.label)},[_,tt]),P.useEffect(()=>{!Ge&&!Qt&&St(typeof ge=="string"?ge in pe?pe[ge]?.label:Me.current[ge]?.label||"":"")},[pe,ge]),P.useEffect(()=>{ge&&ge in pe&&(Me.current[ge]=pe[ge])},[pe,ge]);const nt=S.jsx(xn.ClearButton,{...We,onClear:()=>{Oe(null,null),St(""),ht?.()}}),jn=je&&!!ge&&!N&&!R;return S.jsxs(S.Fragment,{children:[S.jsxs(xn,{store:Ct,__staticSelector:"Select",classNames:$t,styles:Ut,unstyled:o,readOnly:R,size:te,attributes:G,keepMounted:ee,onOptionSubmit:Vt=>{O?.(Vt);const Vn=q&&pe[Vt].value===ge?null:pe[Vt],Qe=Vn?Vn.value:null;Qe!==ge&&Oe(Qe,Vn),!Ge&&St(typeof Qe=="string"&&Vn?.label||""),Ct.closeDropdown()},...T,children:[S.jsx(xn.Target,{targetType:I?"input":"button",autoComplete:Ye,children:S.jsx(Oa,{id:Ue,ref:e,__defaultRightSection:S.jsx(xn.Chevron,{size:te,error:se,unstyled:o,color:be}),__clearSection:nt,__clearable:jn,rightSection:Y,rightSectionPointerEvents:le||"none",...ae,size:te,__staticSelector:"Select",disabled:N,readOnly:R||!I,value:zt,onChange:Vt=>{St(Vt.currentTarget.value),Ct.openDropdown(),A&&Ct.selectFirstOption()},onFocus:Vt=>{I&&Ct.openDropdown(),p?.(Vt)},onBlur:Vt=>{ee&&Ct.clickSelectedOption(),I&&Ct.closeDropdown();const Vn=typeof ge=="string"&&(ge in pe?pe[ge]:Me.current[ge]);St(Vn&&Vn.label||""),g?.(Vt)},onClick:Vt=>{I?Ct.openDropdown():Ct.toggleDropdown(),v?.(Vt)},classNames:$t,styles:Ut,unstyled:o,pointer:!I,error:se,attributes:G})}),S.jsx(qI,{data:Ne,hidden:R||N,filter:j,search:zt,limit:U,hiddenWhenEmpty:!V,withScrollArea:H,maxDropdownHeight:Z,filterOptions:!!I&&tt?.label!==zt,value:ge,checkIconPosition:M,withCheckIcon:J,nothingFoundMessage:V,unstyled:o,labelId:ae.label?`${Ue}-label`:void 0,"aria-label":ae.label?void 0:ae["aria-label"],renderOption:Ae,scrollAreaProps:Je})]}),S.jsx(xn.HiddenInput,{value:ge,name:X,form:Q,disabled:N,...Xe})]})});P2.classes={...Oa.classes,...xn.classes};P2.displayName="@mantine/core/Select";var q5={root:"m_6d731127"};const K$={gap:"md",align:"stretch",justify:"flex-start"},V$=(t,{gap:e,align:n,justify:r})=>({root:{"--stack-gap":ly(e),"--stack-align":n,"--stack-justify":r}}),mr=ft((t,e)=>{const n=Ze("Stack",K$,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,align:f,justify:h,gap:p,variant:g,attributes:v,...b}=n,y=jt({name:"Stack",props:n,classes:q5,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:v,vars:u,varsResolver:V$});return S.jsx(ut,{ref:e,...y("root"),variant:g,...b})});mr.classes=q5;mr.displayName="@mantine/core/Stack";const gr=ft((t,e)=>{const n=Ze("TextInput",null,t);return S.jsx(Oa,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});gr.classes=Oa.classes;gr.displayName="@mantine/core/TextInput";const W$=["h1","h2","h3","h4","h5","h6"],Y$=["xs","sm","md","lg","xl"];function Z$(t,e){const n=e!==void 0?e:`h${t}`;return W$.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:Y$.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}:{fontSize:Ke(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var K5={root:"m_8a5d1357"};const X$={order:1},G$=(t,{order:e,size:n,lineClamp:r,textWrap:i})=>{const o=Z$(e||1,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Hy=ft((t,e)=>{const n=Ze("Title",X$,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,order:u,vars:f,size:h,variant:p,lineClamp:g,textWrap:v,mod:b,attributes:y,..._}=n,E=jt({name:"Title",props:n,classes:K5,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:y,vars:f,varsResolver:G$});return[1,2,3,4,5,6].includes(u)?S.jsx(ut,{...E("root"),component:`h${u}`,variant:p,ref:e,mod:[{order:u,"data-line-clamp":typeof g=="number"},b],size:h,..._}):null});Hy.classes=K5;Hy.displayName="@mantine/core/Title";const L2=P.createContext(null);L2.displayName="@mantine/modals/ModalsContext";function Q$(){const t=P.useContext(L2);if(!t)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return t}function J$({id:t,cancelProps:e,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:l,onConfirm:u,children:f}){const{cancel:h,confirm:p}=r,g=Q$(),v=y=>{typeof e?.onClick=="function"&&e?.onClick(y),typeof l=="function"&&l(),o&&g.closeModal(t)},b=y=>{typeof n?.onClick=="function"&&n?.onClick(y),typeof u=="function"&&u(),i&&g.closeModal(t)};return S.jsxs(S.Fragment,{children:[f&&S.jsx(ut,{mb:"md",children:f}),S.jsxs(Pr,{mt:f?0:"md",justify:"flex-end",...s,children:[S.jsx(fn,{variant:"default",...e,onClick:v,children:e?.children||h}),S.jsx(fn,{...n,onClick:b,children:n?.children||p})]})]})}const[eF,iu]=lL("mantine-modals"),tF=t=>{const e=t.modalId||Tl();return iu("openModal")({...t,modalId:e}),e},nF=t=>{const e=t.modalId||Tl();return iu("openConfirmModal")({...t,modalId:e}),e},rF=t=>{const e=t.modalId||Tl();return iu("openContextModal")({...t,modalId:e}),e},iF=iu("closeModal"),oF=iu("closeAllModals"),sF=t=>iu("updateModal")(t),aF=t=>iu("updateContextModal")(t),e3={open:tF,close:iF,closeAll:oF,openConfirmModal:nF,openContextModal:rF,updateModal:sF,updateContextModal:aF};function t3(t,e){e&&t.type==="confirm"&&t.props.onCancel?.(),t.props.onClose?.()}function lF(t,e){switch(e.type){case"OPEN":return{current:e.modal,modals:[...t.modals,e.modal]};case"CLOSE":{const n=t.modals.find(i=>i.id===e.modalId);if(!n)return t;t3(n,e.canceled);const r=t.modals.filter(i=>i.id!==e.modalId);return{current:r[r.length-1]||t.current,modals:r}}case"CLOSE_ALL":return t.modals.length?(t.modals.concat().reverse().forEach(n=>{t3(n,e.canceled)}),{current:t.current,modals:[]}):t;case"UPDATE":{const{modalId:n,newProps:r}=e,i=t.modals.map(s=>s.id!==n?s:s.type==="content"||s.type==="confirm"?{...s,props:{...s.props,...r}}:s.type==="context"?{...s,props:{...s.props,...r,innerProps:{...s.props.innerProps,...r.innerProps}}}:s),o=t.current?.id===n&&i.find(s=>s.id===n)||t.current;return{...t,modals:i,current:o}}default:return t}}function cF(t){if(!t)return{confirmProps:{},modalProps:{}};const{id:e,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:l,confirmProps:u,groupProps:f,labels:h,...p}=t;return{confirmProps:{id:e,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:l,confirmProps:u,groupProps:f,labels:h},modalProps:{id:e,...p}}}function uF({children:t,modalProps:e,labels:n,modals:r}){const[i,o]=P.useReducer(lF,{modals:[],current:null}),s=P.useRef(i);s.current=i;const l=P.useCallback(A=>{o({type:"CLOSE_ALL",canceled:A})},[s,o]),u=P.useCallback(({modalId:A,...O})=>{const T=A||Tl();return o({type:"OPEN",modal:{id:T,type:"content",props:O}}),T},[o]),f=P.useCallback(({modalId:A,...O})=>{const T=A||Tl();return o({type:"OPEN",modal:{id:T,type:"confirm",props:O}}),T},[o]),h=P.useCallback((A,{modalId:O,...T})=>{const R=O||Tl();return o({type:"OPEN",modal:{id:R,type:"context",props:T,ctx:A}}),R},[o]),p=P.useCallback((A,O)=>{o({type:"CLOSE",modalId:A,canceled:O})},[s,o]),g=P.useCallback(({modalId:A,...O})=>{o({type:"UPDATE",modalId:A,newProps:O})},[o]),v=P.useCallback(({modalId:A,...O})=>{o({type:"UPDATE",modalId:A,newProps:O})},[o]);eF({openModal:u,openConfirmModal:f,openContextModal:({modal:A,...O})=>h(A,O),closeModal:p,closeContextModal:p,closeAllModals:l,updateModal:g,updateContextModal:v});const b={modalProps:e||{},modals:i.modals,openModal:u,openConfirmModal:f,openContextModal:h,closeModal:p,closeContextModal:p,closeAll:l,updateModal:g,updateContextModal:v},y=()=>{const A=s.current.current;switch(A?.type){case"context":{const{innerProps:O,...T}=A.props,R=r[A.ctx];return{modalProps:T,content:S.jsx(R,{innerProps:O,context:b,id:A.id})}}case"confirm":{const{modalProps:O,confirmProps:T}=cF(A.props);return{modalProps:O,content:S.jsx(J$,{...T,id:A.id,labels:A.props.labels||n})}}case"content":{const{children:O,...T}=A.props;return{modalProps:T,content:O}}default:return{modalProps:{},content:null}}},{modalProps:_,content:E}=y();return S.jsxs(L2.Provider,{value:b,children:[S.jsx(Nn,{zIndex:Or("modal")+1,...e,..._,opened:i.modals.length>0,onClose:()=>p(i.current?.id),children:E}),t]})}const n3=t=>{let e;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(v=>v(e,g))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=e=t(r,i,l);return l},fF=(t=>t?n3(t):n3),dF=t=>t;function hF(t,e=dF){const n=Tt.useSyncExternalStore(t.subscribe,Tt.useCallback(()=>e(t.getState()),[t,e]),Tt.useCallback(()=>e(t.getInitialState()),[t,e]));return Tt.useDebugValue(n),n}const r3=t=>{const e=fF(t),n=r=>hF(e,r);return Object.assign(n,e),n},pF=(t=>t?r3(t):r3);var V5=Symbol.for("immer-nothing"),i3=Symbol.for("immer-draftable"),Xi=Symbol.for("immer-state");function zo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Df=Object.getPrototypeOf;function Rf(t){return!!t&&!!t[Xi]}function Wc(t){return t?W5(t)||Array.isArray(t)||!!t[i3]||!!t.constructor?.[i3]||Dp(t)||Ky(t):!1}var mF=Object.prototype.constructor.toString();function W5(t){if(!t||typeof t!="object")return!1;const e=Df(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===mF}function Ev(t,e){qy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function qy(t){const e=t[Xi];return e?e.type_:Array.isArray(t)?1:Dp(t)?2:Ky(t)?3:0}function Uw(t,e){return qy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Y5(t,e,n){const r=qy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function gF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Dp(t){return t instanceof Map}function Ky(t){return t instanceof Set}function Dc(t){return t.copy_||t.base_}function Hw(t,e){if(Dp(t))return new Map(t);if(Ky(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=W5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Xi];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(Df(t),r)}else{const r=Df(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function B2(t,e=!1){return Vy(t)||Rf(t)||!Wc(t)||(qy(t)>1&&Object.defineProperties(t,{set:{value:mg},add:{value:mg},clear:{value:mg},delete:{value:mg}}),Object.freeze(t),e&&Object.values(t).forEach(n=>B2(n,!0))),t}function mg(){zo(2)}function Vy(t){return Object.isFrozen(t)}var vF={};function Yc(t){const e=vF[t];return e||zo(0,t),e}var op;function Z5(){return op}function yF(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o3(t,e){e&&(Yc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function qw(t){Kw(t),t.drafts_.forEach(bF),t.drafts_=null}function Kw(t){t===op&&(op=t.parent_)}function s3(t){return op=yF(op,t)}function bF(t){const e=t[Xi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function a3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Xi].modified_&&(qw(e),zo(4)),Wc(t)&&(t=Av(e,t),e.parent_||Ov(e,t)),e.patches_&&Yc("Patches").generateReplacementPatches_(n[Xi].base_,t,e.patches_,e.inversePatches_)):t=Av(e,n,[]),qw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==V5?t:void 0}function Av(t,e,n){if(Vy(e))return e;const r=e[Xi];if(!r)return Ev(e,(i,o)=>l3(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Ov(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Ev(o,(l,u)=>l3(t,r,i,l,u,n,s)),Ov(t,i,!1),n&&t.patches_&&Yc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function l3(t,e,n,r,i,o,s){if(Rf(i)){const l=o&&e&&e.type_!==3&&!Uw(e.assigned_,r)?o.concat(r):void 0,u=Av(t,i,l);if(Y5(n,r,u),Rf(u))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Wc(i)&&!Vy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Av(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Dp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ov(t,i)}}function Ov(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&B2(e,n)}function wF(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Z5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=I2;n&&(i=[r],o=sp);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,l}var I2={get(t,e){if(e===Xi)return t;const n=Dc(t);if(!Uw(n,e))return xF(t,n,e);const r=n[e];return t.finalized_||!Wc(r)?r:r===N1(t.base_,e)?(j1(t),t.copy_[e]=Ww(r,t)):r},has(t,e){return e in Dc(t)},ownKeys(t){return Reflect.ownKeys(Dc(t))},set(t,e,n){const r=X5(Dc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=N1(Dc(t),e),o=i?.[Xi];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(gF(n,i)&&(n!==void 0||Uw(t.base_,e)))return!0;j1(t),Vw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return N1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,j1(t),Vw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Dc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){zo(11)},getPrototypeOf(t){return Df(t.base_)},setPrototypeOf(){zo(12)}},sp={};Ev(I2,(t,e)=>{sp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sp.deleteProperty=function(t,e){return sp.set.call(this,t,e,void 0)};sp.set=function(t,e,n){return I2.set.call(this,t[0],e,n,t[0])};function N1(t,e){const n=t[Xi];return(n?Dc(n):t)[e]}function xF(t,e,n){const r=X5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function X5(t,e){if(!(e in t))return;let n=Df(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Df(n)}}function Vw(t){t.modified_||(t.modified_=!0,t.parent_&&Vw(t.parent_))}function j1(t){t.copy_||(t.copy_=Hw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var SF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(u=o,...f){return s.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&zo(6),r!==void 0&&typeof r!="function"&&zo(7);let i;if(Wc(e)){const o=s3(this),s=Ww(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?qw(o):Kw(o)}return o3(o,r),a3(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===V5&&(i=void 0),this.autoFreeze_&&B2(i,!0),r){const o=[],s=[];Yc("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else zo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,u=>e(u,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Wc(t)||zo(8),Rf(t)&&(t=_F(t));const e=s3(this),n=Ww(t,void 0);return n[Xi].isManual_=!0,Kw(e),n}finishDraft(t,e){const n=t&&t[Xi];(!n||!n.isManual_)&&zo(9);const{scope_:r}=n;return o3(r,e),a3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Yc("Patches").applyPatches_;return Rf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ww(t,e){const n=Dp(t)?Yc("MapSet").proxyMap_(t,e):Ky(t)?Yc("MapSet").proxySet_(t,e):wF(t,e);return(e?e.scope_:Z5()).drafts_.push(n),n}function _F(t){return Rf(t)||zo(10,t),G5(t)}function G5(t){if(!Wc(t)||Vy(t))return t;const e=t[Xi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Hw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Hw(t,!0);return Ev(n,(r,i)=>{Y5(n,r,G5(i))}),e&&(e.finalized_=!1),n}var CF=new SF,kF=CF.produce;const EF=t=>(e,n,r)=>(r.setState=(i,o,...s)=>{const l=typeof i=="function"?kF(i):i;return e(l,o,...s)},t(r.setState,n,r)),AF=EF;function He(t,e,n){function r(l,u){var f;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(f=l._zod).traits??(f.traits=new Set),l._zod.traits.add(t),e(l,u);for(const h in s.prototype)h in l||Object.defineProperty(l,h,{value:s.prototype[h].bind(l)});l._zod.constr=s,l._zod.def=u}const i=n?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function s(l){var u;const f=n?.Parent?new o:this;r(f,l),(u=f._zod).deferred??(u.deferred=[]);for(const h of f._zod.deferred)h();return f}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:l=>n?.Parent&&l instanceof n.Parent?!0:l?._zod?.traits?.has(t)}),Object.defineProperty(s,"name",{value:t}),s}class yf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Q5 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const J5={};function zl(t){return J5}function OF(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Yw(t,e){return typeof e=="bigint"?e.toString():e}function $2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function F2(t){return t==null}function U2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function TF(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}const o=n>i?n:i,s=Number.parseInt(t.toFixed(o).replace(".","")),l=Number.parseInt(e.toFixed(o).replace(".",""));return s%l/10**o}const c3=Symbol("evaluating");function Mn(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==c3)return r===void 0&&(r=c3,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function ou(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function su(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function u3(t){return JSON.stringify(t)}const eR="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Tv(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const DF=$2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Mf(t){if(Tv(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Tv(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function tR(t){return Mf(t)?{...t}:Array.isArray(t)?[...t]:t}const RF=new Set(["string","number","symbol"]);function Nf(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zl(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function _t(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function MF(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const NF={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function jF(t,e){const n=t._zod.def,r=su(t._zod.def,{get shape(){const i={};for(const o in e){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&(i[o]=n.shape[o])}return ou(this,"shape",i),i},checks:[]});return Zl(t,r)}function zF(t,e){const n=t._zod.def,r=su(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const o in e){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&delete i[o]}return ou(this,"shape",i),i},checks:[]});return Zl(t,r)}function PF(t,e){if(!Mf(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=su(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return ou(this,"shape",o),o},checks:[]});return Zl(t,i)}function LF(t,e){if(!Mf(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return ou(this,"shape",r),r},checks:t._zod.def.checks};return Zl(t,n)}function BF(t,e){const n=su(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return ou(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Zl(t,n)}function IF(t,e,n){const r=su(e._zod.def,{get shape(){const i=e._zod.def.shape,o={...i};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(o[s]=t?new t({type:"optional",innerType:i[s]}):i[s])}else for(const s in i)o[s]=t?new t({type:"optional",innerType:i[s]}):i[s];return ou(this,"shape",o),o},checks:[]});return Zl(e,r)}function $F(t,e,n){const r=su(e._zod.def,{get shape(){const i=e._zod.def.shape,o={...i};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(o[s]=new t({type:"nonoptional",innerType:i[s]}))}else for(const s in i)o[s]=new t({type:"nonoptional",innerType:i[s]});return ou(this,"shape",o),o},checks:[]});return Zl(e,r)}function ff(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function df(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function gg(t){return typeof t=="string"?t:t?.message}function Pl(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=gg(t.inst?._zod.def?.error?.(t))??gg(e?.error?.(t))??gg(n.customError?.(t))??gg(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function H2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ap(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const nR=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Yw,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},rR=He("$ZodError",nR),iR=He("$ZodError",nR,{Parent:Error});function FF(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function UF(t,e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>i({issues:l}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let l=r,u=0;for(;u<s.path.length;){const f=s.path[u];u===s.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(n(s))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return i(t),r}const q2=t=>(e,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new yf;if(s.issues.length){const l=new(i?.Err??t)(s.issues.map(u=>Pl(u,o,zl())));throw eR(l,i?.callee),l}return s.value},K2=t=>async(e,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const l=new(i?.Err??t)(s.issues.map(u=>Pl(u,o,zl())));throw eR(l,i?.callee),l}return s.value},Wy=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new yf;return o.issues.length?{success:!1,error:new(t??rR)(o.issues.map(s=>Pl(s,i,zl())))}:{success:!0,data:o.value}},HF=Wy(iR),Yy=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(s=>Pl(s,i,zl())))}:{success:!0,data:o.value}},qF=Yy(iR),KF=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return q2(t)(e,n,i)},VF=t=>(e,n,r)=>q2(t)(e,n,r),WF=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return K2(t)(e,n,i)},YF=t=>async(e,n,r)=>K2(t)(e,n,r),ZF=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Wy(t)(e,n,i)},XF=t=>(e,n,r)=>Wy(t)(e,n,r),GF=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yy(t)(e,n,i)},QF=t=>async(e,n,r)=>Yy(t)(e,n,r),JF=/^[cC][^\s-]{8,}$/,eU=/^[0-9a-z]+$/,tU=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,nU=/^[0-9a-vA-V]{20}$/,rU=/^[A-Za-z0-9]{27}$/,iU=/^[a-zA-Z0-9_-]{21}$/,oU=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,sU=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,f3=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,aU=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,lU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function cU(){return new RegExp(lU,"u")}const uU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fU=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dU=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,hU=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pU=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,oR=/^[A-Za-z0-9_-]*$/,mU=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,gU=/^\+(?:[0-9]){6,14}[0-9]$/,sR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",vU=new RegExp(`^${sR}$`);function aR(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function yU(t){return new RegExp(`^${aR(t)}$`)}function bU(t){const e=aR({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${sR}T(?:${r})$`)}const wU=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},xU=/^-?\d+$/,SU=/^-?\d+(?:\.\d+)?/,_U=/^(?:true|false)$/i,CU=/^[^A-Z]*$/,kU=/^[^a-z]*$/,Mi=He("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),lR={number:"number",bigint:"bigint",object:"date"},cR=He("$ZodCheckLessThan",(t,e)=>{Mi.init(t,e);const n=lR[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),uR=He("$ZodCheckGreaterThan",(t,e)=>{Mi.init(t,e);const n=lR[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),EU=He("$ZodCheckMultipleOf",(t,e)=>{Mi.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):TF(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),AU=He("$ZodCheckNumberFormat",(t,e)=>{Mi.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,o]=NF[e.format];t._zod.onattach.push(s=>{const l=s._zod.bag;l.format=e.format,l.minimum=i,l.maximum=o,n&&(l.pattern=xU)}),t._zod.check=s=>{const l=s.value;if(n){if(!Number.isInteger(l)){s.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:l,inst:t});return}if(!Number.isSafeInteger(l)){l>0?s.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):s.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}l<i&&s.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),l>o&&s.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:t})}}),OU=He("$ZodCheckMaxLength",(t,e)=>{var n;Mi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!F2(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const s=H2(i);r.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),TU=He("$ZodCheckMinLength",(t,e)=>{var n;Mi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!F2(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const s=H2(i);r.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),DU=He("$ZodCheckLengthEquals",(t,e)=>{var n;Mi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!F2(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,o=i.length;if(o===e.length)return;const s=H2(i),l=o>e.length;r.issues.push({origin:s,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Zy=He("$ZodCheckStringFormat",(t,e)=>{var n,r;Mi.init(t,e),t._zod.onattach.push(i=>{const o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),RU=He("$ZodCheckRegex",(t,e)=>{Zy.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),MU=He("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=CU),Zy.init(t,e)}),NU=He("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=kU),Zy.init(t,e)}),jU=He("$ZodCheckIncludes",(t,e)=>{Mi.init(t,e);const n=Nf(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),zU=He("$ZodCheckStartsWith",(t,e)=>{Mi.init(t,e);const n=new RegExp(`^${Nf(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),PU=He("$ZodCheckEndsWith",(t,e)=>{Mi.init(t,e);const n=new RegExp(`.*${Nf(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),LU=He("$ZodCheckOverwrite",(t,e)=>{Mi.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class BU{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,i.join(`
`))}}const IU={major:4,minor:1,patch:11},Xn=He("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=IU;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const o of i._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(s,l,u)=>{let f=ff(s),h;for(const p of l){if(p._zod.def.when){if(!p._zod.def.when(s))continue}else if(f)continue;const g=s.issues.length,v=p._zod.check(s);if(v instanceof Promise&&u?.async===!1)throw new yf;if(h||v instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await v,s.issues.length!==g&&(f||(f=ff(s,g)))});else{if(s.issues.length===g)continue;f||(f=ff(s,g))}}return h?h.then(()=>s):s},o=(s,l,u)=>{if(ff(s))return s.aborted=!0,s;const f=i(l,r,u);if(f instanceof Promise){if(u.async===!1)throw new yf;return f.then(h=>t._zod.parse(h,u))}return t._zod.parse(f,u)};t._zod.run=(s,l)=>{if(l.skipChecks)return t._zod.parse(s,l);if(l.direction==="backward"){const f=t._zod.parse({value:s.value,issues:[]},{...l,skipChecks:!0});return f instanceof Promise?f.then(h=>o(h,s,l)):o(f,s,l)}const u=t._zod.parse(s,l);if(u instanceof Promise){if(l.async===!1)throw new yf;return u.then(f=>i(f,r,l))}return i(u,r,l)}}t["~standard"]={validate:i=>{try{const o=HF(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return qF(t,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),V2=He("$ZodString",(t,e)=>{Xn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??wU(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Kn=He("$ZodStringFormat",(t,e)=>{Zy.init(t,e),V2.init(t,e)}),$U=He("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=sU),Kn.init(t,e)}),FU=He("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=f3(r))}else e.pattern??(e.pattern=f3());Kn.init(t,e)}),UU=He("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=aU),Kn.init(t,e)}),HU=He("$ZodURL",(t,e)=>{Kn.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:mU.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),qU=He("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=cU()),Kn.init(t,e)}),KU=He("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=iU),Kn.init(t,e)}),VU=He("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=JF),Kn.init(t,e)}),WU=He("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=eU),Kn.init(t,e)}),YU=He("$ZodULID",(t,e)=>{e.pattern??(e.pattern=tU),Kn.init(t,e)}),ZU=He("$ZodXID",(t,e)=>{e.pattern??(e.pattern=nU),Kn.init(t,e)}),XU=He("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=rU),Kn.init(t,e)}),GU=He("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=bU(e)),Kn.init(t,e)}),QU=He("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=vU),Kn.init(t,e)}),JU=He("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=yU(e)),Kn.init(t,e)}),eH=He("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=oU),Kn.init(t,e)}),tH=He("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=uU),Kn.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),nH=He("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=fU),Kn.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),rH=He("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=dU),Kn.init(t,e)}),iH=He("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=hU),Kn.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,o]=r;if(!o)throw new Error;const s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function fR(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const oH=He("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=pU),Kn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{fR(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function sH(t){if(!oR.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return fR(n)}const aH=He("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=oR),Kn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{sH(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),lH=He("$ZodE164",(t,e)=>{e.pattern??(e.pattern=gU),Kn.init(t,e)});function cH(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const uH=He("$ZodJWT",(t,e)=>{Kn.init(t,e),t._zod.check=n=>{cH(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),dR=He("$ZodNumber",(t,e)=>{Xn.init(t,e),t._zod.pattern=t._zod.bag.pattern??SU,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),n}}),fH=He("$ZodNumber",(t,e)=>{AU.init(t,e),dR.init(t,e)}),dH=He("$ZodBoolean",(t,e)=>{Xn.init(t,e),t._zod.pattern=_U,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),hH=He("$ZodUnknown",(t,e)=>{Xn.init(t,e),t._zod.parse=n=>n}),pH=He("$ZodNever",(t,e)=>{Xn.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function d3(t,e,n){t.issues.length&&e.issues.push(...df(n,t.issues)),e.value[n]=t.value}const mH=He("$ZodArray",(t,e)=>{Xn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const l=i[s],u=e.element._zod.run({value:l,issues:[]},r);u instanceof Promise?o.push(u.then(f=>d3(f,n,s))):d3(u,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function Dv(t,e,n,r){t.issues.length&&e.issues.push(...df(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function hR(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=MF(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function pR(t,e,n,r,i,o){const s=[],l=i.keySet,u=i.catchall._zod,f=u.def.type;for(const h of Object.keys(e)){if(l.has(h))continue;if(f==="never"){s.push(h);continue}const p=u.run({value:e[h],issues:[]},r);p instanceof Promise?t.push(p.then(g=>Dv(g,n,h,e))):Dv(p,n,h,e)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const gH=He("$ZodObject",(t,e)=>{if(Xn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const l=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...l};return Object.defineProperty(e,"shape",{value:u}),u}})}const r=$2(()=>hR(e));Mn(t._zod,"propValues",()=>{const l=e.shape,u={};for(const f in l){const h=l[f]._zod;if(h.values){u[f]??(u[f]=new Set);for(const p of h.values)u[f].add(p)}}return u});const i=Tv,o=e.catchall;let s;t._zod.parse=(l,u)=>{s??(s=r.value);const f=l.value;if(!i(f))return l.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),l;l.value={};const h=[],p=s.shape;for(const g of s.keys){const b=p[g]._zod.run({value:f[g],issues:[]},u);b instanceof Promise?h.push(b.then(y=>Dv(y,l,g,f))):Dv(b,l,g,f)}return o?pR(h,f,l,u,r.value,t):h.length?Promise.all(h).then(()=>l):l}}),vH=He("$ZodObjectJIT",(t,e)=>{gH.init(t,e);const n=t._zod.parse,r=$2(()=>hR(e)),i=g=>{const v=new BU(["shape","payload","ctx"]),b=r.value,y=O=>{const T=u3(O);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};v.write("const input = payload.value;");const _=Object.create(null);let E=0;for(const O of b.keys)_[O]=`key_${E++}`;v.write("const newResult = {};");for(const O of b.keys){const T=_[O],R=u3(O);v.write(`const ${T} = ${y(O)};`),v.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        
        if (${T}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${T}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const A=v.compile();return(O,T)=>A(g,O,T)};let o;const s=Tv,l=!J5.jitless,f=l&&DF.value,h=e.catchall;let p;t._zod.parse=(g,v)=>{p??(p=r.value);const b=g.value;return s(b)?l&&f&&v?.async===!1&&v.jitless!==!0?(o||(o=i(e.shape)),g=o(g,v),h?pR([],b,g,v,p,t):g):n(g,v):(g.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),g)}});function h3(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const i=t.filter(o=>!ff(o));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(s=>Pl(s,r,zl())))}),e)}const yH=He("$ZodUnion",(t,e)=>{Xn.init(t,e),Mn(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Mn(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Mn(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Mn(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>U2(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(n)return r(i,o);let s=!1;const l=[];for(const u of e.options){const f=u._zod.run({value:i.value,issues:[]},o);if(f instanceof Promise)l.push(f),s=!0;else{if(f.issues.length===0)return f;l.push(f)}}return s?Promise.all(l).then(u=>h3(u,i,t,o)):h3(l,i,t,o)}}),bH=He("$ZodIntersection",(t,e)=>{Xn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,o=e.left._zod.run({value:i,issues:[]},r),s=e.right._zod.run({value:i,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([u,f])=>p3(n,u,f)):p3(n,o,s)}});function Zw(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Mf(t)&&Mf(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),i={...t,...e};for(const o of r){const s=Zw(t[o],e[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r],s=Zw(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function p3(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),ff(t))return t;const r=Zw(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const wH=He("$ZodRecord",(t,e)=>{Xn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Mf(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),n;const o=[];if(e.keyType._zod.values){const s=e.keyType._zod.values;n.value={};for(const u of s)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){const f=e.valueType._zod.run({value:i[u],issues:[]},r);f instanceof Promise?o.push(f.then(h=>{h.issues.length&&n.issues.push(...df(u,h.issues)),n.value[u]=h.value})):(f.issues.length&&n.issues.push(...df(u,f.issues)),n.value[u]=f.value)}let l;for(const u in i)s.has(u)||(l=l??[],l.push(u));l&&l.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:l})}else{n.value={};for(const s of Reflect.ownKeys(i)){if(s==="__proto__")continue;const l=e.keyType._zod.run({value:s,issues:[]},r);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(f=>Pl(f,r,zl())),input:s,path:[s],inst:t}),n.value[l.value]=l.value;continue}const u=e.valueType._zod.run({value:i[s],issues:[]},r);u instanceof Promise?o.push(u.then(f=>{f.issues.length&&n.issues.push(...df(s,f.issues)),n.value[l.value]=f.value})):(u.issues.length&&n.issues.push(...df(s,u.issues)),n.value[l.value]=u.value)}}return o.length?Promise.all(o).then(()=>n):n}}),xH=He("$ZodEnum",(t,e)=>{Xn.init(t,e);const n=OF(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>RF.has(typeof i)).map(i=>typeof i=="string"?Nf(i):i.toString()).join("|")})$`),t._zod.parse=(i,o)=>{const s=i.value;return r.has(s)||i.issues.push({code:"invalid_value",values:n,input:s,inst:t}),i}}),SH=He("$ZodLiteral",(t,e)=>{if(Xn.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?Nf(n):n?Nf(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,r)=>{const i=n.value;return t._zod.values.has(i)||n.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),n}}),_H=He("$ZodTransform",(t,e)=>{Xn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Q5(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new yf;return n.value=i,n}});function m3(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const CH=He("$ZodOptional",(t,e)=>{Xn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Mn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Mn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${U2(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>m3(o,n.value)):m3(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),kH=He("$ZodNullable",(t,e)=>{Xn.init(t,e),Mn(t._zod,"optin",()=>e.innerType._zod.optin),Mn(t._zod,"optout",()=>e.innerType._zod.optout),Mn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${U2(n.source)}|null)$`):void 0}),Mn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),EH=He("$ZodDefault",(t,e)=>{Xn.init(t,e),t._zod.optin="optional",Mn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>g3(o,e)):g3(i,e)}});function g3(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const AH=He("$ZodPrefault",(t,e)=>{Xn.init(t,e),t._zod.optin="optional",Mn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),OH=He("$ZodNonOptional",(t,e)=>{Xn.init(t,e),Mn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>v3(o,t)):v3(i,t)}});function v3(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const TH=He("$ZodCatch",(t,e)=>{Xn.init(t,e),Mn(t._zod,"optin",()=>e.innerType._zod.optin),Mn(t._zod,"optout",()=>e.innerType._zod.optout),Mn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(s=>Pl(s,r,zl()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>Pl(o,r,zl()))},input:n.value}),n.issues=[]),n)}}),DH=He("$ZodPipe",(t,e)=>{Xn.init(t,e),Mn(t._zod,"values",()=>e.in._zod.values),Mn(t._zod,"optin",()=>e.in._zod.optin),Mn(t._zod,"optout",()=>e.out._zod.optout),Mn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(s=>vg(s,e.in,r)):vg(o,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(o=>vg(o,e.out,r)):vg(i,e.out,r)}});function vg(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const RH=He("$ZodReadonly",(t,e)=>{Xn.init(t,e),Mn(t._zod,"propValues",()=>e.innerType._zod.propValues),Mn(t._zod,"values",()=>e.innerType._zod.values),Mn(t._zod,"optin",()=>e.innerType._zod.optin),Mn(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(y3):y3(i)}});function y3(t){return t.value=Object.freeze(t.value),t}const MH=He("$ZodCustom",(t,e)=>{Mi.init(t,e),Xn.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(o=>b3(o,n,r,t));b3(i,n,r,t)}});function b3(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(ap(i))}}class NH{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function jH(){return new NH}const yg=jH();function zH(t,e){return new t({type:"string",..._t(e)})}function PH(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,..._t(e)})}function w3(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,..._t(e)})}function LH(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,..._t(e)})}function mR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",..._t(e)})}function BH(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",..._t(e)})}function IH(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",..._t(e)})}function $H(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,..._t(e)})}function FH(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,..._t(e)})}function UH(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,..._t(e)})}function HH(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,..._t(e)})}function qH(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,..._t(e)})}function KH(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,..._t(e)})}function VH(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,..._t(e)})}function WH(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,..._t(e)})}function YH(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,..._t(e)})}function ZH(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,..._t(e)})}function XH(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,..._t(e)})}function GH(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,..._t(e)})}function QH(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,..._t(e)})}function JH(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,..._t(e)})}function eq(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,..._t(e)})}function tq(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,..._t(e)})}function nq(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,..._t(e)})}function rq(t,e){return new t({type:"string",format:"date",check:"string_format",..._t(e)})}function iq(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,..._t(e)})}function oq(t,e){return new t({type:"string",format:"duration",check:"string_format",..._t(e)})}function sq(t,e){return new t({type:"number",checks:[],..._t(e)})}function aq(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",..._t(e)})}function lq(t,e){return new t({type:"boolean",..._t(e)})}function cq(t){return new t({type:"unknown"})}function uq(t,e){return new t({type:"never",..._t(e)})}function x3(t,e){return new cR({check:"less_than",..._t(e),value:t,inclusive:!1})}function z1(t,e){return new cR({check:"less_than",..._t(e),value:t,inclusive:!0})}function S3(t,e){return new uR({check:"greater_than",..._t(e),value:t,inclusive:!1})}function P1(t,e){return new uR({check:"greater_than",..._t(e),value:t,inclusive:!0})}function _3(t,e){return new EU({check:"multiple_of",..._t(e),value:t})}function gR(t,e){return new OU({check:"max_length",..._t(e),maximum:t})}function Rv(t,e){return new TU({check:"min_length",..._t(e),minimum:t})}function vR(t,e){return new DU({check:"length_equals",..._t(e),length:t})}function fq(t,e){return new RU({check:"string_format",format:"regex",..._t(e),pattern:t})}function dq(t){return new MU({check:"string_format",format:"lowercase",..._t(t)})}function hq(t){return new NU({check:"string_format",format:"uppercase",..._t(t)})}function pq(t,e){return new jU({check:"string_format",format:"includes",..._t(e),includes:t})}function mq(t,e){return new zU({check:"string_format",format:"starts_with",..._t(e),prefix:t})}function gq(t,e){return new PU({check:"string_format",format:"ends_with",..._t(e),suffix:t})}function Rp(t){return new LU({check:"overwrite",tx:t})}function vq(t){return Rp(e=>e.normalize(t))}function yq(){return Rp(t=>t.trim())}function bq(){return Rp(t=>t.toLowerCase())}function wq(){return Rp(t=>t.toUpperCase())}function xq(t,e,n){return new t({type:"array",element:e,..._t(n)})}function Sq(t,e,n){return new t({type:"custom",check:"custom",fn:e,..._t(n)})}function _q(t){const e=Cq(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ap(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(ap(i))}},t(n.value,n)));return e}function Cq(t,e){const n=new Mi({check:"custom",..._t(e)});return n._zod.check=t,n}const kq=He("ZodISODateTime",(t,e)=>{GU.init(t,e),Gn.init(t,e)});function Eq(t){return nq(kq,t)}const Aq=He("ZodISODate",(t,e)=>{QU.init(t,e),Gn.init(t,e)});function Oq(t){return rq(Aq,t)}const Tq=He("ZodISOTime",(t,e)=>{JU.init(t,e),Gn.init(t,e)});function Dq(t){return iq(Tq,t)}const Rq=He("ZodISODuration",(t,e)=>{eH.init(t,e),Gn.init(t,e)});function Mq(t){return oq(Rq,t)}const Nq=(t,e)=>{rR.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>UF(t,n)},flatten:{value:n=>FF(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Yw,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Yw,2)}},isEmpty:{get(){return t.issues.length===0}}})},ko=He("ZodError",Nq,{Parent:Error}),jq=q2(ko),zq=K2(ko),Pq=Wy(ko),Lq=Yy(ko),Bq=KF(ko),Iq=VF(ko),$q=WF(ko),Fq=YF(ko),Uq=ZF(ko),Hq=XF(ko),qq=GF(ko),Kq=QF(ko),ar=He("ZodType",(t,e)=>(Xn.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(su(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>Zl(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>jq(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>Pq(t,n,r),t.parseAsync=async(n,r)=>zq(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>Lq(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>Bq(t,n,r),t.decode=(n,r)=>Iq(t,n,r),t.encodeAsync=async(n,r)=>$q(t,n,r),t.decodeAsync=async(n,r)=>Fq(t,n,r),t.safeEncode=(n,r)=>Uq(t,n,r),t.safeDecode=(n,r)=>Hq(t,n,r),t.safeEncodeAsync=async(n,r)=>qq(t,n,r),t.safeDecodeAsync=async(n,r)=>Kq(t,n,r),t.refine=(n,r)=>t.check(LK(n,r)),t.superRefine=n=>t.check(BK(n)),t.overwrite=n=>t.check(Rp(n)),t.optional=()=>A3(t),t.nullable=()=>O3(t),t.nullish=()=>A3(O3(t)),t.nonoptional=n=>DK(t,n),t.array=()=>Ri(t),t.or=n=>W2([t,n]),t.and=n=>bK(t,n),t.transform=n=>T3(t,CK(n)),t.default=n=>AK(t,n),t.prefault=n=>TK(t,n),t.catch=n=>MK(t,n),t.pipe=n=>T3(t,n),t.readonly=()=>zK(t),t.describe=n=>{const r=t.clone();return yg.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return yg.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return yg.get(t);const r=t.clone();return yg.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),yR=He("_ZodString",(t,e)=>{V2.init(t,e),ar.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(fq(...r)),t.includes=(...r)=>t.check(pq(...r)),t.startsWith=(...r)=>t.check(mq(...r)),t.endsWith=(...r)=>t.check(gq(...r)),t.min=(...r)=>t.check(Rv(...r)),t.max=(...r)=>t.check(gR(...r)),t.length=(...r)=>t.check(vR(...r)),t.nonempty=(...r)=>t.check(Rv(1,...r)),t.lowercase=r=>t.check(dq(r)),t.uppercase=r=>t.check(hq(r)),t.trim=()=>t.check(yq()),t.normalize=(...r)=>t.check(vq(...r)),t.toLowerCase=()=>t.check(bq()),t.toUpperCase=()=>t.check(wq())}),Vq=He("ZodString",(t,e)=>{V2.init(t,e),yR.init(t,e),t.email=n=>t.check(PH(Wq,n)),t.url=n=>t.check($H(Yq,n)),t.jwt=n=>t.check(tq(cK,n)),t.emoji=n=>t.check(FH(Zq,n)),t.guid=n=>t.check(w3(C3,n)),t.uuid=n=>t.check(LH(Bh,n)),t.uuidv4=n=>t.check(mR(Bh,n)),t.uuidv6=n=>t.check(BH(Bh,n)),t.uuidv7=n=>t.check(IH(Bh,n)),t.nanoid=n=>t.check(UH(Xq,n)),t.guid=n=>t.check(w3(C3,n)),t.cuid=n=>t.check(HH(Gq,n)),t.cuid2=n=>t.check(qH(Qq,n)),t.ulid=n=>t.check(KH(Jq,n)),t.base64=n=>t.check(QH(sK,n)),t.base64url=n=>t.check(JH(aK,n)),t.xid=n=>t.check(VH(eK,n)),t.ksuid=n=>t.check(WH(tK,n)),t.ipv4=n=>t.check(YH(nK,n)),t.ipv6=n=>t.check(ZH(rK,n)),t.cidrv4=n=>t.check(XH(iK,n)),t.cidrv6=n=>t.check(GH(oK,n)),t.e164=n=>t.check(eq(lK,n)),t.datetime=n=>t.check(Eq(n)),t.date=n=>t.check(Oq(n)),t.time=n=>t.check(Dq(n)),t.duration=n=>t.check(Mq(n))});function mn(t){return zH(Vq,t)}const Gn=He("ZodStringFormat",(t,e)=>{Kn.init(t,e),yR.init(t,e)}),Wq=He("ZodEmail",(t,e)=>{UU.init(t,e),Gn.init(t,e)}),C3=He("ZodGUID",(t,e)=>{$U.init(t,e),Gn.init(t,e)}),Bh=He("ZodUUID",(t,e)=>{FU.init(t,e),Gn.init(t,e)});function Zc(t){return mR(Bh,t)}const Yq=He("ZodURL",(t,e)=>{HU.init(t,e),Gn.init(t,e)}),Zq=He("ZodEmoji",(t,e)=>{qU.init(t,e),Gn.init(t,e)}),Xq=He("ZodNanoID",(t,e)=>{KU.init(t,e),Gn.init(t,e)}),Gq=He("ZodCUID",(t,e)=>{VU.init(t,e),Gn.init(t,e)}),Qq=He("ZodCUID2",(t,e)=>{WU.init(t,e),Gn.init(t,e)}),Jq=He("ZodULID",(t,e)=>{YU.init(t,e),Gn.init(t,e)}),eK=He("ZodXID",(t,e)=>{ZU.init(t,e),Gn.init(t,e)}),tK=He("ZodKSUID",(t,e)=>{XU.init(t,e),Gn.init(t,e)}),nK=He("ZodIPv4",(t,e)=>{tH.init(t,e),Gn.init(t,e)}),rK=He("ZodIPv6",(t,e)=>{nH.init(t,e),Gn.init(t,e)}),iK=He("ZodCIDRv4",(t,e)=>{rH.init(t,e),Gn.init(t,e)}),oK=He("ZodCIDRv6",(t,e)=>{iH.init(t,e),Gn.init(t,e)}),sK=He("ZodBase64",(t,e)=>{oH.init(t,e),Gn.init(t,e)}),aK=He("ZodBase64URL",(t,e)=>{aH.init(t,e),Gn.init(t,e)}),lK=He("ZodE164",(t,e)=>{lH.init(t,e),Gn.init(t,e)}),cK=He("ZodJWT",(t,e)=>{uH.init(t,e),Gn.init(t,e)}),bR=He("ZodNumber",(t,e)=>{dR.init(t,e),ar.init(t,e),t.gt=(r,i)=>t.check(S3(r,i)),t.gte=(r,i)=>t.check(P1(r,i)),t.min=(r,i)=>t.check(P1(r,i)),t.lt=(r,i)=>t.check(x3(r,i)),t.lte=(r,i)=>t.check(z1(r,i)),t.max=(r,i)=>t.check(z1(r,i)),t.int=r=>t.check(k3(r)),t.safe=r=>t.check(k3(r)),t.positive=r=>t.check(S3(0,r)),t.nonnegative=r=>t.check(P1(0,r)),t.negative=r=>t.check(x3(0,r)),t.nonpositive=r=>t.check(z1(0,r)),t.multipleOf=(r,i)=>t.check(_3(r,i)),t.step=(r,i)=>t.check(_3(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Bo(t){return sq(bR,t)}const uK=He("ZodNumberFormat",(t,e)=>{fH.init(t,e),bR.init(t,e)});function k3(t){return aq(uK,t)}const fK=He("ZodBoolean",(t,e)=>{dH.init(t,e),ar.init(t,e)});function Fo(t){return lq(fK,t)}const dK=He("ZodUnknown",(t,e)=>{hH.init(t,e),ar.init(t,e)});function E3(){return cq(dK)}const hK=He("ZodNever",(t,e)=>{pH.init(t,e),ar.init(t,e)});function pK(t){return uq(hK,t)}const mK=He("ZodArray",(t,e)=>{mH.init(t,e),ar.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(Rv(n,r)),t.nonempty=n=>t.check(Rv(1,n)),t.max=(n,r)=>t.check(gR(n,r)),t.length=(n,r)=>t.check(vR(n,r)),t.unwrap=()=>t.element});function Ri(t,e){return xq(mK,t,e)}const gK=He("ZodObject",(t,e)=>{vH.init(t,e),ar.init(t,e),Mn(t,"shape",()=>e.shape),t.keyof=()=>wR(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:E3()}),t.loose=()=>t.clone({...t._zod.def,catchall:E3()}),t.strict=()=>t.clone({...t._zod.def,catchall:pK()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>PF(t,n),t.safeExtend=n=>LF(t,n),t.merge=n=>BF(t,n),t.pick=n=>jF(t,n),t.omit=n=>zF(t,n),t.partial=(...n)=>IF(xR,t,n[0]),t.required=(...n)=>$F(SR,t,n[0])});function Ti(t,e){const n={type:"object",shape:t??{},..._t(e)};return new gK(n)}const vK=He("ZodUnion",(t,e)=>{yH.init(t,e),ar.init(t,e),t.options=e.options});function W2(t,e){return new vK({type:"union",options:t,..._t(e)})}const yK=He("ZodIntersection",(t,e)=>{bH.init(t,e),ar.init(t,e)});function bK(t,e){return new yK({type:"intersection",left:t,right:e})}const wK=He("ZodRecord",(t,e)=>{wH.init(t,e),ar.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function xK(t,e,n){return new wK({type:"record",keyType:t,valueType:e,..._t(n)})}const Xw=He("ZodEnum",(t,e)=>{xH.init(t,e),ar.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const o={};for(const s of r)if(n.has(s))o[s]=e.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Xw({...e,checks:[],..._t(i),entries:o})},t.exclude=(r,i)=>{const o={...e.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new Xw({...e,checks:[],..._t(i),entries:o})}});function wR(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Xw({type:"enum",entries:n,..._t(e)})}const SK=He("ZodLiteral",(t,e)=>{SH.init(t,e),ar.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Ui(t,e){return new SK({type:"literal",values:Array.isArray(t)?t:[t],..._t(e)})}const _K=He("ZodTransform",(t,e)=>{_H.init(t,e),ar.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Q5(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(ap(o,n.value,e));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),n.issues.push(ap(s))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function CK(t){return new _K({type:"transform",transform:t})}const xR=He("ZodOptional",(t,e)=>{CH.init(t,e),ar.init(t,e),t.unwrap=()=>t._zod.def.innerType});function A3(t){return new xR({type:"optional",innerType:t})}const kK=He("ZodNullable",(t,e)=>{kH.init(t,e),ar.init(t,e),t.unwrap=()=>t._zod.def.innerType});function O3(t){return new kK({type:"nullable",innerType:t})}const EK=He("ZodDefault",(t,e)=>{EH.init(t,e),ar.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function AK(t,e){return new EK({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():tR(e)}})}const OK=He("ZodPrefault",(t,e)=>{AH.init(t,e),ar.init(t,e),t.unwrap=()=>t._zod.def.innerType});function TK(t,e){return new OK({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():tR(e)}})}const SR=He("ZodNonOptional",(t,e)=>{OH.init(t,e),ar.init(t,e),t.unwrap=()=>t._zod.def.innerType});function DK(t,e){return new SR({type:"nonoptional",innerType:t,..._t(e)})}const RK=He("ZodCatch",(t,e)=>{TH.init(t,e),ar.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function MK(t,e){return new RK({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const NK=He("ZodPipe",(t,e)=>{DH.init(t,e),ar.init(t,e),t.in=e.in,t.out=e.out});function T3(t,e){return new NK({type:"pipe",in:t,out:e})}const jK=He("ZodReadonly",(t,e)=>{RH.init(t,e),ar.init(t,e),t.unwrap=()=>t._zod.def.innerType});function zK(t){return new jK({type:"readonly",innerType:t})}const PK=He("ZodCustom",(t,e)=>{MH.init(t,e),ar.init(t,e)});function LK(t,e={}){return Sq(PK,t,e)}function BK(t){return _q(t)}const Y2=t=>t!=="unlabeled"&&t!=="all"&&t!=="archived",IK=Object.freeze(["id","type","created_at","updated_at","version","deleted_at"]),$K={title:"title",ext:"ext",mime:"mime",labels:"labels",archived:"archived",size:"size"},FK=Object.freeze(Object.values($K)),UK=["created_at","updated_at"],HK=UK.map(t=>({value:t,label:t==="created_at"?"Created":"Modified"})),qK=Ti({id:mn(),updated_at:Bo().optional(),done:Fo(),txt:mn(),parent:mn().optional()}),KK=Ri(qK),Xy=Object.freeze({anchor:0,head:0}),VK=[null,0,30,60,90,120,150,180,210,240,270,300,330],WK=Ti({title:mn(),txt:mn(),labels:Ri(Zc()).optional(),archived:Fo().optional()}),YK=Ti({title:mn(),todos:KK,labels:Ri(Zc()).optional(),archived:Fo().optional()}),_R=W2([Ui(null),Ui(0),Ui(30),Ui(60),Ui(90),Ui(120),Ui(150),Ui(180),Ui(210),Ui(240),Ui(270),Ui(300),Ui(330)]),ZK=Ti({name:mn(),hue:_R}),XK=Ti({title:mn(),ext:mn(),mime:mn(),labels:Ri(Zc()),archived:Fo(),size:Bo().int().positive()}),GK=["password_protected_notes","reminders"],QK=Ti({sub:mn(),features:Ri(wR(GK))}),D3=(t,e)=>{if(Array.isArray(t)&&Array.isArray(e)){const n=Math.min(t.length,e.length);for(let r=0;r<n;++r){const i=t[r],o=e[r];if(i<o)return-1;if(i>o)return 1}}return typeof t=="string"&&typeof e=="string"?t.localeCompare(e):t<e?-1:t>e?1:0},CR=(t,e)=>(n,r)=>e?D3(r[t],n[t]):D3(n[t],r[t]),Z2=t=>t[t.length-1],Ll=(t,e)=>{let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>t(...r),e)}},Mp=t=>new Promise(e=>setTimeout(e,t)),kR=(t,e)=>{const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},JK=t=>{try{return JSON.parse(t)}catch{return}},Np=(t,e,n=[],r=null)=>{if(r!==null&&n.includes(r))return!0;if(typeof t!=typeof e)return!1;if(t===void 0||e===void 0||t===null||e===null||typeof t!="object"||typeof e!="object")return t===e;const i=Object.keys(t),o=Object.keys(e);return i.length!==o.length?!1:i.every(s=>Np(t[s],e[s],n,s))},ER=(t,e=5,n=200)=>{const r=t.split(`
`);let i=!1;return r.length>e&&(t=r.slice(0,e).join(`
`),i=!0),t.length>n&&(t=t.slice(0,n),i=!0),i&&(t+="..."),t},Gy=t=>{let e=!1,n=!1,r=Promise.resolve();async function i(){if(e)return n=!0,r;e=!0;try{await t()}finally{e=!1}n&&(n=!1,r=i(),await r)}return()=>(r=i(),r)},eV=(t,e)=>{const n=[],r=[];for(const i of t)e(i)?n.push(i):r.push(i);return[n,r]},R3=(t,e)=>{const n={};for(const r of t){const i=e(r);n[i]=n[i]??[],n[i].push(r)}return n},AR=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",M3=(t,e,n,r)=>{const i=e<n,o=r==="bottom";let s=0;i?s=o?n:n-1:s=o?n+1:n;const[l]=t.splice(e,1);l&&t.splice(s,0,l)},OR=t=>{const e=t.lastIndexOf(".");return e===-1?[t,""]:[t.slice(0,e),t.slice(e)]},N3=(t,e)=>{let n=2;const r=[];for(const i of t){const o=1+JSON.stringify(i).length;if(n+o>e)break;r.push(i),n+=o}return r},kl=t=>{const e=new Date(t),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),o=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${n}-${r}-${i} ${o}`},tV="https://ciphernotes.com/api",nV=8e3,rV="",Vh="central";class iV extends Error{constructor(e){super("timeout: "+e+"ms")}}class oV extends Error{aborted;constructor(e="aborted"){super(e),this.aborted=!0}}const sV=(t,e={},n=8*1e3,r=new AbortController)=>{e.signal=e.signal||r.signal;const i=new Promise((s,l)=>setTimeout(()=>{l(new iV(n)),r.abort()},n)),o=fetch(t,e).then(async s=>await s.json()).catch(s=>{throw e.signal&&e.signal.aborted?new oV:s});return Promise.race([o,i])},Ni=async(t,e={},n=nV,r=new AbortController)=>{typeof e.body=="object"&&(e.body=JSON.stringify(e.body),e.headers={...e.headers,"Content-Type":"application/json"}),e.credentials="include";try{return await sV(tV+t,e,n,r)}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error",statusCode:-1}}},aV=(t,e)=>Ni("/registerEmail",{method:"POST",body:{email:t,captcha_token:e}}),lV=t=>Ni("/sendLoginCode",{method:"POST",body:{email:t}}),cV=(t,e)=>Ni("/loginWithCode",{method:"POST",body:{email:t,login_code:e}}),uV=(t,e)=>Ni("/adminCreateUser",{method:"POST",body:{username:t,password:e}}),fV=(t,e,n)=>Ni("/adminSetPassword",{method:"POST",body:{target_identifier:t,new_password:e,admin_password:n}}),dV=(t,e,n)=>Ni("/syncNotes",{method:"POST",body:{last_synced_to:t,sync_token:n,puts:e}}),hV=({confirm:t,password:e})=>Ni("/deleteNotes",{method:"POST",body:{confirm:t,password:e}}),pV=({confirm:t,password:e})=>Ni("/deleteAccount",{method:"POST",body:{confirm:t,password:e}}),TR=()=>Ni("/sendConfirmCode",{method:"POST"}),mV=()=>Ni("/logout",{method:"POST"}),gV=()=>Ni("/removeAllSessions",{method:"POST"}),au=t=>!t.success&&t.statusCode===401,vV=({newEmail:t,oldEmail:e})=>Ni("/sendChangeEmailCodes",{method:"POST",body:{new_email:t,old_email:e}}),yV=({oldEmail:t,oldEmailCode:e,newEmailCode:n})=>Ni("/changeEmail",{method:"POST",body:{old_email:t,old_email_code:e,new_email_code:n}}),bV=()=>Ni("/storageUsage",{method:"GET"});function wV(t){return t.reduce((e,n)=>(e+n)%256,0)}function DR(t=16){return X2(crypto.getRandomValues(new Uint8Array(t)))}function X2(t){return btoa(String.fromCharCode(...t))}function lp(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function G2(t){if(typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer){const e=new Uint8Array(t),n=new ArrayBuffer(e.byteLength);return new Uint8Array(n).set(e),n}if(t instanceof ArrayBuffer)return t;throw new Error("Invalid buffer")}function RR(t){return X2(new Uint8Array(t))}function xV(t){const e=lp(t);return G2(e.buffer)}async function MR(){const t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return await SV(t)}async function SV(t){const e=await crypto.subtle.exportKey("raw",t);return RR(e)}async function NR(t){const e=lp(t),n=G2(e.buffer);return await crypto.subtle.importKey("raw",n,{name:"AES-GCM"},!0,["encrypt","decrypt"])}async function _V(t,e){const r=new TextEncoder().encode(e),i=crypto.getRandomValues(new Uint8Array(12)),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:i,tagLength:128},t,r);return{cipher_text:RR(o),iv:X2(i)}}async function CV(t,e,n){const r=lp(n),i=G2(r.buffer),o=await crypto.subtle.decrypt({name:"AES-GCM",iv:i,tagLength:128},t,xV(e));return new TextDecoder().decode(o)}const j3=async(t,e)=>{const n=await NR(t);return await Promise.all(e.map(async r=>{const i=r.deleted_at===null&&r.cipher_text!==null&&r.iv!==null?await CV(n,r.cipher_text,r.iv).then(o=>({...r,txt:o})):{...r,txt:null};return delete i.cipher_text,delete i.iv,i}))},kV=async(t,e)=>{const n=await NR(t);return await Promise.all(e.map(async r=>{const i=r.txt===null||r.deleted_at!==null?{...r,cipher_text:null,iv:null}:await _V(n,r.txt).then(({cipher_text:o,iv:s})=>({...r,cipher_text:o,iv:s,deleted_at:null}));return delete i.txt,i}))},Q2=(t,e)=>{const n=lp(t),r=lp(e);return wV(new Uint8Array([...n,...r]))},Gw=t=>{const[e,n,r]=t.split(":");return e&&n&&r&&mn().base64().length(44).safeParse(e).success&&mn().base64().length(24).safeParse(n).success&&Q2(e,n)===Number(r)};var tv={exports:{}},EV=tv.exports,z3;function AV(){return z3||(z3=1,(function(t,e){(function(n,r){t.exports=r()})(EV,function(){var n=function(w,C){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var F in z)Object.prototype.hasOwnProperty.call(z,F)&&(D[F]=z[F])})(w,C)},r=function(){return(r=Object.assign||function(w){for(var C,D=1,z=arguments.length;D<z;D++)for(var F in C=arguments[D])Object.prototype.hasOwnProperty.call(C,F)&&(w[F]=C[F]);return w}).apply(this,arguments)};function i(w,C,D){for(var z,F=0,K=C.length;F<K;F++)!z&&F in C||((z=z||Array.prototype.slice.call(C,0,F))[F]=C[F]);return w.concat(z||Array.prototype.slice.call(C))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ph,s=Object.keys,l=Array.isArray;function u(w,C){return typeof C!="object"||s(C).forEach(function(D){w[D]=C[D]}),w}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var f=Object.getPrototypeOf,h={}.hasOwnProperty;function p(w,C){return h.call(w,C)}function g(w,C){typeof C=="function"&&(C=C(f(w))),(typeof Reflect>"u"?s:Reflect.ownKeys)(C).forEach(function(D){b(w,D,C[D])})}var v=Object.defineProperty;function b(w,C,D,z){v(w,C,u(D&&p(D,"get")&&typeof D.get=="function"?{get:D.get,set:D.set,configurable:!0}:{value:D,configurable:!0,writable:!0},z))}function y(w){return{from:function(C){return w.prototype=Object.create(C.prototype),b(w.prototype,"constructor",w),{extend:g.bind(null,w.prototype)}}}}var _=Object.getOwnPropertyDescriptor,E=[].slice;function A(w,C,D){return E.call(w,C,D)}function O(w,C){return C(w)}function T(w){if(!w)throw new Error("Assertion Failed")}function R(w){o.setImmediate?setImmediate(w):setTimeout(w,0)}function N(w,C){if(typeof C=="string"&&p(w,C))return w[C];if(!C)return w;if(typeof C!="string"){for(var D=[],z=0,F=C.length;z<F;++z){var K=N(w,C[z]);D.push(K)}return D}var re=C.indexOf(".");if(re!==-1){var ie=w[C.substr(0,re)];return ie==null?void 0:N(ie,C.substr(re+1))}}function j(w,C,D){if(w&&C!==void 0&&!("isFrozen"in Object&&Object.isFrozen(w)))if(typeof C!="string"&&"length"in C){T(typeof D!="string"&&"length"in D);for(var z=0,F=C.length;z<F;++z)j(w,C[z],D[z])}else{var K,re,ie=C.indexOf(".");ie!==-1?(K=C.substr(0,ie),(re=C.substr(ie+1))===""?D===void 0?l(w)&&!isNaN(parseInt(K))?w.splice(K,1):delete w[K]:w[K]=D:j(ie=!(ie=w[K])||!p(w,K)?w[K]={}:ie,re,D)):D===void 0?l(w)&&!isNaN(parseInt(C))?w.splice(C,1):delete w[C]:w[C]=D}}function U(w){var C,D={};for(C in w)p(w,C)&&(D[C]=w[C]);return D}var H=[].concat;function Z(w){return H.apply([],w)}var Ge="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Z([8,16,32,64].map(function(w){return["Int","Uint","Float"].map(function(C){return C+w+"Array"})}))).filter(function(w){return o[w]}),te=new Set(Ge.map(function(w){return o[w]})),I=null;function Y(w){return I=new WeakMap,w=(function C(D){if(!D||typeof D!="object")return D;var z=I.get(D);if(z)return z;if(l(D)){z=[],I.set(D,z);for(var F=0,K=D.length;F<K;++F)z.push(C(D[F]))}else if(te.has(D.constructor))z=D;else{var re,ie=f(D);for(re in z=ie===Object.prototype?{}:Object.create(ie),I.set(D,z),D)p(D,re)&&(z[re]=C(D[re]))}return z})(w),I=null,w}var M={}.toString;function J(w){return M.call(w).slice(8,-1)}var V=typeof Symbol<"u"?Symbol.iterator:"@@iterator",X=typeof V=="symbol"?function(w){var C;return w!=null&&(C=w[V])&&C.apply(w)}:function(){return null};function Q(w,C){return C=w.indexOf(C),0<=C&&w.splice(C,1),0<=C}var ne={};function ue(w){var C,D,z,F;if(arguments.length===1){if(l(w))return w.slice();if(this===ne&&typeof w=="string")return[w];if(F=X(w)){for(D=[];!(z=F.next()).done;)D.push(z.value);return D}if(w==null)return[w];if(typeof(C=w.length)!="number")return[w];for(D=new Array(C);C--;)D[C]=w[C];return D}for(C=arguments.length,D=new Array(C);C--;)D[C]=arguments[C];return D}var $=typeof Symbol<"u"?function(w){return w[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Oe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ei=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Oe),q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function se(w,C){this.name=w,this.message=C}function le(w,C){return w+". Errors: "+Object.keys(C).map(function(D){return C[D].toString()}).filter(function(D,z,F){return F.indexOf(D)===z}).join(`
`)}function me(w,C,D,z){this.failures=C,this.failedKeys=z,this.successCount=D,this.message=le(w,C)}function je(w,C){this.name="BulkError",this.failures=Object.keys(C).map(function(D){return C[D]}),this.failuresByPos=C,this.message=le(w,this.failures)}y(se).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(me).from(se),y(je).from(se);var We=ei.reduce(function(w,C){return w[C]=C+"Error",w},{}),Xe=se,Ae=ei.reduce(function(w,C){var D=C+"Error";function z(F,K){this.name=D,F?typeof F=="string"?(this.message="".concat(F).concat(K?`
 `+K:""),this.inner=K||null):typeof F=="object"&&(this.message="".concat(F.name," ").concat(F.message),this.inner=F):(this.message=q[C]||D,this.inner=null)}return y(z).from(Xe),w[C]=z,w},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var ht=Oe.reduce(function(w,C){return w[C+"Error"]=Ae[C],w},{}),Ye=ei.reduce(function(w,C){return["Syntax","Type","Range"].indexOf(C)===-1&&(w[C+"Error"]=Ae[C]),w},{});function Je(){}function ct(w){return w}function B(w,C){return w==null||w===ct?C:function(D){return C(w(D))}}function Ee(w,C){return function(){w.apply(this,arguments),C.apply(this,arguments)}}function be(w,C){return w===Je?C:function(){var D=w.apply(this,arguments);D!==void 0&&(arguments[0]=D);var z=this.onsuccess,F=this.onerror;this.onsuccess=null,this.onerror=null;var K=C.apply(this,arguments);return z&&(this.onsuccess=this.onsuccess?Ee(z,this.onsuccess):z),F&&(this.onerror=this.onerror?Ee(F,this.onerror):F),K!==void 0?K:D}}function ee(w,C){return w===Je?C:function(){w.apply(this,arguments);var D=this.onsuccess,z=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?Ee(D,this.onsuccess):D),z&&(this.onerror=this.onerror?Ee(z,this.onerror):z)}}function G(w,C){return w===Je?C:function(D){var z=w.apply(this,arguments);u(D,z);var F=this.onsuccess,K=this.onerror;return this.onsuccess=null,this.onerror=null,D=C.apply(this,arguments),F&&(this.onsuccess=this.onsuccess?Ee(F,this.onsuccess):F),K&&(this.onerror=this.onerror?Ee(K,this.onerror):K),z===void 0?D===void 0?void 0:D:u(z,D)}}function ae(w,C){return w===Je?C:function(){return C.apply(this,arguments)!==!1&&w.apply(this,arguments)}}function Ne(w,C){return w===Je?C:function(){var D=w.apply(this,arguments);if(D&&typeof D.then=="function"){for(var z=this,F=arguments.length,K=new Array(F);F--;)K[F]=arguments[F];return D.then(function(){return C.apply(z,K)})}return C.apply(this,arguments)}}Ye.ModifyError=me,Ye.DexieError=se,Ye.BulkError=je;var Me=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pe(w){Me=w}var Ue={},ge=100,Ge=typeof Promise>"u"?[]:(function(){var w=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[w,f(w),w];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,f(C),w]})(),Oe=Ge[0],ei=Ge[1],Ge=Ge[2],ei=ei&&ei.then,tt=Oe&&Oe.constructor,vt=!!Ge,zt=function(w,C){jn.push([w,C]),Qt&&(queueMicrotask(Xp),Qt=!1)},ln=!0,Qt=!0,Ct=[],St=[],$t=ct,Ut={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Je,pgp:!1,env:{},finalize:Je},nt=Ut,jn=[],Vt=0,Vn=[];function Qe(w){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=nt;if(typeof w!="function"){if(w!==Ue)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Xr(this,this._value))}this._state=null,this._value=null,++C.ref,(function D(z,F){try{F(function(K){if(z._state===null){if(K===z)throw new TypeError("A promise cannot be resolved with itself.");var re=z._lib&&Go();K&&typeof K.then=="function"?D(z,function(ie,fe){K instanceof Qe?K._then(ie,fe):K.then(ie,fe)}):(z._state=!0,z._value=K,ec(z)),re&&eo()}},Xr.bind(null,z))}catch(K){Xr(z,K)}})(this,w)}var Tr={get:function(){var w=nt,C=rc;function D(z,F){var K=this,re=!w.global&&(w!==nt||C!==rc),ie=re&&!di(),fe=new Qe(function(ve,we){Is(K,new zn(du(z,w,re,ie),du(F,w,re,ie),ve,we,w))});return this._consoleTask&&(fe._consoleTask=this._consoleTask),fe}return D.prototype=Ue,D},set:function(w){b(this,"then",w&&w.prototype===Ue?Tr:{get:function(){return w},set:Tr.set})}};function zn(w,C,D,z,F){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof C=="function"?C:null,this.resolve=D,this.reject=z,this.psd=F}function Xr(w,C){var D,z;St.push(C),w._state===null&&(D=w._lib&&Go(),C=$t(C),w._state=!1,w._value=C,z=w,Ct.some(function(F){return F._value===z._value})||Ct.push(z),ec(w),D&&eo())}function ec(w){var C=w._listeners;w._listeners=[];for(var D=0,z=C.length;D<z;++D)Is(w,C[D]);var F=w._PSD;--F.ref||F.finalize(),Vt===0&&(++Vt,zt(function(){--Vt==0&&md()},[]))}function Is(w,C){if(w._state!==null){var D=w._state?C.onFulfilled:C.onRejected;if(D===null)return(w._state?C.resolve:C.reject)(w._value);++C.psd.ref,++Vt,zt(w0,[D,w,C])}else w._listeners.push(C)}function w0(w,C,D){try{var z,F=C._value;!C._state&&St.length&&(St=[]),z=Me&&C._consoleTask?C._consoleTask.run(function(){return w(F)}):w(F),C._state||St.indexOf(F)!==-1||(function(K){for(var re=Ct.length;re;)if(Ct[--re]._value===K._value)return Ct.splice(re,1)})(C),D.resolve(z)}catch(K){D.reject(K)}finally{--Vt==0&&md(),--D.psd.ref||D.psd.finalize()}}function Xp(){ji(Ut,function(){Go()&&eo()})}function Go(){var w=ln;return Qt=ln=!1,w}function eo(){var w,C,D;do for(;0<jn.length;)for(w=jn,jn=[],D=w.length,C=0;C<D;++C){var z=w[C];z[0].apply(null,z[1])}while(0<jn.length);Qt=ln=!0}function md(){var w=Ct;Ct=[],w.forEach(function(z){z._PSD.onunhandled.call(null,z._value,z)});for(var C=Vn.slice(0),D=C.length;D;)C[--D]()}function tc(w){return new Qe(Ue,!1,w)}function _n(w,C){var D=nt;return function(){var z=Go(),F=nt;try{return Jo(D,!0),w.apply(this,arguments)}catch(K){C&&C(K)}finally{Jo(F,!1),z&&eo()}}}g(Qe.prototype,{then:Tr,_then:function(w,C){Is(this,new zn(null,null,w,C,nt))},catch:function(w){if(arguments.length===1)return this.then(null,w);var C=w,D=arguments[1];return typeof C=="function"?this.then(null,function(z){return(z instanceof C?D:tc)(z)}):this.then(null,function(z){return(z&&z.name===C?D:tc)(z)})},finally:function(w){return this.then(function(C){return Qe.resolve(w()).then(function(){return C})},function(C){return Qe.resolve(w()).then(function(){return tc(C)})})},timeout:function(w,C){var D=this;return w<1/0?new Qe(function(z,F){var K=setTimeout(function(){return F(new Ae.Timeout(C))},w);D.then(z,F).finally(clearTimeout.bind(null,K))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(Qe.prototype,Symbol.toStringTag,"Dexie.Promise"),Ut.env=vd(),g(Qe,{all:function(){var w=ue.apply(null,arguments).map(Pa);return new Qe(function(C,D){w.length===0&&C([]);var z=w.length;w.forEach(function(F,K){return Qe.resolve(F).then(function(re){w[K]=re,--z||C(w)},D)})})},resolve:function(w){return w instanceof Qe?w:w&&typeof w.then=="function"?new Qe(function(C,D){w.then(C,D)}):new Qe(Ue,!0,w)},reject:tc,race:function(){var w=ue.apply(null,arguments).map(Pa);return new Qe(function(C,D){w.map(function(z){return Qe.resolve(z).then(C,D)})})},PSD:{get:function(){return nt},set:function(w){return nt=w}},totalEchoes:{get:function(){return rc}},newPSD:Tn,usePSD:ji,scheduler:{get:function(){return zt},set:function(w){zt=w}},rejectionMapper:{get:function(){return $t},set:function(w){$t=w}},follow:function(w,C){return new Qe(function(D,z){return Tn(function(F,K){var re=nt;re.unhandleds=[],re.onunhandled=K,re.finalize=Ee(function(){var ie,fe=this;ie=function(){fe.unhandleds.length===0?F():K(fe.unhandleds[0])},Vn.push(function ve(){ie(),Vn.splice(Vn.indexOf(ve),1)}),++Vt,zt(function(){--Vt==0&&md()},[])},re.finalize),w()},C,D,z)})}}),tt&&(tt.allSettled&&b(Qe,"allSettled",function(){var w=ue.apply(null,arguments).map(Pa);return new Qe(function(C){w.length===0&&C([]);var D=w.length,z=new Array(D);w.forEach(function(F,K){return Qe.resolve(F).then(function(re){return z[K]={status:"fulfilled",value:re}},function(re){return z[K]={status:"rejected",reason:re}}).then(function(){return--D||C(z)})})})}),tt.any&&typeof AggregateError<"u"&&b(Qe,"any",function(){var w=ue.apply(null,arguments).map(Pa);return new Qe(function(C,D){w.length===0&&D(new AggregateError([]));var z=w.length,F=new Array(z);w.forEach(function(K,re){return Qe.resolve(K).then(function(ie){return C(ie)},function(ie){F[re]=ie,--z||D(new AggregateError(F))})})})}),tt.withResolvers&&(Qe.withResolvers=tt.withResolvers));var lr={awaits:0,echoes:0,id:0},gd=0,za=[],nc=0,rc=0,Qo=0;function Tn(w,C,D,z){var F=nt,K=Object.create(F);return K.parent=F,K.ref=0,K.global=!1,K.id=++Qo,Ut.env,K.env=vt?{Promise:Qe,PromiseProp:{value:Qe,configurable:!0,writable:!0},all:Qe.all,race:Qe.race,allSettled:Qe.allSettled,any:Qe.any,resolve:Qe.resolve,reject:Qe.reject}:{},C&&u(K,C),++F.ref,K.finalize=function(){--this.parent.ref||this.parent.finalize()},z=ji(K,w,D,z),K.ref===0&&K.finalize(),z}function cr(){return lr.id||(lr.id=++gd),++lr.awaits,lr.echoes+=ge,lr.id}function di(){return!!lr.awaits&&(--lr.awaits==0&&(lr.id=0),lr.echoes=lr.awaits*ge,!0)}function Pa(w){return lr.echoes&&w&&w.constructor===tt?(cr(),w.then(function(C){return di(),C},function(C){return di(),gn(C)})):w}function x0(){var w=za[za.length-1];za.pop(),Jo(w,!1)}function Jo(w,C){var D,z=nt;(C?!lr.echoes||nc++&&w===nt:!nc||--nc&&w===nt)||queueMicrotask(C?(function(F){++rc,lr.echoes&&--lr.echoes!=0||(lr.echoes=lr.awaits=lr.id=0),za.push(nt),Jo(F,!0)}).bind(null,w):x0),w!==nt&&(nt=w,z===Ut&&(Ut.env=vd()),vt&&(D=Ut.env.Promise,C=w.env,(z.global||w.global)&&(Object.defineProperty(o,"Promise",C.PromiseProp),D.all=C.all,D.race=C.race,D.resolve=C.resolve,D.reject=C.reject,C.allSettled&&(D.allSettled=C.allSettled),C.any&&(D.any=C.any))))}function vd(){var w=o.Promise;return vt?{Promise:w,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:w.all,race:w.race,allSettled:w.allSettled,any:w.any,resolve:w.resolve,reject:w.reject}:{}}function ji(w,C,D,z,F){var K=nt;try{return Jo(w,!0),C(D,z,F)}finally{Jo(K,!1)}}function du(w,C,D,z){return typeof w!="function"?w:function(){var F=nt;D&&cr(),Jo(C,!0);try{return w.apply(this,arguments)}finally{Jo(F,!1),z&&queueMicrotask(di)}}}function es(w){Promise===tt&&lr.echoes===0?nc===0?w():enqueueNativeMicroTask(w):setTimeout(w,0)}(""+ei).indexOf("[native code]")===-1&&(cr=di=Je);var gn=Qe.reject,zi="",Gr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ur="String expected.",$s=[],ic="__dbnames",Ao="readonly",ts="readwrite";function Fs(w,C){return w?C?function(){return w.apply(this,arguments)&&C.apply(this,arguments)}:w:C}var yd={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function oc(w){return typeof w!="string"||/\./.test(w)?function(C){return C}:function(C){return C[w]===void 0&&w in C&&delete(C=Y(C))[w],C}}function Gp(){throw Ae.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ht(w,C){try{var D=sc(w),z=sc(C);if(D!==z)return D==="Array"?1:z==="Array"?-1:D==="binary"?1:z==="binary"?-1:D==="string"?1:z==="string"?-1:D==="Date"?1:z!=="Date"?NaN:-1;switch(D){case"number":case"Date":case"string":return C<w?1:w<C?-1:0;case"binary":return(function(F,K){for(var re=F.length,ie=K.length,fe=re<ie?re:ie,ve=0;ve<fe;++ve)if(F[ve]!==K[ve])return F[ve]<K[ve]?-1:1;return re===ie?0:re<ie?-1:1})(to(w),to(C));case"Array":return(function(F,K){for(var re=F.length,ie=K.length,fe=re<ie?re:ie,ve=0;ve<fe;++ve){var we=Ht(F[ve],K[ve]);if(we!==0)return we}return re===ie?0:re<ie?-1:1})(w,C)}}catch{}return NaN}function sc(w){var C=typeof w;return C!="object"?C:ArrayBuffer.isView(w)?"binary":(w=J(w),w==="ArrayBuffer"?"binary":w)}function to(w){return w instanceof Uint8Array?w:ArrayBuffer.isView(w)?new Uint8Array(w.buffer,w.byteOffset,w.byteLength):new Uint8Array(w)}function Br(w,C,D){var z=w.schema.yProps;return z?(C&&0<D.numFailures&&(C=C.filter(function(F,K){return!D.failures[K]})),Promise.all(z.map(function(F){return F=F.updatesTable,C?w.db.table(F).where("k").anyOf(C).delete():w.db.table(F).clear()})).then(function(){return D})):D}var bd=(Cn.prototype._trans=function(w,C,D){var z=this._tx||nt.trans,F=this.name,K=Me&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(w==="readonly"?"read":"write"," ").concat(this.name));function re(ve,we,oe){if(!oe.schema[F])throw new Ae.NotFound("Table "+F+" not part of transaction");return C(oe.idbtrans,oe)}var ie=Go();try{var fe=z&&z.db._novip===this.db._novip?z===nt.trans?z._promise(w,re,D):Tn(function(){return z._promise(w,re,D)},{trans:z,transless:nt.transless||nt}):(function ve(we,oe,Ce,de){if(we.idbdb&&(we._state.openComplete||nt.letThrough||we._vip)){var ye=we._createTransaction(oe,Ce,we._dbSchema);try{ye.create(),we._state.PR1398_maxLoop=3}catch(Se){return Se.name===We.InvalidState&&we.isOpen()&&0<--we._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),we.close({disableAutoOpen:!1}),we.open().then(function(){return ve(we,oe,Ce,de)})):gn(Se)}return ye._promise(oe,function(Se,xe){return Tn(function(){return nt.trans=ye,de(Se,xe,ye)})}).then(function(Se){if(oe==="readwrite")try{ye.idbtrans.commit()}catch{}return oe==="readonly"?Se:ye._completion.then(function(){return Se})})}if(we._state.openComplete)return gn(new Ae.DatabaseClosed(we._state.dbOpenError));if(!we._state.isBeingOpened){if(!we._state.autoOpen)return gn(new Ae.DatabaseClosed);we.open().catch(Je)}return we._state.dbReadyPromise.then(function(){return ve(we,oe,Ce,de)})})(this.db,w,[this.name],re);return K&&(fe._consoleTask=K,fe=fe.catch(function(ve){return console.trace(ve),gn(ve)})),fe}finally{ie&&eo()}},Cn.prototype.get=function(w,C){var D=this;return w&&w.constructor===Object?this.where(w).first(C):w==null?gn(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(z){return D.core.get({trans:z,key:w}).then(function(F){return D.hook.reading.fire(F)})}).then(C)},Cn.prototype.where=function(w){if(typeof w=="string")return new this.db.WhereClause(this,w);if(l(w))return new this.db.WhereClause(this,"[".concat(w.join("+"),"]"));var C=s(w);if(C.length===1)return this.where(C[0]).equals(w[C[0]]);var D=this.schema.indexes.concat(this.schema.primKey).filter(function(ie){if(ie.compound&&C.every(function(ve){return 0<=ie.keyPath.indexOf(ve)})){for(var fe=0;fe<C.length;++fe)if(C.indexOf(ie.keyPath[fe])===-1)return!1;return!0}return!1}).sort(function(ie,fe){return ie.keyPath.length-fe.keyPath.length})[0];if(D&&this.db._maxKey!==zi){var K=D.keyPath.slice(0,C.length);return this.where(K).equals(K.map(function(fe){return w[fe]}))}!D&&Me&&console.warn("The query ".concat(JSON.stringify(w)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var z=this.schema.idxByName;function F(ie,fe){return Ht(ie,fe)===0}var re=C.reduce(function(oe,fe){var ve=oe[0],we=oe[1],oe=z[fe],Ce=w[fe];return[ve||oe,ve||!oe?Fs(we,oe&&oe.multi?function(de){return de=N(de,fe),l(de)&&de.some(function(ye){return F(Ce,ye)})}:function(de){return F(Ce,N(de,fe))}):we]},[null,null]),K=re[0],re=re[1];return K?this.where(K.name).equals(w[K.keyPath]).filter(re):D?this.filter(re):this.where(C).equals("")},Cn.prototype.filter=function(w){return this.toCollection().and(w)},Cn.prototype.count=function(w){return this.toCollection().count(w)},Cn.prototype.offset=function(w){return this.toCollection().offset(w)},Cn.prototype.limit=function(w){return this.toCollection().limit(w)},Cn.prototype.each=function(w){return this.toCollection().each(w)},Cn.prototype.toArray=function(w){return this.toCollection().toArray(w)},Cn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Cn.prototype.orderBy=function(w){return new this.db.Collection(new this.db.WhereClause(this,l(w)?"[".concat(w.join("+"),"]"):w))},Cn.prototype.reverse=function(){return this.toCollection().reverse()},Cn.prototype.mapToClass=function(w){var C,D=this.db,z=this.name;function F(){return C!==null&&C.apply(this,arguments)||this}(this.schema.mappedClass=w).prototype instanceof Gp&&((function(fe,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Class extends value "+String(ve)+" is not a constructor or null");function we(){this.constructor=fe}n(fe,ve),fe.prototype=ve===null?Object.create(ve):(we.prototype=ve.prototype,new we)})(F,C=w),Object.defineProperty(F.prototype,"db",{get:function(){return D},enumerable:!1,configurable:!0}),F.prototype.table=function(){return z},w=F);for(var K=new Set,re=w.prototype;re;re=f(re))Object.getOwnPropertyNames(re).forEach(function(fe){return K.add(fe)});function ie(fe){if(!fe)return fe;var ve,we=Object.create(w.prototype);for(ve in fe)if(!K.has(ve))try{we[ve]=fe[ve]}catch{}return we}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ie,this.hook("reading",ie),w},Cn.prototype.defineClass=function(){return this.mapToClass(function(w){u(this,w)})},Cn.prototype.add=function(w,C){var D=this,z=this.schema.primKey,F=z.auto,K=z.keyPath,re=w;return K&&F&&(re=oc(K)(w)),this._trans("readwrite",function(ie){return D.core.mutate({trans:ie,type:"add",keys:C!=null?[C]:null,values:[re]})}).then(function(ie){return ie.numFailures?Qe.reject(ie.failures[0]):ie.lastResult}).then(function(ie){if(K)try{j(w,K,ie)}catch{}return ie})},Cn.prototype.update=function(w,C){return typeof w!="object"||l(w)?this.where(":id").equals(w).modify(C):(w=N(w,this.schema.primKey.keyPath),w===void 0?gn(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(w).modify(C))},Cn.prototype.put=function(w,C){var D=this,z=this.schema.primKey,F=z.auto,K=z.keyPath,re=w;return K&&F&&(re=oc(K)(w)),this._trans("readwrite",function(ie){return D.core.mutate({trans:ie,type:"put",values:[re],keys:C!=null?[C]:null})}).then(function(ie){return ie.numFailures?Qe.reject(ie.failures[0]):ie.lastResult}).then(function(ie){if(K)try{j(w,K,ie)}catch{}return ie})},Cn.prototype.delete=function(w){var C=this;return this._trans("readwrite",function(D){return C.core.mutate({trans:D,type:"delete",keys:[w]}).then(function(z){return Br(C,[w],z)}).then(function(z){return z.numFailures?Qe.reject(z.failures[0]):void 0})})},Cn.prototype.clear=function(){var w=this;return this._trans("readwrite",function(C){return w.core.mutate({trans:C,type:"deleteRange",range:yd}).then(function(D){return Br(w,null,D)})}).then(function(C){return C.numFailures?Qe.reject(C.failures[0]):void 0})},Cn.prototype.bulkGet=function(w){var C=this;return this._trans("readonly",function(D){return C.core.getMany({keys:w,trans:D}).then(function(z){return z.map(function(F){return C.hook.reading.fire(F)})})})},Cn.prototype.bulkAdd=function(w,C,D){var z=this,F=Array.isArray(C)?C:void 0,K=(D=D||(F?void 0:C))?D.allKeys:void 0;return this._trans("readwrite",function(re){var ve=z.schema.primKey,ie=ve.auto,ve=ve.keyPath;if(ve&&F)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(F&&F.length!==w.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var fe=w.length,ve=ve&&ie?w.map(oc(ve)):w;return z.core.mutate({trans:re,type:"add",keys:F,values:ve,wantResults:K}).then(function(ye){var oe=ye.numFailures,Ce=ye.results,de=ye.lastResult,ye=ye.failures;if(oe===0)return K?Ce:de;throw new je("".concat(z.name,".bulkAdd(): ").concat(oe," of ").concat(fe," operations failed"),ye)})})},Cn.prototype.bulkPut=function(w,C,D){var z=this,F=Array.isArray(C)?C:void 0,K=(D=D||(F?void 0:C))?D.allKeys:void 0;return this._trans("readwrite",function(re){var ve=z.schema.primKey,ie=ve.auto,ve=ve.keyPath;if(ve&&F)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(F&&F.length!==w.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var fe=w.length,ve=ve&&ie?w.map(oc(ve)):w;return z.core.mutate({trans:re,type:"put",keys:F,values:ve,wantResults:K}).then(function(ye){var oe=ye.numFailures,Ce=ye.results,de=ye.lastResult,ye=ye.failures;if(oe===0)return K?Ce:de;throw new je("".concat(z.name,".bulkPut(): ").concat(oe," of ").concat(fe," operations failed"),ye)})})},Cn.prototype.bulkUpdate=function(w){var C=this,D=this.core,z=w.map(function(re){return re.key}),F=w.map(function(re){return re.changes}),K=[];return this._trans("readwrite",function(re){return D.getMany({trans:re,keys:z,cache:"clone"}).then(function(ie){var fe=[],ve=[];w.forEach(function(oe,Ce){var de=oe.key,ye=oe.changes,Se=ie[Ce];if(Se){for(var xe=0,ke=Object.keys(ye);xe<ke.length;xe++){var Pe=ke[xe],Be=ye[Pe];if(Pe===C.schema.primKey.keyPath){if(Ht(Be,de)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else j(Se,Pe,Be)}K.push(Ce),fe.push(de),ve.push(Se)}});var we=fe.length;return D.mutate({trans:re,type:"put",keys:fe,values:ve,updates:{keys:z,changeSpecs:F}}).then(function(oe){var Ce=oe.numFailures,de=oe.failures;if(Ce===0)return we;for(var ye=0,Se=Object.keys(de);ye<Se.length;ye++){var xe,ke=Se[ye],Pe=K[Number(ke)];Pe!=null&&(xe=de[ke],delete de[ke],de[Pe]=xe)}throw new je("".concat(C.name,".bulkUpdate(): ").concat(Ce," of ").concat(we," operations failed"),de)})})})},Cn.prototype.bulkDelete=function(w){var C=this,D=w.length;return this._trans("readwrite",function(z){return C.core.mutate({trans:z,type:"delete",keys:w}).then(function(F){return Br(C,w,F)})}).then(function(re){var F=re.numFailures,K=re.lastResult,re=re.failures;if(F===0)return K;throw new je("".concat(C.name,".bulkDelete(): ").concat(F," of ").concat(D," operations failed"),re)})},Cn);function Cn(){}function Us(w){function C(re,ie){if(ie){for(var fe=arguments.length,ve=new Array(fe-1);--fe;)ve[fe-1]=arguments[fe];return D[re].subscribe.apply(null,ve),w}if(typeof re=="string")return D[re]}var D={};C.addEventType=K;for(var z=1,F=arguments.length;z<F;++z)K(arguments[z]);return C;function K(re,ie,fe){if(typeof re!="object"){var ve;ie=ie||ae;var we={subscribers:[],fire:fe=fe||Je,subscribe:function(oe){we.subscribers.indexOf(oe)===-1&&(we.subscribers.push(oe),we.fire=ie(we.fire,oe))},unsubscribe:function(oe){we.subscribers=we.subscribers.filter(function(Ce){return Ce!==oe}),we.fire=we.subscribers.reduce(ie,fe)}};return D[re]=C[re]=we}s(ve=re).forEach(function(oe){var Ce=ve[oe];if(l(Ce))K(oe,ve[oe][0],ve[oe][1]);else{if(Ce!=="asap")throw new Ae.InvalidArgument("Invalid event config");var de=K(oe,ct,function(){for(var ye=arguments.length,Se=new Array(ye);ye--;)Se[ye]=arguments[ye];de.subscribers.forEach(function(xe){R(function(){xe.apply(null,Se)})})})}})}}function La(w,C){return y(C).from({prototype:w}),C}function Oo(w,C){return!(w.filter||w.algorithm||w.or)&&(C?w.justLimit:!w.replayFilter)}function wd(w,C){w.filter=Fs(w.filter,C)}function Qr(w,C,D){var z=w.replayFilter;w.replayFilter=z?function(){return Fs(z(),C())}:C,w.justLimit=D&&!z}function Ba(w,C){if(w.isPrimKey)return C.primaryKey;var D=C.getIndexByKeyPath(w.index);if(!D)throw new Ae.Schema("KeyPath "+w.index+" on object store "+C.name+" is not indexed");return D}function xd(w,C,D){var z=Ba(w,C.schema);return C.openCursor({trans:D,values:!w.keysOnly,reverse:w.dir==="prev",unique:!!w.unique,query:{index:z,range:w.range}})}function Ia(w,C,D,z){var F=w.replayFilter?Fs(w.filter,w.replayFilter()):w.filter;if(w.or){var K={},re=function(ie,fe,ve){var we,oe;F&&!F(fe,ve,function(Ce){return fe.stop(Ce)},function(Ce){return fe.fail(Ce)})||((oe=""+(we=fe.primaryKey))=="[object ArrayBuffer]"&&(oe=""+new Uint8Array(we)),p(K,oe)||(K[oe]=!0,C(ie,fe,ve)))};return Promise.all([w.or._iterate(re,D),Hs(xd(w,z,D),w.algorithm,re,!w.keysOnly&&w.valueMapper)])}return Hs(xd(w,z,D),Fs(w.algorithm,F),C,!w.keysOnly&&w.valueMapper)}function Hs(w,C,D,z){var F=_n(z?function(K,re,ie){return D(z(K),re,ie)}:D);return w.then(function(K){if(K)return K.start(function(){var re=function(){return K.continue()};C&&!C(K,function(ie){return re=ie},function(ie){K.stop(ie),re=Je},function(ie){K.fail(ie),re=Je})||F(K.value,K,function(ie){return re=ie}),re()})})}var $a=(Sd.prototype.execute=function(w){var C=this["@@propmod"];if(C.add!==void 0){var D=C.add;if(l(D))return i(i([],l(w)?w:[],!0),D).sort();if(typeof D=="number")return(Number(w)||0)+D;if(typeof D=="bigint")try{return BigInt(w)+D}catch{return BigInt(0)+D}throw new TypeError("Invalid term ".concat(D))}if(C.remove!==void 0){var z=C.remove;if(l(z))return l(w)?w.filter(function(F){return!z.includes(F)}).sort():[];if(typeof z=="number")return Number(w)-z;if(typeof z=="bigint")try{return BigInt(w)-z}catch{return BigInt(0)-z}throw new TypeError("Invalid subtrahend ".concat(z))}return D=(D=C.replacePrefix)===null||D===void 0?void 0:D[0],D&&typeof w=="string"&&w.startsWith(D)?C.replacePrefix[1]+w.substring(D.length):w},Sd);function Sd(w){this["@@propmod"]=w}var Fa=(tn.prototype._read=function(w,C){var D=this._ctx;return D.error?D.table._trans(null,gn.bind(null,D.error)):D.table._trans("readonly",w).then(C)},tn.prototype._write=function(w){var C=this._ctx;return C.error?C.table._trans(null,gn.bind(null,C.error)):C.table._trans("readwrite",w,"locked")},tn.prototype._addAlgorithm=function(w){var C=this._ctx;C.algorithm=Fs(C.algorithm,w)},tn.prototype._iterate=function(w,C){return Ia(this._ctx,w,C,this._ctx.table.core)},tn.prototype.clone=function(w){var C=Object.create(this.constructor.prototype),D=Object.create(this._ctx);return w&&u(D,w),C._ctx=D,C},tn.prototype.raw=function(){return this._ctx.valueMapper=null,this},tn.prototype.each=function(w){var C=this._ctx;return this._read(function(D){return Ia(C,w,D,C.table.core)})},tn.prototype.count=function(w){var C=this;return this._read(function(D){var z=C._ctx,F=z.table.core;if(Oo(z,!0))return F.count({trans:D,query:{index:Ba(z,F.schema),range:z.range}}).then(function(re){return Math.min(re,z.limit)});var K=0;return Ia(z,function(){return++K,!1},D,F).then(function(){return K})}).then(w)},tn.prototype.sortBy=function(w,C){var D=w.split(".").reverse(),z=D[0],F=D.length-1;function K(fe,ve){return ve?K(fe[D[ve]],ve-1):fe[z]}var re=this._ctx.dir==="next"?1:-1;function ie(fe,ve){return Ht(K(fe,F),K(ve,F))*re}return this.toArray(function(fe){return fe.sort(ie)}).then(C)},tn.prototype.toArray=function(w){var C=this;return this._read(function(D){var z=C._ctx;if(z.dir==="next"&&Oo(z,!0)&&0<z.limit){var F=z.valueMapper,K=Ba(z,z.table.core.schema);return z.table.core.query({trans:D,limit:z.limit,values:!0,query:{index:K,range:z.range}}).then(function(ie){return ie=ie.result,F?ie.map(F):ie})}var re=[];return Ia(z,function(ie){return re.push(ie)},D,z.table.core).then(function(){return re})},w)},tn.prototype.offset=function(w){var C=this._ctx;return w<=0||(C.offset+=w,Oo(C)?Qr(C,function(){var D=w;return function(z,F){return D===0||(D===1?--D:F(function(){z.advance(D),D=0}),!1)}}):Qr(C,function(){var D=w;return function(){return--D<0}})),this},tn.prototype.limit=function(w){return this._ctx.limit=Math.min(this._ctx.limit,w),Qr(this._ctx,function(){var C=w;return function(D,z,F){return--C<=0&&z(F),0<=C}},!0),this},tn.prototype.until=function(w,C){return wd(this._ctx,function(D,z,F){return!w(D.value)||(z(F),C)}),this},tn.prototype.first=function(w){return this.limit(1).toArray(function(C){return C[0]}).then(w)},tn.prototype.last=function(w){return this.reverse().first(w)},tn.prototype.filter=function(w){var C;return wd(this._ctx,function(D){return w(D.value)}),(C=this._ctx).isMatch=Fs(C.isMatch,w),this},tn.prototype.and=function(w){return this.filter(w)},tn.prototype.or=function(w){return new this.db.WhereClause(this._ctx.table,w,this)},tn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tn.prototype.desc=function(){return this.reverse()},tn.prototype.eachKey=function(w){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(D,z){w(z.key,z)})},tn.prototype.eachUniqueKey=function(w){return this._ctx.unique="unique",this.eachKey(w)},tn.prototype.eachPrimaryKey=function(w){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(D,z){w(z.primaryKey,z)})},tn.prototype.keys=function(w){var C=this._ctx;C.keysOnly=!C.isMatch;var D=[];return this.each(function(z,F){D.push(F.key)}).then(function(){return D}).then(w)},tn.prototype.primaryKeys=function(w){var C=this._ctx;if(C.dir==="next"&&Oo(C,!0)&&0<C.limit)return this._read(function(z){var F=Ba(C,C.table.core.schema);return C.table.core.query({trans:z,values:!1,limit:C.limit,query:{index:F,range:C.range}})}).then(function(z){return z.result}).then(w);C.keysOnly=!C.isMatch;var D=[];return this.each(function(z,F){D.push(F.primaryKey)}).then(function(){return D}).then(w)},tn.prototype.uniqueKeys=function(w){return this._ctx.unique="unique",this.keys(w)},tn.prototype.firstKey=function(w){return this.limit(1).keys(function(C){return C[0]}).then(w)},tn.prototype.lastKey=function(w){return this.reverse().firstKey(w)},tn.prototype.distinct=function(){var w=this._ctx,w=w.index&&w.table.schema.idxByName[w.index];if(!w||!w.multi)return this;var C={};return wd(this._ctx,function(F){var z=F.primaryKey.toString(),F=p(C,z);return C[z]=!0,!F}),this},tn.prototype.modify=function(w){var C=this,D=this._ctx;return this._write(function(z){var F,K,re;re=typeof w=="function"?w:(F=s(w),K=F.length,function(ke){for(var Pe=!1,Be=0;Be<K;++Be){var Ie=F[Be],it=w[Ie],at=N(ke,Ie);it instanceof $a?(j(ke,Ie,it.execute(at)),Pe=!0):at!==it&&(j(ke,Ie,it),Pe=!0)}return Pe});var ie=D.table.core,oe=ie.schema.primaryKey,fe=oe.outbound,ve=oe.extractKey,we=200,oe=C.db._options.modifyChunkSize;oe&&(we=typeof oe=="object"?oe[ie.name]||oe["*"]||200:oe);function Ce(ke,Ie){var Be=Ie.failures,Ie=Ie.numFailures;ye+=ke-Ie;for(var it=0,at=s(Be);it<at.length;it++){var ot=at[it];de.push(Be[ot])}}var de=[],ye=0,Se=[],xe=w===_d;return C.clone().primaryKeys().then(function(ke){function Pe(Ie){var it=Math.min(we,ke.length-Ie),at=ke.slice(Ie,Ie+it);return(xe?Promise.resolve([]):ie.getMany({trans:z,keys:at,cache:"immutable"})).then(function(ot){var st=[],pt=[],dt=fe?[]:null,lt=xe?at:[];if(!xe)for(var Rt=0;Rt<it;++Rt){var Mt=ot[Rt],Et={value:Y(Mt),primKey:ke[Ie+Rt]};re.call(Et,Et.value,Et)!==!1&&(Et.value==null?lt.push(ke[Ie+Rt]):fe||Ht(ve(Mt),ve(Et.value))===0?(pt.push(Et.value),fe&&dt.push(ke[Ie+Rt])):(lt.push(ke[Ie+Rt]),st.push(Et.value)))}return Promise.resolve(0<st.length&&ie.mutate({trans:z,type:"add",values:st}).then(function(Dn){for(var Ot in Dn.failures)lt.splice(parseInt(Ot),1);Ce(st.length,Dn)})).then(function(){return(0<pt.length||Be&&typeof w=="object")&&ie.mutate({trans:z,type:"put",keys:dt,values:pt,criteria:Be,changeSpec:typeof w!="function"&&w,isAdditionalChunk:0<Ie}).then(function(Dn){return Ce(pt.length,Dn)})}).then(function(){return(0<lt.length||Be&&xe)&&ie.mutate({trans:z,type:"delete",keys:lt,criteria:Be,isAdditionalChunk:0<Ie}).then(function(Dn){return Br(D.table,lt,Dn)}).then(function(Dn){return Ce(lt.length,Dn)})}).then(function(){return ke.length>Ie+it&&Pe(Ie+we)})})}var Be=Oo(D)&&D.limit===1/0&&(typeof w!="function"||xe)&&{index:D.index,range:D.range};return Pe(0).then(function(){if(0<de.length)throw new me("Error modifying one or more objects",de,ye,Se);return ke.length})})})},tn.prototype.delete=function(){var w=this._ctx,C=w.range;return!Oo(w)||w.table.schema.yProps||!w.isPrimKey&&C.type!==3?this.modify(_d):this._write(function(D){var z=w.table.core.schema.primaryKey,F=C;return w.table.core.count({trans:D,query:{index:z,range:F}}).then(function(K){return w.table.core.mutate({trans:D,type:"deleteRange",range:F}).then(function(fe){var ie=fe.failures,fe=fe.numFailures;if(fe)throw new me("Could not delete some values",Object.keys(ie).map(function(ve){return ie[ve]}),K-fe);return K-fe})})})},tn);function tn(){}var _d=function(w,C){return C.value=null};function Qp(w,C){return w<C?-1:w===C?0:1}function Cd(w,C){return C<w?-1:w===C?0:1}function hi(w,C,D){return w=w instanceof pu?new w.Collection(w):w,w._ctx.error=new(D||TypeError)(C),w}function Ua(w){return new w.Collection(w,function(){return hu("")}).limit(0)}function qs(w,C,D,z){var F,K,re,ie,fe,ve,we,oe=D.length;if(!D.every(function(ye){return typeof ye=="string"}))return hi(w,ur);function Ce(ye){F=ye==="next"?function(xe){return xe.toUpperCase()}:function(xe){return xe.toLowerCase()},K=ye==="next"?function(xe){return xe.toLowerCase()}:function(xe){return xe.toUpperCase()},re=ye==="next"?Qp:Cd;var Se=D.map(function(xe){return{lower:K(xe),upper:F(xe)}}).sort(function(xe,ke){return re(xe.lower,ke.lower)});ie=Se.map(function(xe){return xe.upper}),fe=Se.map(function(xe){return xe.lower}),we=(ve=ye)==="next"?"":z}Ce("next"),w=new w.Collection(w,function(){return Dr(ie[0],fe[oe-1]+z)}),w._ondirectionchange=function(ye){Ce(ye)};var de=0;return w._addAlgorithm(function(ye,Se,xe){var ke=ye.key;if(typeof ke!="string")return!1;var Pe=K(ke);if(C(Pe,fe,de))return!0;for(var Be=null,Ie=de;Ie<oe;++Ie){var it=(function(at,ot,st,pt,dt,lt){for(var Rt=Math.min(at.length,pt.length),Mt=-1,Et=0;Et<Rt;++Et){var Dn=ot[Et];if(Dn!==pt[Et])return dt(at[Et],st[Et])<0?at.substr(0,Et)+st[Et]+st.substr(Et+1):dt(at[Et],pt[Et])<0?at.substr(0,Et)+pt[Et]+st.substr(Et+1):0<=Mt?at.substr(0,Mt)+ot[Mt]+st.substr(Mt+1):null;dt(at[Et],Dn)<0&&(Mt=Et)}return Rt<pt.length&&lt==="next"?at+st.substr(at.length):Rt<at.length&&lt==="prev"?at.substr(0,st.length):Mt<0?null:at.substr(0,Mt)+pt[Mt]+st.substr(Mt+1)})(ke,Pe,ie[Ie],fe[Ie],re,ve);it===null&&Be===null?de=Ie+1:(Be===null||0<re(Be,it))&&(Be=it)}return Se(Be!==null?function(){ye.continue(Be+we)}:xe),!1}),w}function Dr(w,C,D,z){return{type:2,lower:w,upper:C,lowerOpen:D,upperOpen:z}}function hu(w){return{type:1,lower:w,upper:w}}var pu=(Object.defineProperty(Pn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pn.prototype.between=function(w,C,D,z){D=D!==!1,z=z===!0;try{return 0<this._cmp(w,C)||this._cmp(w,C)===0&&(D||z)&&(!D||!z)?Ua(this):new this.Collection(this,function(){return Dr(w,C,!D,!z)})}catch{return hi(this,Gr)}},Pn.prototype.equals=function(w){return w==null?hi(this,Gr):new this.Collection(this,function(){return hu(w)})},Pn.prototype.above=function(w){return w==null?hi(this,Gr):new this.Collection(this,function(){return Dr(w,void 0,!0)})},Pn.prototype.aboveOrEqual=function(w){return w==null?hi(this,Gr):new this.Collection(this,function(){return Dr(w,void 0,!1)})},Pn.prototype.below=function(w){return w==null?hi(this,Gr):new this.Collection(this,function(){return Dr(void 0,w,!1,!0)})},Pn.prototype.belowOrEqual=function(w){return w==null?hi(this,Gr):new this.Collection(this,function(){return Dr(void 0,w)})},Pn.prototype.startsWith=function(w){return typeof w!="string"?hi(this,ur):this.between(w,w+zi,!0,!0)},Pn.prototype.startsWithIgnoreCase=function(w){return w===""?this.startsWith(w):qs(this,function(C,D){return C.indexOf(D[0])===0},[w],zi)},Pn.prototype.equalsIgnoreCase=function(w){return qs(this,function(C,D){return C===D[0]},[w],"")},Pn.prototype.anyOfIgnoreCase=function(){var w=ue.apply(ne,arguments);return w.length===0?Ua(this):qs(this,function(C,D){return D.indexOf(C)!==-1},w,"")},Pn.prototype.startsWithAnyOfIgnoreCase=function(){var w=ue.apply(ne,arguments);return w.length===0?Ua(this):qs(this,function(C,D){return D.some(function(z){return C.indexOf(z)===0})},w,zi)},Pn.prototype.anyOf=function(){var w=this,C=ue.apply(ne,arguments),D=this._cmp;try{C.sort(D)}catch{return hi(this,Gr)}if(C.length===0)return Ua(this);var z=new this.Collection(this,function(){return Dr(C[0],C[C.length-1])});z._ondirectionchange=function(K){D=K==="next"?w._ascending:w._descending,C.sort(D)};var F=0;return z._addAlgorithm(function(K,re,ie){for(var fe=K.key;0<D(fe,C[F]);)if(++F===C.length)return re(ie),!1;return D(fe,C[F])===0||(re(function(){K.continue(C[F])}),!1)}),z},Pn.prototype.notEqual=function(w){return this.inAnyRange([[-1/0,w],[w,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pn.prototype.noneOf=function(){var w=ue.apply(ne,arguments);if(w.length===0)return new this.Collection(this);try{w.sort(this._ascending)}catch{return hi(this,Gr)}var C=w.reduce(function(D,z){return D?D.concat([[D[D.length-1][1],z]]):[[-1/0,z]]},null);return C.push([w[w.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},Pn.prototype.inAnyRange=function(ke,C){var D=this,z=this._cmp,F=this._ascending,K=this._descending,re=this._min,ie=this._max;if(ke.length===0)return Ua(this);if(!ke.every(function(Pe){return Pe[0]!==void 0&&Pe[1]!==void 0&&F(Pe[0],Pe[1])<=0}))return hi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var fe=!C||C.includeLowers!==!1,ve=C&&C.includeUppers===!0,we,oe=F;function Ce(Pe,Be){return oe(Pe[0],Be[0])}try{(we=ke.reduce(function(Pe,Be){for(var Ie=0,it=Pe.length;Ie<it;++Ie){var at=Pe[Ie];if(z(Be[0],at[1])<0&&0<z(Be[1],at[0])){at[0]=re(at[0],Be[0]),at[1]=ie(at[1],Be[1]);break}}return Ie===it&&Pe.push(Be),Pe},[])).sort(Ce)}catch{return hi(this,Gr)}var de=0,ye=ve?function(Pe){return 0<F(Pe,we[de][1])}:function(Pe){return 0<=F(Pe,we[de][1])},Se=fe?function(Pe){return 0<K(Pe,we[de][0])}:function(Pe){return 0<=K(Pe,we[de][0])},xe=ye,ke=new this.Collection(this,function(){return Dr(we[0][0],we[we.length-1][1],!fe,!ve)});return ke._ondirectionchange=function(Pe){oe=Pe==="next"?(xe=ye,F):(xe=Se,K),we.sort(Ce)},ke._addAlgorithm(function(Pe,Be,Ie){for(var it,at=Pe.key;xe(at);)if(++de===we.length)return Be(Ie),!1;return!ye(it=at)&&!Se(it)||(D._cmp(at,we[de][1])===0||D._cmp(at,we[de][0])===0||Be(function(){oe===F?Pe.continue(we[de][0]):Pe.continue(we[de][1])}),!1)}),ke},Pn.prototype.startsWithAnyOf=function(){var w=ue.apply(ne,arguments);return w.every(function(C){return typeof C=="string"})?w.length===0?Ua(this):this.inAnyRange(w.map(function(C){return[C,C+zi]})):hi(this,"startsWithAnyOf() only works with strings")},Pn);function Pn(){}function Ir(w){return _n(function(C){return Ha(C),w(C.target.error),!1})}function Ha(w){w.stopPropagation&&w.stopPropagation(),w.preventDefault&&w.preventDefault()}var Ks="storagemutated",mu="x-storagemutated-1",yi=Us(null,Ks),To=(bi.prototype._lock=function(){return T(!nt.global),++this._reculock,this._reculock!==1||nt.global||(nt.lockOwnerFor=this),this},bi.prototype._unlock=function(){if(T(!nt.global),--this._reculock==0)for(nt.global||(nt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var w=this._blockedFuncs.shift();try{ji(w[1],w[0])}catch{}}return this},bi.prototype._locked=function(){return this._reculock&&nt.lockOwnerFor!==this},bi.prototype.create=function(w){var C=this;if(!this.mode)return this;var D=this.db.idbdb,z=this.db._state.dbOpenError;if(T(!this.idbtrans),!w&&!D)switch(z&&z.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(z);case"MissingAPIError":throw new Ae.MissingAPI(z.message,z);default:throw new Ae.OpenFailed(z)}if(!this.active)throw new Ae.TransactionInactive;return T(this._completion._state===null),(w=this.idbtrans=w||(this.db.core||D).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=_n(function(F){Ha(F),C._reject(w.error)}),w.onabort=_n(function(F){Ha(F),C.active&&C._reject(new Ae.Abort(w.error)),C.active=!1,C.on("abort").fire(F)}),w.oncomplete=_n(function(){C.active=!1,C._resolve(),"mutatedParts"in w&&yi.storagemutated.fire(w.mutatedParts)}),this},bi.prototype._promise=function(w,C,D){var z=this;if(w==="readwrite"&&this.mode!=="readwrite")return gn(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return gn(new Ae.TransactionInactive);if(this._locked())return new Qe(function(K,re){z._blockedFuncs.push([function(){z._promise(w,C,D).then(K,re)},nt])});if(D)return Tn(function(){var K=new Qe(function(re,ie){z._lock();var fe=C(re,ie,z);fe&&fe.then&&fe.then(re,ie)});return K.finally(function(){return z._unlock()}),K._lib=!0,K});var F=new Qe(function(K,re){var ie=C(K,re,z);ie&&ie.then&&ie.then(K,re)});return F._lib=!0,F},bi.prototype._root=function(){return this.parent?this.parent._root():this},bi.prototype.waitFor=function(w){var C,D=this._root(),z=Qe.resolve(w);D._waitingFor?D._waitingFor=D._waitingFor.then(function(){return z}):(D._waitingFor=z,D._waitingQueue=[],C=D.idbtrans.objectStore(D.storeNames[0]),(function K(){for(++D._spinCount;D._waitingQueue.length;)D._waitingQueue.shift()();D._waitingFor&&(C.get(-1/0).onsuccess=K)})());var F=D._waitingFor;return new Qe(function(K,re){z.then(function(ie){return D._waitingQueue.push(_n(K.bind(null,ie)))},function(ie){return D._waitingQueue.push(_n(re.bind(null,ie)))}).finally(function(){D._waitingFor===F&&(D._waitingFor=null)})})},bi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},bi.prototype.table=function(w){var C=this._memoizedTables||(this._memoizedTables={});if(p(C,w))return C[w];var D=this.schema[w];if(!D)throw new Ae.NotFound("Table "+w+" not part of transaction");return D=new this.db.Table(w,D,this),D.core=this.db.core.table(w),C[w]=D},bi);function bi(){}function Vs(w,C,D,z,F,K,re,ie){return{name:w,keyPath:C,unique:D,multi:z,auto:F,compound:K,src:(D&&!re?"&":"")+(z?"*":"")+(F?"++":"")+Do(C),type:ie}}function Do(w){return typeof w=="string"?w:w?"["+[].join.call(w,"+")+"]":""}function ac(w,C,D){return{name:w,primKey:C,indexes:D,mappedClass:null,idxByName:(z=function(F){return[F.name,F]},D.reduce(function(F,K,re){return re=z(K,re),re&&(F[re[0]]=re[1]),F},{}))};var z}var ns=function(w){try{return w.only([[]]),ns=function(){return[[]]},[[]]}catch{return ns=function(){return zi},zi}};function gu(w){return w==null?function(){}:typeof w=="string"?(C=w).split(".").length===1?function(D){return D[C]}:function(D){return N(D,C)}:function(D){return N(D,w)};var C}function lc(w){return[].slice.call(w)}var vu=0;function qa(w){return w==null?":id":typeof w=="string"?w:"[".concat(w.join("+"),"]")}function Jr(w,C,fe){function z(xe){if(xe.type===3)return null;if(xe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var de=xe.lower,ye=xe.upper,Se=xe.lowerOpen,xe=xe.upperOpen;return de===void 0?ye===void 0?null:C.upperBound(ye,!!xe):ye===void 0?C.lowerBound(de,!!Se):C.bound(de,ye,!!Se,!!xe)}function F(Ce){var de,ye=Ce.name;return{name:ye,schema:Ce,mutate:function(Se){var xe=Se.trans,ke=Se.type,Pe=Se.keys,Be=Se.values,Ie=Se.range;return new Promise(function(it,at){it=_n(it);var ot=xe.objectStore(ye),st=ot.keyPath==null,pt=ke==="put"||ke==="add";if(!pt&&ke!=="delete"&&ke!=="deleteRange")throw new Error("Invalid operation type: "+ke);var dt,lt=(Pe||Be||{length:1}).length;if(Pe&&Be&&Pe.length!==Be.length)throw new Error("Given keys array must have same length as given values array.");if(lt===0)return it({numFailures:0,failures:{},results:[],lastResult:void 0});function Rt(Mr){++Dn,Ha(Mr)}var Mt=[],Et=[],Dn=0;if(ke==="deleteRange"){if(Ie.type===4)return it({numFailures:Dn,failures:Et,results:[],lastResult:void 0});Ie.type===3?Mt.push(dt=ot.clear()):Mt.push(dt=ot.delete(z(Ie)))}else{var st=pt?st?[Be,Pe]:[Be,null]:[Pe,null],Ot=st[0],fr=st[1];if(pt)for(var yr=0;yr<lt;++yr)Mt.push(dt=fr&&fr[yr]!==void 0?ot[ke](Ot[yr],fr[yr]):ot[ke](Ot[yr])),dt.onerror=Rt;else for(yr=0;yr<lt;++yr)Mt.push(dt=ot[ke](Ot[yr])),dt.onerror=Rt}function ro(Mr){Mr=Mr.target.result,Mt.forEach(function(io,os){return io.error!=null&&(Et[os]=io.error)}),it({numFailures:Dn,failures:Et,results:ke==="delete"?Pe:Mt.map(function(io){return io.result}),lastResult:Mr})}dt.onerror=function(Mr){Rt(Mr),ro(Mr)},dt.onsuccess=ro})},getMany:function(Se){var xe=Se.trans,ke=Se.keys;return new Promise(function(Pe,Be){Pe=_n(Pe);for(var Ie,it=xe.objectStore(ye),at=ke.length,ot=new Array(at),st=0,pt=0,dt=function(Mt){Mt=Mt.target,ot[Mt._pos]=Mt.result,++pt===st&&Pe(ot)},lt=Ir(Be),Rt=0;Rt<at;++Rt)ke[Rt]!=null&&((Ie=it.get(ke[Rt]))._pos=Rt,Ie.onsuccess=dt,Ie.onerror=lt,++st);st===0&&Pe(ot)})},get:function(Se){var xe=Se.trans,ke=Se.key;return new Promise(function(Pe,Be){Pe=_n(Pe);var Ie=xe.objectStore(ye).get(ke);Ie.onsuccess=function(it){return Pe(it.target.result)},Ie.onerror=Ir(Be)})},query:(de=ve,function(Se){return new Promise(function(xe,ke){xe=_n(xe);var Pe,Be,Ie,st=Se.trans,it=Se.values,at=Se.limit,dt=Se.query,ot=at===1/0?void 0:at,pt=dt.index,dt=dt.range,st=st.objectStore(ye),pt=pt.isPrimaryKey?st:st.index(pt.name),dt=z(dt);if(at===0)return xe({result:[]});de?((ot=it?pt.getAll(dt,ot):pt.getAllKeys(dt,ot)).onsuccess=function(lt){return xe({result:lt.target.result})},ot.onerror=Ir(ke)):(Pe=0,Be=!it&&"openKeyCursor"in pt?pt.openKeyCursor(dt):pt.openCursor(dt),Ie=[],Be.onsuccess=function(lt){var Rt=Be.result;return Rt?(Ie.push(it?Rt.value:Rt.primaryKey),++Pe===at?xe({result:Ie}):void Rt.continue()):xe({result:Ie})},Be.onerror=Ir(ke))})}),openCursor:function(Se){var xe=Se.trans,ke=Se.values,Pe=Se.query,Be=Se.reverse,Ie=Se.unique;return new Promise(function(it,at){it=_n(it);var pt=Pe.index,ot=Pe.range,st=xe.objectStore(ye),st=pt.isPrimaryKey?st:st.index(pt.name),pt=Be?Ie?"prevunique":"prev":Ie?"nextunique":"next",dt=!ke&&"openKeyCursor"in st?st.openKeyCursor(z(ot),pt):st.openCursor(z(ot),pt);dt.onerror=Ir(at),dt.onsuccess=_n(function(lt){var Rt,Mt,Et,Dn,Ot=dt.result;Ot?(Ot.___id=++vu,Ot.done=!1,Rt=Ot.continue.bind(Ot),Mt=(Mt=Ot.continuePrimaryKey)&&Mt.bind(Ot),Et=Ot.advance.bind(Ot),Dn=function(){throw new Error("Cursor not stopped")},Ot.trans=xe,Ot.stop=Ot.continue=Ot.continuePrimaryKey=Ot.advance=function(){throw new Error("Cursor not started")},Ot.fail=_n(at),Ot.next=function(){var fr=this,yr=1;return this.start(function(){return yr--?fr.continue():fr.stop()}).then(function(){return fr})},Ot.start=function(fr){function yr(){if(dt.result)try{fr()}catch(Mr){Ot.fail(Mr)}else Ot.done=!0,Ot.start=function(){throw new Error("Cursor behind last entry")},Ot.stop()}var ro=new Promise(function(Mr,io){Mr=_n(Mr),dt.onerror=Ir(io),Ot.fail=io,Ot.stop=function(os){Ot.stop=Ot.continue=Ot.continuePrimaryKey=Ot.advance=Dn,Mr(os)}});return dt.onsuccess=_n(function(Mr){dt.onsuccess=yr,yr()}),Ot.continue=Rt,Ot.continuePrimaryKey=Mt,Ot.advance=Et,yr(),ro},it(Ot)):it(null)},at)})},count:function(Se){var xe=Se.query,ke=Se.trans,Pe=xe.index,Be=xe.range;return new Promise(function(Ie,it){var at=ke.objectStore(ye),ot=Pe.isPrimaryKey?at:at.index(Pe.name),at=z(Be),ot=at?ot.count(at):ot.count();ot.onsuccess=_n(function(st){return Ie(st.target.result)}),ot.onerror=Ir(it)})}}}var K,re,ie,we=(re=fe,ie=lc((K=w).objectStoreNames),{schema:{name:K.name,tables:ie.map(function(Ce){return re.objectStore(Ce)}).map(function(Ce){var de=Ce.keyPath,xe=Ce.autoIncrement,ye=l(de),Se={},xe={name:Ce.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:de==null,compound:ye,keyPath:de,autoIncrement:xe,unique:!0,extractKey:gu(de)},indexes:lc(Ce.indexNames).map(function(ke){return Ce.index(ke)}).map(function(Ie){var Pe=Ie.name,Be=Ie.unique,it=Ie.multiEntry,Ie=Ie.keyPath,it={name:Pe,compound:l(Ie),keyPath:Ie,unique:Be,multiEntry:it,extractKey:gu(Ie)};return Se[qa(Ie)]=it}),getIndexByKeyPath:function(ke){return Se[qa(ke)]}};return Se[":id"]=xe.primaryKey,de!=null&&(Se[qa(de)]=xe.primaryKey),xe})},hasGetAll:0<ie.length&&"getAll"in re.objectStore(ie[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),fe=we.schema,ve=we.hasGetAll,we=fe.tables.map(F),oe={};return we.forEach(function(Ce){return oe[Ce.name]=Ce}),{stack:"dbcore",transaction:w.transaction.bind(w),table:function(Ce){if(!oe[Ce])throw new Error("Table '".concat(Ce,"' not found"));return oe[Ce]},MIN_KEY:-1/0,MAX_KEY:ns(C),schema:fe}}function Ws(w,C,D,z){var F=D.IDBKeyRange;return D.indexedDB,{dbcore:(z=Jr(C,F,z),w.dbcore.reduce(function(K,re){return re=re.create,r(r({},K),re(K))},z))}}function Ys(w,z){var D=z.db,z=Ws(w._middlewares,D,w._deps,z);w.core=z.dbcore,w.tables.forEach(function(F){var K=F.name;w.core.schema.tables.some(function(re){return re.name===K})&&(F.core=w.core.table(K),w[K]instanceof w.Table&&(w[K].core=F.core))})}function rs(w,C,D,z){D.forEach(function(F){var K=z[F];C.forEach(function(re){var ie=(function fe(ve,we){return _(ve,we)||(ve=f(ve))&&fe(ve,we)})(re,F);(!ie||"value"in ie&&ie.value===void 0)&&(re===w.Transaction.prototype||re instanceof w.Transaction?b(re,F,{get:function(){return this.table(F)},set:function(fe){v(this,F,{value:fe,writable:!0,configurable:!0,enumerable:!0})}}):re[F]=new w.Table(F,K))})})}function kd(w,C){C.forEach(function(D){for(var z in D)D[z]instanceof w.Table&&delete D[z]})}function Ed(w,C){return w._cfg.version-C._cfg.version}function Ad(w,C,D,z){var F=w._dbSchema;D.objectStoreNames.contains("$meta")&&!F.$meta&&(F.$meta=ac("$meta",em("")[0],[]),w._storeNames.push("$meta"));var K=w._createTransaction("readwrite",w._storeNames,F);K.create(D),K._completion.catch(z);var re=K._reject.bind(K),ie=nt.transless||nt;Tn(function(){return nt.trans=K,nt.transless=ie,C!==0?(Ys(w,D),ve=C,((fe=K).storeNames.includes("$meta")?fe.table("$meta").get("version").then(function(we){return we??ve}):Qe.resolve(ve)).then(function(we){return Ce=we,de=K,ye=D,Se=[],we=(oe=w)._versions,xe=oe._dbSchema=wu(0,oe.idbdb,ye),(we=we.filter(function(ke){return ke._cfg.version>=Ce})).length!==0?(we.forEach(function(ke){Se.push(function(){var Pe=xe,Be=ke._cfg.dbschema;Va(oe,Pe,ye),Va(oe,Be,ye),xe=oe._dbSchema=Be;var Ie=Ka(Pe,Be);Ie.add.forEach(function(pt){yu(ye,pt[0],pt[1].primKey,pt[1].indexes)}),Ie.change.forEach(function(pt){if(pt.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var dt=ye.objectStore(pt.name);pt.add.forEach(function(lt){return bu(dt,lt)}),pt.change.forEach(function(lt){dt.deleteIndex(lt.name),bu(dt,lt)}),pt.del.forEach(function(lt){return dt.deleteIndex(lt)})});var it=ke._cfg.contentUpgrade;if(it&&ke._cfg.version>Ce){Ys(oe,ye),de._memoizedTables={};var at=U(Be);Ie.del.forEach(function(pt){at[pt]=Pe[pt]}),kd(oe,[oe.Transaction.prototype]),rs(oe,[oe.Transaction.prototype],s(at),at),de.schema=at;var ot,st=$(it);return st&&cr(),Ie=Qe.follow(function(){var pt;(ot=it(de))&&st&&(pt=di.bind(null,null),ot.then(pt,pt))}),ot&&typeof ot.then=="function"?Qe.resolve(ot):Ie.then(function(){return ot})}}),Se.push(function(Pe){var Be,Ie,it=ke._cfg.dbschema;Be=it,Ie=Pe,[].slice.call(Ie.db.objectStoreNames).forEach(function(at){return Be[at]==null&&Ie.db.deleteObjectStore(at)}),kd(oe,[oe.Transaction.prototype]),rs(oe,[oe.Transaction.prototype],oe._storeNames,oe._dbSchema),de.schema=oe._dbSchema}),Se.push(function(Pe){oe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(oe.idbdb.version/10)===ke._cfg.version?(oe.idbdb.deleteObjectStore("$meta"),delete oe._dbSchema.$meta,oe._storeNames=oe._storeNames.filter(function(Be){return Be!=="$meta"})):Pe.objectStore("$meta").put(ke._cfg.version,"version"))})}),(function ke(){return Se.length?Qe.resolve(Se.shift()(de.idbtrans)).then(ke):Qe.resolve()})().then(function(){Jp(xe,ye)})):Qe.resolve();var oe,Ce,de,ye,Se,xe}).catch(re)):(s(F).forEach(function(we){yu(D,we,F[we].primKey,F[we].indexes)}),Ys(w,D),void Qe.follow(function(){return w.on.populate.fire(K)}).catch(re));var fe,ve})}function cc(w,C){Jp(w._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var D=wu(0,w.idbdb,C);Va(w,w._dbSchema,C);for(var z=0,F=Ka(D,w._dbSchema).change;z<F.length;z++){var K=(function(re){if(re.change.length||re.recreate)return console.warn("Unable to patch indexes of table ".concat(re.name," because it has changes on the type of index or primary key.")),{value:void 0};var ie=C.objectStore(re.name);re.add.forEach(function(fe){Me&&console.debug("Dexie upgrade patch: Creating missing index ".concat(re.name,".").concat(fe.src)),bu(ie,fe)})})(F[z]);if(typeof K=="object")return K.value}}function Ka(w,C){var D,z={del:[],add:[],change:[]};for(D in w)C[D]||z.del.push(D);for(D in C){var F=w[D],K=C[D];if(F){var re={name:D,def:K,recreate:!1,del:[],add:[],change:[]};if(""+(F.primKey.keyPath||"")!=""+(K.primKey.keyPath||"")||F.primKey.auto!==K.primKey.auto)re.recreate=!0,z.change.push(re);else{var ie=F.idxByName,fe=K.idxByName,ve=void 0;for(ve in ie)fe[ve]||re.del.push(ve);for(ve in fe){var we=ie[ve],oe=fe[ve];we?we.src!==oe.src&&re.change.push(oe):re.add.push(oe)}(0<re.del.length||0<re.add.length||0<re.change.length)&&z.change.push(re)}}else z.add.push([D,K])}return z}function yu(w,C,D,z){var F=w.db.createObjectStore(C,D.keyPath?{keyPath:D.keyPath,autoIncrement:D.auto}:{autoIncrement:D.auto});return z.forEach(function(K){return bu(F,K)}),F}function Jp(w,C){s(w).forEach(function(D){C.db.objectStoreNames.contains(D)||(Me&&console.debug("Dexie: Creating missing table",D),yu(C,D,w[D].primKey,w[D].indexes))})}function bu(w,C){w.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function wu(w,C,D){var z={};return A(C.objectStoreNames,0).forEach(function(F){for(var K=D.objectStore(F),re=Vs(Do(ve=K.keyPath),ve||"",!0,!1,!!K.autoIncrement,ve&&typeof ve!="string",!0),ie=[],fe=0;fe<K.indexNames.length;++fe){var we=K.index(K.indexNames[fe]),ve=we.keyPath,we=Vs(we.name,ve,!!we.unique,!!we.multiEntry,!1,ve&&typeof ve!="string",!1);ie.push(we)}z[F]=ac(F,re,ie)}),z}function Va(w,C,D){for(var z=D.db.objectStoreNames,F=0;F<z.length;++F){var K=z[F],re=D.objectStore(K);w._hasGetAll="getAll"in re;for(var ie=0;ie<re.indexNames.length;++ie){var fe=re.indexNames[ie],ve=re.index(fe).keyPath,we=typeof ve=="string"?ve:"["+A(ve).join("+")+"]";!C[K]||(ve=C[K].idxByName[we])&&(ve.name=fe,delete C[K].idxByName[we],C[K].idxByName[fe]=ve)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(w._hasGetAll=!1)}function em(w){return w.split(",").map(function(C,D){var K=C.split(":"),z=(F=K[1])===null||F===void 0?void 0:F.trim(),F=(C=K[0].trim()).replace(/([&*]|\+\+)/g,""),K=/^\[/.test(F)?F.match(/^\[(.*)\]$/)[1].split("+"):F;return Vs(F,K||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),l(K),D===0,z)})}var S0=(Wa.prototype._createTableSchema=ac,Wa.prototype._parseIndexSyntax=em,Wa.prototype._parseStoresSpec=function(w,C){var D=this;s(w).forEach(function(z){if(w[z]!==null){var F=D._parseIndexSyntax(w[z]),K=F.shift();if(!K)throw new Ae.Schema("Invalid schema for table "+z+": "+w[z]);if(K.unique=!0,K.multi)throw new Ae.Schema("Primary key cannot be multiEntry*");F.forEach(function(re){if(re.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!re.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),F=D._createTableSchema(z,K,F),C[z]=F}})},Wa.prototype.stores=function(D){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,D):D;var D=C._versions,z={},F={};return D.forEach(function(K){u(z,K._cfg.storesSource),F=K._cfg.dbschema={},K._parseStoresSpec(z,F)}),C._dbSchema=F,kd(C,[C._allTables,C,C.Transaction.prototype]),rs(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],s(F),F),C._storeNames=s(F),this},Wa.prototype.upgrade=function(w){return this._cfg.contentUpgrade=Ne(this._cfg.contentUpgrade||Je,w),this},Wa);function Wa(){}function Od(w,C){var D=w._dbNamesDB;return D||(D=w._dbNamesDB=new no(ic,{addons:[],indexedDB:w,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),D.table("dbnames")}function Td(w){return w&&typeof w.databases=="function"}function xu(w){return Tn(function(){return nt.letThrough=!0,w()})}function Dd(w){return!("from"in w)}var Rr=function(w,C){if(!this){var D=new Rr;return w&&"d"in w&&u(D,w),D}u(this,arguments.length?{d:1,from:w,to:1<arguments.length?C:w}:{d:0})};function uc(w,C,D){var z=Ht(C,D);if(!isNaN(z)){if(0<z)throw RangeError();if(Dd(w))return u(w,{from:C,to:D,d:1});var F=w.l,z=w.r;if(Ht(D,w.from)<0)return F?uc(F,C,D):w.l={from:C,to:D,d:1,l:null,r:null},tm(w);if(0<Ht(C,w.to))return z?uc(z,C,D):w.r={from:C,to:D,d:1,l:null,r:null},tm(w);Ht(C,w.from)<0&&(w.from=C,w.l=null,w.d=z?z.d+1:1),0<Ht(D,w.to)&&(w.to=D,w.r=null,w.d=w.l?w.l.d+1:1),D=!w.r,F&&!w.l&&fc(w,F),z&&D&&fc(w,z)}}function fc(w,C){Dd(C)||(function D(z,fe){var K=fe.from,re=fe.to,ie=fe.l,fe=fe.r;uc(z,K,re),ie&&D(z,ie),fe&&D(z,fe)})(w,C)}function Su(w,C){var D=_u(C),z=D.next();if(z.done)return!1;for(var F=z.value,K=_u(w),re=K.next(F.from),ie=re.value;!z.done&&!re.done;){if(Ht(ie.from,F.to)<=0&&0<=Ht(ie.to,F.from))return!0;Ht(F.from,ie.from)<0?F=(z=D.next(ie.from)).value:ie=(re=K.next(F.from)).value}return!1}function _u(w){var C=Dd(w)?null:{s:0,n:w};return{next:function(D){for(var z=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,z)for(;C.n.l&&Ht(D,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!z||Ht(D,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function tm(w){var C,D,z=(((C=w.r)===null||C===void 0?void 0:C.d)||0)-(((D=w.l)===null||D===void 0?void 0:D.d)||0),F=1<z?"r":z<-1?"l":"";F&&(C=F=="r"?"l":"r",D=r({},w),z=w[F],w.from=z.from,w.to=z.to,w[F]=z[F],D[F]=z[C],(w[C]=D).d=nm(D)),w.d=nm(w)}function nm(D){var C=D.r,D=D.l;return(C?D?Math.max(C.d,D.d):C.d:D?D.d:0)+1}function dc(w,C){return s(C).forEach(function(D){w[D]?fc(w[D],C[D]):w[D]=(function z(F){var K,re,ie={};for(K in F)p(F,K)&&(re=F[K],ie[K]=!re||typeof re!="object"||te.has(re.constructor)?re:z(re));return ie})(C[D])}),w}function Rd(w,C){return w.all||C.all||Object.keys(w).some(function(D){return C[D]&&Su(C[D],w[D])})}g(Rr.prototype,((ei={add:function(w){return fc(this,w),this},addKey:function(w){return uc(this,w,w),this},addKeys:function(w){var C=this;return w.forEach(function(D){return uc(C,D,D)}),this},hasKey:function(w){var C=_u(this).next(w).value;return C&&Ht(C.from,w)<=0&&0<=Ht(C.to,w)}})[V]=function(){return _u(this)},ei));var Zs={},Md={},Nd=!1;function Cu(w){dc(Md,w),Nd||(Nd=!0,setTimeout(function(){Nd=!1,jd(Md,!(Md={}))},0))}function jd(w,C){C===void 0&&(C=!1);var D=new Set;if(w.all)for(var z=0,F=Object.values(Zs);z<F.length;z++)rm(re=F[z],w,D,C);else for(var K in w){var re,ie=/^idb\:\/\/(.*)\/(.*)\//.exec(K);ie&&(K=ie[1],ie=ie[2],(re=Zs["idb://".concat(K,"/").concat(ie)])&&rm(re,w,D,C))}D.forEach(function(fe){return fe()})}function rm(w,C,D,z){for(var F=[],K=0,re=Object.entries(w.queries.query);K<re.length;K++){for(var ie=re[K],fe=ie[0],ve=[],we=0,oe=ie[1];we<oe.length;we++){var Ce=oe[we];Rd(C,Ce.obsSet)?Ce.subscribers.forEach(function(xe){return D.add(xe)}):z&&ve.push(Ce)}z&&F.push([fe,ve])}if(z)for(var de=0,ye=F;de<ye.length;de++){var Se=ye[de],fe=Se[0],ve=Se[1];w.queries.query[fe]=ve}}function _0(w){var C=w._state,D=w._deps.indexedDB;if(C.isBeingOpened||w.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?gn(C.dbOpenError):w});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var z=C.openCanceller,F=Math.round(10*w.verno),K=!1;function re(){if(C.openCanceller!==z)throw new Ae.DatabaseClosed("db.open() was cancelled")}function ie(){return new Qe(function(Ce,de){if(re(),!D)throw new Ae.MissingAPI;var ye=w.name,Se=C.autoSchema||!F?D.open(ye):D.open(ye,F);if(!Se)throw new Ae.MissingAPI;Se.onerror=Ir(de),Se.onblocked=_n(w._fireOnBlocked),Se.onupgradeneeded=_n(function(xe){var ke;we=Se.transaction,C.autoSchema&&!w._options.allowEmptyDB?(Se.onerror=Ha,we.abort(),Se.result.close(),(ke=D.deleteDatabase(ye)).onsuccess=ke.onerror=_n(function(){de(new Ae.NoSuchDatabase("Database ".concat(ye," doesnt exist")))})):(we.onerror=Ir(de),xe=xe.oldVersion>Math.pow(2,62)?0:xe.oldVersion,oe=xe<1,w.idbdb=Se.result,K&&cc(w,we),Ad(w,xe/10,we,de))},de),Se.onsuccess=_n(function(){we=null;var xe,ke,Pe,Be,Ie,it=w.idbdb=Se.result,at=A(it.objectStoreNames);if(0<at.length)try{var ot=it.transaction((Be=at).length===1?Be[0]:Be,"readonly");if(C.autoSchema)ke=it,Pe=ot,(xe=w).verno=ke.version/10,Pe=xe._dbSchema=wu(0,ke,Pe),xe._storeNames=A(ke.objectStoreNames,0),rs(xe,[xe._allTables],s(Pe),Pe);else if(Va(w,w._dbSchema,ot),((Ie=Ka(wu(0,(Ie=w).idbdb,ot),Ie._dbSchema)).add.length||Ie.change.some(function(st){return st.add.length||st.change.length}))&&!K)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),it.close(),F=it.version+1,K=!0,Ce(ie());Ys(w,ot)}catch{}$s.push(w),it.onversionchange=_n(function(st){C.vcFired=!0,w.on("versionchange").fire(st)}),it.onclose=_n(function(st){w.on("close").fire(st)}),oe&&(Ie=w._deps,ot=ye,it=Ie.indexedDB,Ie=Ie.IDBKeyRange,Td(it)||ot===ic||Od(it,Ie).put({name:ot}).catch(Je)),Ce()},de)}).catch(function(Ce){switch(Ce?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ie();break;case"VersionError":if(0<F)return F=0,ie()}return Qe.reject(Ce)})}var fe,ve=C.dbReadyResolve,we=null,oe=!1;return Qe.race([z,(typeof navigator>"u"?Qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ce){function de(){return indexedDB.databases().finally(Ce)}fe=setInterval(de,100),de()}).finally(function(){return clearInterval(fe)}):Promise.resolve()).then(ie)]).then(function(){return re(),C.onReadyBeingFired=[],Qe.resolve(xu(function(){return w.on.ready.fire(w.vip)})).then(function Ce(){if(0<C.onReadyBeingFired.length){var de=C.onReadyBeingFired.reduce(Ne,Je);return C.onReadyBeingFired=[],Qe.resolve(xu(function(){return de(w.vip)})).then(Ce)}})}).finally(function(){C.openCanceller===z&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(Ce){C.dbOpenError=Ce;try{we&&we.abort()}catch{}return z===C.openCanceller&&w._close(),gn(Ce)}).finally(function(){C.openComplete=!0,ve()}).then(function(){var Ce;return oe&&(Ce={},w.tables.forEach(function(de){de.schema.indexes.forEach(function(ye){ye.name&&(Ce["idb://".concat(w.name,"/").concat(de.name,"/").concat(ye.name)]=new Rr(-1/0,[[[]]]))}),Ce["idb://".concat(w.name,"/").concat(de.name,"/")]=Ce["idb://".concat(w.name,"/").concat(de.name,"/:dels")]=new Rr(-1/0,[[[]]])}),yi(Ks).fire(Ce),jd(Ce,!0)),w})}function zd(w){function C(K){return w.next(K)}var D=F(C),z=F(function(K){return w.throw(K)});function F(K){return function(fe){var ie=K(fe),fe=ie.value;return ie.done?fe:fe&&typeof fe.then=="function"?fe.then(D,z):l(fe)?Promise.all(fe).then(D,z):D(fe)}}return F(C)()}function Ya(w,C,D){for(var z=l(w)?w.slice():[w],F=0;F<D;++F)z.push(C);return z}var hc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(w){return r(r({},w),{table:function(C){var D=w.table(C),z=D.schema,F={},K=[];function re(oe,Ce,de){var ye=qa(oe),Se=F[ye]=F[ye]||[],xe=oe==null?0:typeof oe=="string"?1:oe.length,ke=0<Ce,ke=r(r({},de),{name:ke?"".concat(ye,"(virtual-from:").concat(de.name,")"):de.name,lowLevelIndex:de,isVirtual:ke,keyTail:Ce,keyLength:xe,extractKey:gu(oe),unique:!ke&&de.unique});return Se.push(ke),ke.isPrimaryKey||K.push(ke),1<xe&&re(xe===2?oe[0]:oe.slice(0,xe-1),Ce+1,de),Se.sort(function(Pe,Be){return Pe.keyTail-Be.keyTail}),ke}C=re(z.primaryKey.keyPath,0,z.primaryKey),F[":id"]=[C];for(var ie=0,fe=z.indexes;ie<fe.length;ie++){var ve=fe[ie];re(ve.keyPath,0,ve)}function we(oe){var Ce,de=oe.query.index;return de.isVirtual?r(r({},oe),{query:{index:de.lowLevelIndex,range:(Ce=oe.query.range,de=de.keyTail,{type:Ce.type===1?2:Ce.type,lower:Ya(Ce.lower,Ce.lowerOpen?w.MAX_KEY:w.MIN_KEY,de),lowerOpen:!0,upper:Ya(Ce.upper,Ce.upperOpen?w.MIN_KEY:w.MAX_KEY,de),upperOpen:!0})}}):oe}return r(r({},D),{schema:r(r({},z),{primaryKey:C,indexes:K,getIndexByKeyPath:function(oe){return(oe=F[qa(oe)])&&oe[0]}}),count:function(oe){return D.count(we(oe))},query:function(oe){return D.query(we(oe))},openCursor:function(oe){var Ce=oe.query.index,de=Ce.keyTail,ye=Ce.isVirtual,Se=Ce.keyLength;return ye?D.openCursor(we(oe)).then(function(ke){return ke&&xe(ke)}):D.openCursor(oe);function xe(ke){return Object.create(ke,{continue:{value:function(Pe){Pe!=null?ke.continue(Ya(Pe,oe.reverse?w.MAX_KEY:w.MIN_KEY,de)):oe.unique?ke.continue(ke.key.slice(0,Se).concat(oe.reverse?w.MIN_KEY:w.MAX_KEY,de)):ke.continue()}},continuePrimaryKey:{value:function(Pe,Be){ke.continuePrimaryKey(Ya(Pe,w.MAX_KEY,de),Be)}},primaryKey:{get:function(){return ke.primaryKey}},key:{get:function(){var Pe=ke.key;return Se===1?Pe[0]:Pe.slice(0,Se)}},value:{get:function(){return ke.value}}})}}})}})}};function Pd(w,C,D,z){return D=D||{},z=z||"",s(w).forEach(function(F){var K,re,ie;p(C,F)?(K=w[F],re=C[F],typeof K=="object"&&typeof re=="object"&&K&&re?(ie=J(K))!==J(re)?D[z+F]=C[F]:ie==="Object"?Pd(K,re,D,z+F+"."):K!==re&&(D[z+F]=C[F]):K!==re&&(D[z+F]=C[F])):D[z+F]=void 0}),s(C).forEach(function(F){p(w,F)||(D[z+F]=C[F])}),D}function ku(w,C){return C.type==="delete"?C.keys:C.keys||C.values.map(w.extractKey)}var im={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(w){return r(r({},w),{table:function(C){var D=w.table(C),z=D.schema.primaryKey;return r(r({},D),{mutate:function(F){var K=nt.trans,re=K.table(C).hook,ie=re.deleting,fe=re.creating,ve=re.updating;switch(F.type){case"add":if(fe.fire===Je)break;return K._promise("readwrite",function(){return we(F)},!0);case"put":if(fe.fire===Je&&ve.fire===Je)break;return K._promise("readwrite",function(){return we(F)},!0);case"delete":if(ie.fire===Je)break;return K._promise("readwrite",function(){return we(F)},!0);case"deleteRange":if(ie.fire===Je)break;return K._promise("readwrite",function(){return(function oe(Ce,de,ye){return D.query({trans:Ce,values:!1,query:{index:z,range:de},limit:ye}).then(function(Se){var xe=Se.result;return we({type:"delete",keys:xe,trans:Ce}).then(function(ke){return 0<ke.numFailures?Promise.reject(ke.failures[0]):xe.length<ye?{failures:[],numFailures:0,lastResult:void 0}:oe(Ce,r(r({},de),{lower:xe[xe.length-1],lowerOpen:!0}),ye)})})})(F.trans,F.range,1e4)},!0)}return D.mutate(F);function we(oe){var Ce,de,ye,Se=nt.trans,xe=oe.keys||ku(z,oe);if(!xe)throw new Error("Keys missing");return(oe=oe.type==="add"||oe.type==="put"?r(r({},oe),{keys:xe}):r({},oe)).type!=="delete"&&(oe.values=i([],oe.values)),oe.keys&&(oe.keys=i([],oe.keys)),Ce=D,ye=xe,((de=oe).type==="add"?Promise.resolve([]):Ce.getMany({trans:de.trans,keys:ye,cache:"immutable"})).then(function(ke){var Pe=xe.map(function(Be,Ie){var it,at,ot,st=ke[Ie],pt={onerror:null,onsuccess:null};return oe.type==="delete"?ie.fire.call(pt,Be,st,Se):oe.type==="add"||st===void 0?(it=fe.fire.call(pt,Be,oe.values[Ie],Se),Be==null&&it!=null&&(oe.keys[Ie]=Be=it,z.outbound||j(oe.values[Ie],z.keyPath,Be))):(it=Pd(st,oe.values[Ie]),(at=ve.fire.call(pt,it,Be,st,Se))&&(ot=oe.values[Ie],Object.keys(at).forEach(function(dt){p(ot,dt)?ot[dt]=at[dt]:j(ot,dt,at[dt])}))),pt});return D.mutate(oe).then(function(Be){for(var Ie=Be.failures,it=Be.results,at=Be.numFailures,Be=Be.lastResult,ot=0;ot<xe.length;++ot){var st=(it||xe)[ot],pt=Pe[ot];st==null?pt.onerror&&pt.onerror(Ie[ot]):pt.onsuccess&&pt.onsuccess(oe.type==="put"&&ke[ot]?oe.values[ot]:st)}return{failures:Ie,results:it,numFailures:at,lastResult:Be}}).catch(function(Be){return Pe.forEach(function(Ie){return Ie.onerror&&Ie.onerror(Be)}),Promise.reject(Be)})})}}})}})}};function Ld(w,C,D){try{if(!C||C.keys.length<w.length)return null;for(var z=[],F=0,K=0;F<C.keys.length&&K<w.length;++F)Ht(C.keys[F],w[K])===0&&(z.push(D?Y(C.values[F]):C.values[F]),++K);return z.length===w.length?z:null}catch{return null}}var om={stack:"dbcore",level:-1,create:function(w){return{table:function(C){var D=w.table(C);return r(r({},D),{getMany:function(z){if(!z.cache)return D.getMany(z);var F=Ld(z.keys,z.trans._cache,z.cache==="clone");return F?Qe.resolve(F):D.getMany(z).then(function(K){return z.trans._cache={keys:z.keys,values:z.cache==="clone"?Y(K):K},K})},mutate:function(z){return z.type!=="add"&&(z.trans._cache=null),D.mutate(z)}})}}}};function Bd(w,C){return w.trans.mode==="readonly"&&!!w.subscr&&!w.trans.explicit&&w.trans.db._options.cache!=="disabled"&&!C.schema.primaryKey.outbound}function Xs(w,C){switch(w){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var C0={stack:"dbcore",level:0,name:"Observability",create:function(w){var C=w.schema.name,D=new Rr(w.MIN_KEY,w.MAX_KEY);return r(r({},w),{transaction:function(z,F,K){if(nt.subscr&&F!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(nt.querier));return w.transaction(z,F,K)},table:function(z){var F=w.table(z),K=F.schema,re=K.primaryKey,oe=K.indexes,ie=re.extractKey,fe=re.outbound,ve=re.autoIncrement&&oe.filter(function(de){return de.compound&&de.keyPath.includes(re.keyPath)}),we=r(r({},F),{mutate:function(de){function ye(dt){return dt="idb://".concat(C,"/").concat(z,"/").concat(dt),Be[dt]||(Be[dt]=new Rr)}var Se,xe,ke,Pe=de.trans,Be=de.mutatedParts||(de.mutatedParts={}),Ie=ye(""),it=ye(":dels"),at=de.type,pt=de.type==="deleteRange"?[de.range]:de.type==="delete"?[de.keys]:de.values.length<50?[ku(re,de).filter(function(dt){return dt}),de.values]:[],ot=pt[0],st=pt[1],pt=de.trans._cache;return l(ot)?(Ie.addKeys(ot),(pt=at==="delete"||ot.length===st.length?Ld(ot,pt):null)||it.addKeys(ot),(pt||st)&&(Se=ye,xe=pt,ke=st,K.indexes.forEach(function(dt){var lt=Se(dt.name||"");function Rt(Et){return Et!=null?dt.extractKey(Et):null}function Mt(Et){return dt.multiEntry&&l(Et)?Et.forEach(function(Dn){return lt.addKey(Dn)}):lt.addKey(Et)}(xe||ke).forEach(function(Et,fr){var Ot=xe&&Rt(xe[fr]),fr=ke&&Rt(ke[fr]);Ht(Ot,fr)!==0&&(Ot!=null&&Mt(Ot),fr!=null&&Mt(fr))})}))):ot?(st={from:(st=ot.lower)!==null&&st!==void 0?st:w.MIN_KEY,to:(st=ot.upper)!==null&&st!==void 0?st:w.MAX_KEY},it.add(st),Ie.add(st)):(Ie.add(D),it.add(D),K.indexes.forEach(function(dt){return ye(dt.name).add(D)})),F.mutate(de).then(function(dt){return!ot||de.type!=="add"&&de.type!=="put"||(Ie.addKeys(dt.results),ve&&ve.forEach(function(lt){for(var Rt=de.values.map(function(Ot){return lt.extractKey(Ot)}),Mt=lt.keyPath.findIndex(function(Ot){return Ot===re.keyPath}),Et=0,Dn=dt.results.length;Et<Dn;++Et)Rt[Et][Mt]=dt.results[Et];ye(lt.name).addKeys(Rt)})),Pe.mutatedParts=dc(Pe.mutatedParts||{},Be),dt})}}),oe=function(ye){var Se=ye.query,ye=Se.index,Se=Se.range;return[ye,new Rr((ye=Se.lower)!==null&&ye!==void 0?ye:w.MIN_KEY,(Se=Se.upper)!==null&&Se!==void 0?Se:w.MAX_KEY)]},Ce={get:function(de){return[re,new Rr(de.key)]},getMany:function(de){return[re,new Rr().addKeys(de.keys)]},count:oe,query:oe,openCursor:oe};return s(Ce).forEach(function(de){we[de]=function(ye){var Se=nt.subscr,xe=!!Se,ke=Bd(nt,F)&&Xs(de,ye)?ye.obsSet={}:Se;if(xe){var Pe=function(st){return st="idb://".concat(C,"/").concat(z,"/").concat(st),ke[st]||(ke[st]=new Rr)},Be=Pe(""),Ie=Pe(":dels"),Se=Ce[de](ye),xe=Se[0],Se=Se[1];if((de==="query"&&xe.isPrimaryKey&&!ye.values?Ie:Pe(xe.name||"")).add(Se),!xe.isPrimaryKey){if(de!=="count"){var it=de==="query"&&fe&&ye.values&&F.query(r(r({},ye),{values:!1}));return F[de].apply(this,arguments).then(function(st){if(de==="query"){if(fe&&ye.values)return it.then(function(Rt){return Rt=Rt.result,Be.addKeys(Rt),st});var pt=ye.values?st.result.map(ie):st.result;(ye.values?Be:Ie).addKeys(pt)}else if(de==="openCursor"){var dt=st,lt=ye.values;return dt&&Object.create(dt,{key:{get:function(){return Ie.addKey(dt.primaryKey),dt.key}},primaryKey:{get:function(){var Rt=dt.primaryKey;return Ie.addKey(Rt),Rt}},value:{get:function(){return lt&&Be.addKey(dt.primaryKey),dt.value}}})}return st})}Ie.add(D)}}return F[de].apply(this,arguments)}}),we}})}};function sm(w,C,D){if(D.numFailures===0)return C;if(C.type==="deleteRange")return null;var z=C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1;return D.numFailures===z?null:(C=r({},C),l(C.keys)&&(C.keys=C.keys.filter(function(F,K){return!(K in D.failures)})),"values"in C&&l(C.values)&&(C.values=C.values.filter(function(F,K){return!(K in D.failures)})),C)}function Id(w,C){return D=w,((z=C).lower===void 0||(z.lowerOpen?0<Ht(D,z.lower):0<=Ht(D,z.lower)))&&(w=w,(C=C).upper===void 0||(C.upperOpen?Ht(w,C.upper)<0:Ht(w,C.upper)<=0));var D,z}function $d(w,C,Ce,z,F,K){if(!Ce||Ce.length===0)return w;var re=C.query.index,ie=re.multiEntry,fe=C.query.range,ve=z.schema.primaryKey.extractKey,we=re.extractKey,oe=(re.lowLevelIndex||re).extractKey,Ce=Ce.reduce(function(de,ye){var Se=de,xe=[];if(ye.type==="add"||ye.type==="put")for(var ke=new Rr,Pe=ye.values.length-1;0<=Pe;--Pe){var Be,Ie=ye.values[Pe],it=ve(Ie);ke.hasKey(it)||(Be=we(Ie),(ie&&l(Be)?Be.some(function(dt){return Id(dt,fe)}):Id(Be,fe))&&(ke.addKey(it),xe.push(Ie)))}switch(ye.type){case"add":var at=new Rr().addKeys(C.values?de.map(function(lt){return ve(lt)}):de),Se=de.concat(C.values?xe.filter(function(lt){return lt=ve(lt),!at.hasKey(lt)&&(at.addKey(lt),!0)}):xe.map(function(lt){return ve(lt)}).filter(function(lt){return!at.hasKey(lt)&&(at.addKey(lt),!0)}));break;case"put":var ot=new Rr().addKeys(ye.values.map(function(lt){return ve(lt)}));Se=de.filter(function(lt){return!ot.hasKey(C.values?ve(lt):lt)}).concat(C.values?xe:xe.map(function(lt){return ve(lt)}));break;case"delete":var st=new Rr().addKeys(ye.keys);Se=de.filter(function(lt){return!st.hasKey(C.values?ve(lt):lt)});break;case"deleteRange":var pt=ye.range;Se=de.filter(function(lt){return!Id(ve(lt),pt)})}return Se},w);return Ce===w?w:(Ce.sort(function(de,ye){return Ht(oe(de),oe(ye))||Ht(ve(de),ve(ye))}),C.limit&&C.limit<1/0&&(Ce.length>C.limit?Ce.length=C.limit:w.length===C.limit&&Ce.length<C.limit&&(F.dirty=!0)),K?Object.freeze(Ce):Ce)}function Fd(w,C){return Ht(w.lower,C.lower)===0&&Ht(w.upper,C.upper)===0&&!!w.lowerOpen==!!C.lowerOpen&&!!w.upperOpen==!!C.upperOpen}function pc(w,C){return(function(D,z,F,K){if(D===void 0)return z!==void 0?-1:0;if(z===void 0)return 1;if((z=Ht(D,z))===0){if(F&&K)return 0;if(F)return 1;if(K)return-1}return z})(w.lower,C.lower,w.lowerOpen,C.lowerOpen)<=0&&0<=(function(D,z,F,K){if(D===void 0)return z!==void 0?1:0;if(z===void 0)return-1;if((z=Ht(D,z))===0){if(F&&K)return 0;if(F)return-1;if(K)return 1}return z})(w.upper,C.upper,w.upperOpen,C.upperOpen)}function mc(w,C,D,z){w.subscribers.add(D),z.addEventListener("abort",function(){var F,K;w.subscribers.delete(D),w.subscribers.size===0&&(F=w,K=C,setTimeout(function(){F.subscribers.size===0&&Q(K,F)},3e3))})}var k0={stack:"dbcore",level:0,name:"Cache",create:function(w){var C=w.schema.name;return r(r({},w),{transaction:function(D,z,F){var K,re,ie=w.transaction(D,z,F);return z==="readwrite"&&(re=(K=new AbortController).signal,F=function(fe){return function(){if(K.abort(),z==="readwrite"){for(var ve=new Set,we=0,oe=D;we<oe.length;we++){var Ce=oe[we],de=Zs["idb://".concat(C,"/").concat(Ce)];if(de){var ye=w.table(Ce),Se=de.optimisticOps.filter(function(lt){return lt.trans===ie});if(ie._explicit&&fe&&ie.mutatedParts)for(var xe=0,ke=Object.values(de.queries.query);xe<ke.length;xe++)for(var Pe=0,Be=(at=ke[xe]).slice();Pe<Be.length;Pe++)Rd((ot=Be[Pe]).obsSet,ie.mutatedParts)&&(Q(at,ot),ot.subscribers.forEach(function(lt){return ve.add(lt)}));else if(0<Se.length){de.optimisticOps=de.optimisticOps.filter(function(lt){return lt.trans!==ie});for(var Ie=0,it=Object.values(de.queries.query);Ie<it.length;Ie++)for(var at,ot,st,pt=0,dt=(at=it[Ie]).slice();pt<dt.length;pt++)(ot=dt[pt]).res!=null&&ie.mutatedParts&&(fe&&!ot.dirty?(st=Object.isFrozen(ot.res),st=$d(ot.res,ot.req,Se,ye,ot,st),ot.dirty?(Q(at,ot),ot.subscribers.forEach(function(lt){return ve.add(lt)})):st!==ot.res&&(ot.res=st,ot.promise=Qe.resolve({result:st}))):(ot.dirty&&Q(at,ot),ot.subscribers.forEach(function(lt){return ve.add(lt)})))}}}ve.forEach(function(lt){return lt()})}}},ie.addEventListener("abort",F(!1),{signal:re}),ie.addEventListener("error",F(!1),{signal:re}),ie.addEventListener("complete",F(!0),{signal:re})),ie},table:function(D){var z=w.table(D),F=z.schema.primaryKey;return r(r({},z),{mutate:function(K){var re=nt.trans;if(F.outbound||re.db._options.cache==="disabled"||re.explicit||re.idbtrans.mode!=="readwrite")return z.mutate(K);var ie=Zs["idb://".concat(C,"/").concat(D)];return ie?(re=z.mutate(K),K.type!=="add"&&K.type!=="put"||!(50<=K.values.length||ku(F,K).some(function(fe){return fe==null}))?(ie.optimisticOps.push(K),K.mutatedParts&&Cu(K.mutatedParts),re.then(function(fe){0<fe.numFailures&&(Q(ie.optimisticOps,K),(fe=sm(0,K,fe))&&ie.optimisticOps.push(fe),K.mutatedParts&&Cu(K.mutatedParts))}),re.catch(function(){Q(ie.optimisticOps,K),K.mutatedParts&&Cu(K.mutatedParts)})):re.then(function(fe){var ve=sm(0,r(r({},K),{values:K.values.map(function(we,oe){var Ce;return fe.failures[oe]?we:(we=(Ce=F.keyPath)!==null&&Ce!==void 0&&Ce.includes(".")?Y(we):r({},we),j(we,F.keyPath,fe.results[oe]),we)})}),fe);ie.optimisticOps.push(ve),queueMicrotask(function(){return K.mutatedParts&&Cu(K.mutatedParts)})}),re):z.mutate(K)},query:function(K){if(!Bd(nt,z)||!Xs("query",K))return z.query(K);var re=((ve=nt.trans)===null||ve===void 0?void 0:ve.db._options.cache)==="immutable",oe=nt,ie=oe.requery,fe=oe.signal,ve=(function(ye,Se,xe,ke){var Pe=Zs["idb://".concat(ye,"/").concat(Se)];if(!Pe)return[];if(!(Se=Pe.queries[xe]))return[null,!1,Pe,null];var Be=Se[(ke.query?ke.query.index.name:null)||""];if(!Be)return[null,!1,Pe,null];switch(xe){case"query":var Ie=Be.find(function(it){return it.req.limit===ke.limit&&it.req.values===ke.values&&Fd(it.req.query.range,ke.query.range)});return Ie?[Ie,!0,Pe,Be]:[Be.find(function(it){return("limit"in it.req?it.req.limit:1/0)>=ke.limit&&(!ke.values||it.req.values)&&pc(it.req.query.range,ke.query.range)}),!1,Pe,Be];case"count":return Ie=Be.find(function(it){return Fd(it.req.query.range,ke.query.range)}),[Ie,!!Ie,Pe,Be]}})(C,D,"query",K),we=ve[0],oe=ve[1],Ce=ve[2],de=ve[3];return we&&oe?we.obsSet=K.obsSet:(oe=z.query(K).then(function(ye){var Se=ye.result;if(we&&(we.res=Se),re){for(var xe=0,ke=Se.length;xe<ke;++xe)Object.freeze(Se[xe]);Object.freeze(Se)}else ye.result=Y(Se);return ye}).catch(function(ye){return de&&we&&Q(de,we),Promise.reject(ye)}),we={obsSet:K.obsSet,promise:oe,subscribers:new Set,type:"query",req:K,dirty:!1},de?de.push(we):(de=[we],(Ce=Ce||(Zs["idb://".concat(C,"/").concat(D)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[K.query.index.name||""]=de)),mc(we,de,ie,fe),we.promise.then(function(ye){return{result:$d(ye.result,K,Ce?.optimisticOps,z,we,re)}})}})}})}};function Gs(w,C){return new Proxy(w,{get:function(D,z,F){return z==="db"?C:Reflect.get(D,z,F)}})}var no=(Un.prototype.version=function(w){if(isNaN(w)||w<.1)throw new Ae.Type("Given version is not a positive number");if(w=Math.round(10*w)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,w);var C=this._versions,D=C.filter(function(z){return z._cfg.version===w})[0];return D||(D=new this.Version(w),C.push(D),C.sort(Ed),D.stores({}),this._state.autoSchema=!1,D)},Un.prototype._whenReady=function(w){var C=this;return this.idbdb&&(this._state.openComplete||nt.letThrough||this._vip)?w():new Qe(function(D,z){if(C._state.openComplete)return z(new Ae.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void z(new Ae.DatabaseClosed);C.open().catch(Je)}C._state.dbReadyPromise.then(D,z)}).then(w)},Un.prototype.use=function(w){var C=w.stack,D=w.create,z=w.level,F=w.name;return F&&this.unuse({stack:C,name:F}),w=this._middlewares[C]||(this._middlewares[C]=[]),w.push({stack:C,create:D,level:z??10,name:F}),w.sort(function(K,re){return K.level-re.level}),this},Un.prototype.unuse=function(w){var C=w.stack,D=w.name,z=w.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(F){return z?F.create!==z:!!D&&F.name!==D})),this},Un.prototype.open=function(){var w=this;return ji(Ut,function(){return _0(w)})},Un.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var w=this._state,C=$s.indexOf(this);if(0<=C&&$s.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}w.isBeingOpened||(w.dbReadyPromise=new Qe(function(D){w.dbReadyResolve=D}),w.openCanceller=new Qe(function(D,z){w.cancelOpen=z}))},Un.prototype.close=function(D){var C=(D===void 0?{disableAutoOpen:!0}:D).disableAutoOpen,D=this._state;C?(D.isBeingOpened&&D.cancelOpen(new Ae.DatabaseClosed),this._close(),D.autoOpen=!1,D.dbOpenError=new Ae.DatabaseClosed):(this._close(),D.autoOpen=this._options.autoOpen||D.isBeingOpened,D.openComplete=!1,D.dbOpenError=null)},Un.prototype.delete=function(w){var C=this;w===void 0&&(w={disableAutoOpen:!0});var D=0<arguments.length&&typeof arguments[0]!="object",z=this._state;return new Qe(function(F,K){function re(){C.close(w);var ie=C._deps.indexedDB.deleteDatabase(C.name);ie.onsuccess=_n(function(){var fe,ve,we;fe=C._deps,ve=C.name,we=fe.indexedDB,fe=fe.IDBKeyRange,Td(we)||ve===ic||Od(we,fe).delete(ve).catch(Je),F()}),ie.onerror=Ir(K),ie.onblocked=C._fireOnBlocked}if(D)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");z.isBeingOpened?z.dbReadyPromise.then(re):re()})},Un.prototype.backendDB=function(){return this.idbdb},Un.prototype.isOpen=function(){return this.idbdb!==null},Un.prototype.hasBeenClosed=function(){var w=this._state.dbOpenError;return w&&w.name==="DatabaseClosed"},Un.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Un.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Un.prototype,"tables",{get:function(){var w=this;return s(this._allTables).map(function(C){return w._allTables[C]})},enumerable:!1,configurable:!0}),Un.prototype.transaction=function(){var w=(function(C,D,z){var F=arguments.length;if(F<2)throw new Ae.InvalidArgument("Too few arguments");for(var K=new Array(F-1);--F;)K[F-1]=arguments[F];return z=K.pop(),[C,Z(K),z]}).apply(this,arguments);return this._transaction.apply(this,w)},Un.prototype._transaction=function(w,C,D){var z=this,F=nt.trans;F&&F.db===this&&w.indexOf("!")===-1||(F=null);var K,re,ie=w.indexOf("?")!==-1;w=w.replace("!","").replace("?","");try{if(re=C.map(function(ve){if(ve=ve instanceof z.Table?ve.name:ve,typeof ve!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ve}),w=="r"||w===Ao)K=Ao;else{if(w!="rw"&&w!=ts)throw new Ae.InvalidArgument("Invalid transaction mode: "+w);K=ts}if(F){if(F.mode===Ao&&K===ts){if(!ie)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");F=null}F&&re.forEach(function(ve){if(F&&F.storeNames.indexOf(ve)===-1){if(!ie)throw new Ae.SubTransaction("Table "+ve+" not included in parent transaction.");F=null}}),ie&&F&&!F.active&&(F=null)}}catch(ve){return F?F._promise(null,function(we,oe){oe(ve)}):gn(ve)}var fe=(function ve(we,oe,Ce,de,ye){return Qe.resolve().then(function(){var Se=nt.transless||nt,xe=we._createTransaction(oe,Ce,we._dbSchema,de);if(xe.explicit=!0,Se={trans:xe,transless:Se},de)xe.idbtrans=de.idbtrans;else try{xe.create(),xe.idbtrans._explicit=!0,we._state.PR1398_maxLoop=3}catch(Be){return Be.name===We.InvalidState&&we.isOpen()&&0<--we._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),we.close({disableAutoOpen:!1}),we.open().then(function(){return ve(we,oe,Ce,null,ye)})):gn(Be)}var ke,Pe=$(ye);return Pe&&cr(),Se=Qe.follow(function(){var Be;(ke=ye.call(xe,xe))&&(Pe?(Be=di.bind(null,null),ke.then(Be,Be)):typeof ke.next=="function"&&typeof ke.throw=="function"&&(ke=zd(ke)))},Se),(ke&&typeof ke.then=="function"?Qe.resolve(ke).then(function(Be){return xe.active?Be:gn(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Se.then(function(){return ke})).then(function(Be){return de&&xe._resolve(),xe._completion.then(function(){return Be})}).catch(function(Be){return xe._reject(Be),gn(Be)})})}).bind(null,this,K,re,F,D);return F?F._promise(K,fe,"lock"):nt.trans?ji(nt.transless,function(){return z._whenReady(fe)}):this._whenReady(fe)},Un.prototype.table=function(w){if(!p(this._allTables,w))throw new Ae.InvalidTable("Table ".concat(w," does not exist"));return this._allTables[w]},Un);function Un(w,C){var D=this;this._middlewares={},this.verno=0;var z=Un.dependencies;this._options=C=r({addons:Un.addons,autoOpen:!0,indexedDB:z.indexedDB,IDBKeyRange:z.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},z=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var F,K,re,ie,fe,ve={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Je,dbReadyPromise:null,cancelOpen:Je,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};ve.dbReadyPromise=new Qe(function(oe){ve.dbReadyResolve=oe}),ve.openCanceller=new Qe(function(oe,Ce){ve.cancelOpen=Ce}),this._state=ve,this.name=w,this.on=Us(this,"populate","blocked","versionchange","close",{ready:[Ne,Je]}),this.once=function(oe,Ce){var de=function(){for(var ye=[],Se=0;Se<arguments.length;Se++)ye[Se]=arguments[Se];D.on(oe).unsubscribe(de),Ce.apply(D,ye)};return D.on(oe,de)},this.on.ready.subscribe=O(this.on.ready.subscribe,function(oe){return function(Ce,de){Un.vip(function(){var ye,Se=D._state;Se.openComplete?(Se.dbOpenError||Qe.resolve().then(Ce),de&&oe(Ce)):Se.onReadyBeingFired?(Se.onReadyBeingFired.push(Ce),de&&oe(Ce)):(oe(Ce),ye=D,de||oe(function xe(){ye.on.ready.unsubscribe(Ce),ye.on.ready.unsubscribe(xe)}))})}}),this.Collection=(F=this,La(Fa.prototype,function(ke,xe){this.db=F;var de=yd,ye=null;if(xe)try{de=xe()}catch(Pe){ye=Pe}var Se=ke._ctx,xe=Se.table,ke=xe.hook.reading.fire;this._ctx={table:xe,index:Se.index,isPrimKey:!Se.index||xe.schema.primKey.keyPath&&Se.index===xe.schema.primKey.name,range:de,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ye,or:Se.or,valueMapper:ke!==ct?ke:null}})),this.Table=(K=this,La(bd.prototype,function(oe,Ce,de){this.db=K,this._tx=de,this.name=oe,this.schema=Ce,this.hook=K._allTables[oe]?K._allTables[oe].hook:Us(null,{creating:[be,Je],reading:[B,ct],updating:[G,Je],deleting:[ee,Je]})})),this.Transaction=(re=this,La(To.prototype,function(oe,Ce,de,ye,Se){var xe=this;oe!=="readonly"&&Ce.forEach(function(ke){ke=(ke=de[ke])===null||ke===void 0?void 0:ke.yProps,ke&&(Ce=Ce.concat(ke.map(function(Pe){return Pe.updatesTable})))}),this.db=re,this.mode=oe,this.storeNames=Ce,this.schema=de,this.chromeTransactionDurability=ye,this.idbtrans=null,this.on=Us(this,"complete","error","abort"),this.parent=Se||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Qe(function(ke,Pe){xe._resolve=ke,xe._reject=Pe}),this._completion.then(function(){xe.active=!1,xe.on.complete.fire()},function(ke){var Pe=xe.active;return xe.active=!1,xe.on.error.fire(ke),xe.parent?xe.parent._reject(ke):Pe&&xe.idbtrans&&xe.idbtrans.abort(),gn(ke)})})),this.Version=(ie=this,La(S0.prototype,function(oe){this.db=ie,this._cfg={version:oe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(fe=this,La(pu.prototype,function(oe,Ce,de){if(this.db=fe,this._ctx={table:oe,index:Ce===":id"?null:Ce,or:de},this._cmp=this._ascending=Ht,this._descending=function(ye,Se){return Ht(Se,ye)},this._max=function(ye,Se){return 0<Ht(ye,Se)?ye:Se},this._min=function(ye,Se){return Ht(ye,Se)<0?ye:Se},this._IDBKeyRange=fe._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(oe){0<oe.newVersion?console.warn("Another connection wants to upgrade database '".concat(D.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(D.name,"'. Closing db now to resume the delete request.")),D.close({disableAutoOpen:!1})}),this.on("blocked",function(oe){!oe.newVersion||oe.newVersion<oe.oldVersion?console.warn("Dexie.delete('".concat(D.name,"') was blocked")):console.warn("Upgrade '".concat(D.name,"' blocked by other connection holding version ").concat(oe.oldVersion/10))}),this._maxKey=ns(C.IDBKeyRange),this._createTransaction=function(oe,Ce,de,ye){return new D.Transaction(oe,Ce,de,D._options.chromeTransactionDurability,ye)},this._fireOnBlocked=function(oe){D.on("blocked").fire(oe),$s.filter(function(Ce){return Ce.name===D.name&&Ce!==D&&!Ce._state.vcFired}).map(function(Ce){return Ce.on("versionchange").fire(oe)})},this.use(om),this.use(k0),this.use(C0),this.use(hc),this.use(im);var we=new Proxy(this,{get:function(oe,Ce,de){if(Ce==="_vip")return!0;if(Ce==="table")return function(Se){return Gs(D.table(Se),we)};var ye=Reflect.get(oe,Ce,de);return ye instanceof bd?Gs(ye,we):Ce==="tables"?ye.map(function(Se){return Gs(Se,we)}):Ce==="_createTransaction"?function(){return Gs(ye.apply(this,arguments),we)}:ye}});this.vip=we,z.forEach(function(oe){return oe(D)})}var Za,ei=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",am=(Eu.prototype.subscribe=function(w,C,D){return this._subscribe(w&&typeof w!="function"?w:{next:w,error:C,complete:D})},Eu.prototype[ei]=function(){return this},Eu);function Eu(w){this._subscribe=w}try{Za={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Za={indexedDB:null,IDBKeyRange:null}}function Ud(w){var C,D=!1,z=new am(function(F){var K=$(w),re,ie=!1,fe={},ve={},we={get closed(){return ie},unsubscribe:function(){ie||(ie=!0,re&&re.abort(),oe&&yi.storagemutated.unsubscribe(de))}};F.start&&F.start(we);var oe=!1,Ce=function(){return es(ye)},de=function(Se){dc(fe,Se),Rd(ve,fe)&&Ce()},ye=function(){var Se,xe,ke;!ie&&Za.indexedDB&&(fe={},Se={},re&&re.abort(),re=new AbortController,ke=(function(Pe){var Be=Go();try{K&&cr();var Ie=Tn(w,Pe);return Ie=K?Ie.finally(di):Ie}finally{Be&&eo()}})(xe={subscr:Se,signal:re.signal,requery:Ce,querier:w,trans:null}),Promise.resolve(ke).then(function(Pe){D=!0,C=Pe,ie||xe.signal.aborted||(fe={},(function(Be){for(var Ie in Be)if(p(Be,Ie))return;return 1})(ve=Se)||oe||(yi(Ks,de),oe=!0),es(function(){return!ie&&F.next&&F.next(Pe)}))},function(Pe){D=!1,["DatabaseClosedError","AbortError"].includes(Pe?.name)||ie||es(function(){ie||F.error&&F.error(Pe)})}))};return setTimeout(Ce,0),we});return z.hasValue=function(){return D},z.getValue=function(){return C},z}var Qs=no;function Hd(w){var C=is;try{is=!0,yi.storagemutated.fire(w),jd(w,!0)}finally{is=C}}g(Qs,r(r({},Ye),{delete:function(w){return new Qs(w,{addons:[]}).delete()},exists:function(w){return new Qs(w,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(w){try{return C=Qs.dependencies,D=C.indexedDB,C=C.IDBKeyRange,(Td(D)?Promise.resolve(D.databases()).then(function(z){return z.map(function(F){return F.name}).filter(function(F){return F!==ic})}):Od(D,C).toCollection().primaryKeys()).then(w)}catch{return gn(new Ae.MissingAPI)}var C,D},defineClass:function(){return function(w){u(this,w)}},ignoreTransaction:function(w){return nt.trans?ji(nt.transless,w):w()},vip:xu,async:function(w){return function(){try{var C=zd(w.apply(this,arguments));return C&&typeof C.then=="function"?C:Qe.resolve(C)}catch(D){return gn(D)}}},spawn:function(w,C,D){try{var z=zd(w.apply(D,C||[]));return z&&typeof z.then=="function"?z:Qe.resolve(z)}catch(F){return gn(F)}},currentTransaction:{get:function(){return nt.trans||null}},waitFor:function(w,C){return C=Qe.resolve(typeof w=="function"?Qs.ignoreTransaction(w):w).timeout(C||6e4),nt.trans?nt.trans.waitFor(C):C},Promise:Qe,debug:{get:function(){return Me},set:function(w){pe(w)}},derive:y,extend:u,props:g,override:O,Events:Us,on:yi,liveQuery:Ud,extendObservabilitySet:dc,getByKeyPath:N,setByKeyPath:j,delByKeyPath:function(w,C){typeof C=="string"?j(w,C,void 0):"length"in C&&[].map.call(C,function(D){j(w,D,void 0)})},shallowClone:U,deepClone:Y,getObjectDiff:Pd,cmp:Ht,asap:R,minKey:-1/0,addons:[],connections:$s,errnames:We,dependencies:Za,cache:Zs,semVer:"4.2.0",version:"4.2.0".split(".").map(function(w){return parseInt(w)}).reduce(function(w,C,D){return w+C/Math.pow(10,2*D)})})),Qs.maxKey=ns(Qs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yi(Ks,function(w){is||(w=new CustomEvent(mu,{detail:w}),is=!0,dispatchEvent(w),is=!1)}),addEventListener(mu,function(w){w=w.detail,is||Hd(w)}));var Xa,is=!1,lm=function(){};return typeof BroadcastChannel<"u"&&((lm=function(){(Xa=new BroadcastChannel(mu)).onmessage=function(w){return w.data&&Hd(w.data)}})(),typeof Xa.unref=="function"&&Xa.unref(),yi(Ks,function(w){is||Xa.postMessage(w)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(w){if(!no.disableBfCache&&w.persisted){Me&&console.debug("Dexie: handling persisted pagehide"),Xa?.close();for(var C=0,D=$s;C<D.length;C++)D[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(w){!no.disableBfCache&&w.persisted&&(Me&&console.debug("Dexie: handling persisted pageshow"),lm(),Hd({all:new Rr(-1/0,[[]])}))})),Qe.rejectionMapper=function(w,C){return!w||w instanceof se||w instanceof TypeError||w instanceof SyntaxError||!w.name||!ht[w.name]?w:(C=new ht[w.name](C||w.message,w),"stack"in w&&b(C,"stack",{get:function(){return this.inner.stack}}),C)},pe(Me),r(no,Object.freeze({__proto__:null,Dexie:no,liveQuery:Ud,Entity:Gp,cmp:Ht,PropModification:$a,replacePrefix:function(w,C){return new $a({replacePrefix:[w,C]})},add:function(w){return new $a({add:w})},remove:function(w){return new $a({remove:w})},default:no,RangeSet:Rr,mergeRanges:fc,rangesOverlap:Su}),{default:no}),no})})(tv)),tv.exports}var OV=AV();const Qw=eu(OV),P3=Symbol.for("Dexie"),jf=globalThis[P3]||(globalThis[P3]=Qw);if(Qw.semVer!==jf.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Qw.semVer} and ${jf.semVer}`);const{liveQuery:jp,mergeRanges:tue,rangesOverlap:nue,RangeSet:rue,cmp:iue,Entity:oue,PropModification:sue,replacePrefix:aue,add:lue,remove:cue,DexieYProvider:uue}=jf,et=new jf("DexieDB");et.version(1).stores({notes:"id, txt, created_at, updated_at, version, state, deleted_at"});et.version(2).stores({notes:"id, created_at, updated_at, version, state, deleted_at, type"}).upgrade(t=>t.table("notes").toCollection().modify(e=>{e.type="note"}));et.version(3).stores({notes:"id, created_at, updated_at, version, state, deleted_at, type"}).upgrade(t=>t.table("notes").toCollection().modify(e=>{e.title=""}));et.version(4).stores({note_base_versions:"id"}).upgrade(async t=>{const e=await t.table("notes").where("state").equals("synced").toArray();await t.table("note_base_versions").bulkAdd(e)});et.version(5).stores({labels:"id, deleted_at, state"});et.version(6).stores({notes:"id, created_at, updated_at, version, state, deleted_at, type, archived"}).upgrade(t=>t.table("notes").toCollection().modify(e=>{e.archived=0}));et.version(7).stores({files_meta:"id, created_at, updated_at, deleted_at, state, ext, mime, archived, has_thumb, size, blob_state",files_blob:"id",files_thumb:"id"});const TV=jp(()=>et.notes.where("state").equals("dirty").first().then(t=>t!==void 0)),DV=jp(()=>et.labels.where("deleted_at").equals(0).toArray()),RV=jp(()=>et.labels.where("state").equals("dirty").first().then(t=>t!==void 0)),MV=jp(()=>et.files_meta.where("state").equals("dirty").first().then(t=>t!==void 0)),NV=jp(()=>et.files_meta.where("state").equals("synced").and(t=>t.blob_state!=="synced").first().then(t=>t!==void 0)),jV={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},jR={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Wn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},mi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},wl={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Ve{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=Ve.getVersionPrecision(e),o=Ve.getVersionPrecision(n);let s=Math.max(i,o),l=0;const u=Ve.map([e,n],f=>{const h=s-Ve.getVersionPrecision(f),p=f+new Array(h+1).join(".0");return Ve.map(p.split("."),g=>new Array(20-g.length).join("0")+g).reverse()});for(r&&(l=s-Math.min(i,o)),s-=1;s>=l;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===l)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const o=e[r];if(n(o,r))return o}}static assign(e,...n){const r=e;let i,o;if(Object.assign)return Object.assign(e,...n);for(i=0,o=n.length;i<o;i+=1){const s=n[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(u=>{r[u]=s[u]})}return e}static getBrowserAlias(e){return jV[e]}static getBrowserTypeByAlias(e){return jR[e]||""}}const wn=/version\/(\d+(\.?_?\d+)+)/i,zV=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=Ve.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=Ve.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/PaleMoon/i],describe(t){const e={name:"Pale Moon"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=Ve.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=Ve.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=Ve.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=Ve.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=Ve.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=Ve.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=Ve.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=Ve.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=Ve.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=Ve.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=Ve.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=Ve.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=Ve.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=Ve.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=Ve.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=Ve.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=Ve.getFirstMatch(wn,t)||Ve.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=Ve.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=Ve.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=Ve.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=Ve.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=Ve.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=Ve.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=Ve.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=Ve.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=Ve.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=Ve.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:Ve.getFirstMatch(i,t),version:Ve.getSecondMatch(i,t)}}}],PV=[{test:[/Roku\/DVP/],describe(t){const e=Ve.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:mi.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Ve.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:mi.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Ve.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=Ve.getWindowsVersionName(e);return{name:mi.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:mi.iOS},n=Ve.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=Ve.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=Ve.getMacOSVersionName(e),r={name:mi.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Ve.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:mi.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=Ve.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=Ve.getAndroidVersionName(e),r={name:mi.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Ve.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:mi.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Ve.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Ve.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Ve.getFirstMatch(/\bbb(\d+)/i,t);return{name:mi.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Ve.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:mi.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Ve.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:mi.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:mi.Linux}}},{test:[/CrOS/],describe(){return{name:mi.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Ve.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:mi.PlayStation4,version:e}}}],LV=[{test:[/googlebot/i],describe(){return{type:Wn.bot,vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Ve.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Wn.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Wn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Wn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Wn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Wn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Wn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Wn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=Ve.getFirstMatch(/(ipod|iphone)/i,t);return{type:Wn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Wn.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe(t){const e=Ve.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,t),n={type:Wn.mobile,vendor:"Nokia"};return e&&(n.model=e),n}},{test:[/[^-]mobi/i],describe(){return{type:Wn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Wn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Wn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Wn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Wn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Wn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Wn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Wn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Wn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Wn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Wn.tv}}}],BV=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:wl.Blink};const n=Ve.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:wl.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:wl.Trident},n=Ve.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:wl.Presto},n=Ve.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:wl.Gecko},n=Ve.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:wl.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:wl.WebKit},n=Ve.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];let L3=class{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Ve.find(zV,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Ve.find(PV,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=Ve.find(LV,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Ve.find(BV,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ve.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let o=0;if(Object.keys(e).forEach(l=>{const u=e[l];typeof u=="string"?(i[l]=u,o+=1):typeof u=="object"&&(n[l]=u,r+=1)}),r>0){const l=Object.keys(n),u=Ve.find(l,h=>this.isOS(h));if(u){const h=this.satisfies(n[u]);if(h!==void 0)return h}const f=Ve.find(l,h=>this.isPlatform(h));if(f){const h=this.satisfies(n[f]);if(h!==void 0)return h}}if(o>0){const l=Object.keys(i),u=Ve.find(l,f=>this.isBrowser(f,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=Ve.getBrowserTypeByAlias(i);return n&&o&&(i=o.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(Ve.compareVersions(o,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class IV{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new L3(e,n)}static parse(e){return new L3(e).getResult()}static get BROWSER_MAP(){return jR}static get ENGINE_MAP(){return wl}static get OS_MAP(){return mi}static get PLATFORMS_MAP(){return Wn}}const Qy=IV.getParser(window.navigator.userAgent),$V=()=>Qy.getOSName(!0)==="android",FV=()=>Qy.getOSName(!0)==="ios",nv=()=>Qy.getPlatformType(!0)==="desktop",UV=()=>Qy.getOSName(!0)==="macos",bg=new TextEncoder,cp=new TextDecoder;function HV(...t){const e=t.reduce((i,{length:o})=>i+o,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function zR(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(t);const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function rv(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof t=="string"?t:cp.decode(t),{alphabet:"base64url"});let e=t;e instanceof Uint8Array&&(e=cp.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return zR(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}class lu extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,n){super(e,n),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class us extends lu{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.claim=r,this.reason=i,this.payload=n}}class B3 extends lu{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.claim=r,this.reason=i,this.payload=n}}class qV extends lu{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class pa extends lu{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class qr extends lu{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class PR extends lu{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class KV extends lu{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",n){super(e,n)}}function fs(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function nf(t,e){return t.name===e}function L1(t){return parseInt(t.name.slice(4),10)}function VV(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function WV(t,e){if(!t.usages.includes(e))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${e}.`)}function YV(t,e,n){switch(e){case"HS256":case"HS384":case"HS512":{if(!nf(t.algorithm,"HMAC"))throw fs("HMAC");const r=parseInt(e.slice(2),10);if(L1(t.algorithm.hash)!==r)throw fs(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!nf(t.algorithm,"RSASSA-PKCS1-v1_5"))throw fs("RSASSA-PKCS1-v1_5");const r=parseInt(e.slice(2),10);if(L1(t.algorithm.hash)!==r)throw fs(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!nf(t.algorithm,"RSA-PSS"))throw fs("RSA-PSS");const r=parseInt(e.slice(2),10);if(L1(t.algorithm.hash)!==r)throw fs(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!nf(t.algorithm,"Ed25519"))throw fs("Ed25519");break}case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":{if(!nf(t.algorithm,e))throw fs(e);break}case"ES256":case"ES384":case"ES512":{if(!nf(t.algorithm,"ECDSA"))throw fs("ECDSA");const r=VV(e);if(t.algorithm.namedCurve!==r)throw fs(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}WV(t,n)}function LR(t,e,...n){if(n=n.filter(Boolean),n.length>2){const r=n.pop();t+=`one of type ${n.join(", ")}, or ${r}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor?.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const ZV=(t,...e)=>LR("Key must be ",t,...e);function BR(t,e,...n){return LR(`Key for the ${t} algorithm must be `,e,...n)}function IR(t){return t?.[Symbol.toStringTag]==="CryptoKey"}function $R(t){return t?.[Symbol.toStringTag]==="KeyObject"}const FR=t=>IR(t)||$R(t),XV=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const r of e){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const o of i){if(n.has(o))return!1;n.add(o)}}return!0};function GV(t){return typeof t=="object"&&t!==null}const Mv=t=>{if(!GV(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},QV=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},B1=(t,e)=>{if(t.byteLength!==e.length)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},JV=t=>({data:t,pos:0}),Nv=t=>{const e=t.data[t.pos++];if(e&128){const n=e&127;let r=0;for(let i=0;i<n;i++)r=r<<8|t.data[t.pos++];return r}return e},jv=(t,e,n)=>{if(t.data[t.pos++]!==e)throw new Error(n)},UR=(t,e)=>{const n=t.data.subarray(t.pos,t.pos+e);return t.pos+=e,n},eW=t=>{jv(t,6,"Expected algorithm OID");const e=Nv(t);return UR(t,e)};function tW(t){jv(t,48,"Invalid SPKI structure"),Nv(t),jv(t,48,"Expected algorithm identifier");const e=Nv(t);return{algIdStart:t.pos,algIdLength:e}}const nW=t=>{const e=eW(t);if(B1(e,[43,101,110]))return"X25519";if(!B1(e,[42,134,72,206,61,2,1]))throw new Error("Unsupported key algorithm");jv(t,6,"Expected curve OID");const n=Nv(t),r=UR(t,n);for(const{name:i,oid:o}of[{name:"P-256",oid:[42,134,72,206,61,3,1,7]},{name:"P-384",oid:[43,129,4,0,34]},{name:"P-521",oid:[43,129,4,0,35]}])if(B1(r,o))return i;throw new Error("Unsupported named curve")},rW=async(t,e,n,r)=>{let i,o;const s=()=>["verify"],l=()=>["encrypt","wrapKey"];switch(n){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},o=s();break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},o=s();break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},o=l();break;case"ES256":case"ES384":case"ES512":{i={name:"ECDSA",namedCurve:{ES256:"P-256",ES384:"P-384",ES512:"P-521"}[n]},o=s();break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{try{const u=r.getNamedCurve(e);i=u==="X25519"?{name:"X25519"}:{name:"ECDH",namedCurve:u}}catch{throw new pa("Invalid or unsupported key format")}o=[];break}case"Ed25519":case"EdDSA":i={name:"Ed25519"},o=s();break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":i={name:n},o=s();break;default:throw new pa('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(t,e,i,r?.extractable??!0,o)},iW=(t,e)=>zR(t.replace(e,"")),oW=(t,e,n)=>{const r=iW(t,/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g);let i=n;return e?.startsWith?.("ECDH-ES")&&(i||={},i.getNamedCurve=o=>{const s=JV(o);return tW(s),nW(s)}),rW("spki",r,e,i)};function sW(t){let e,n;switch(t.kty){case"AKP":{switch(t.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":e={name:t.alg},n=t.priv?["sign"]:["verify"];break;default:throw new pa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new pa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new pa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"Ed25519":case"EdDSA":e={name:"Ed25519"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new pa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new pa('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const aW=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=sW(t),r={...t};return r.kty!=="AKP"&&delete r.alg,delete r.use,crypto.subtle.importKey("jwk",r,e,t.ext??!(t.d||t.priv),t.key_ops??n)};async function lW(t,e,n){if(t.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return oW(t,e,n)}const cW=(t,e,n,r,i)=>{if(i.crit!==void 0&&r?.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;n!==void 0?o=new Map([...Object.entries(n),...e.entries()]):o=e;for(const s of r.crit){if(!o.has(s))throw new pa(`Extension Header Parameter "${s}" is not recognized`);if(i[s]===void 0)throw new t(`Extension Header Parameter "${s}" is missing`);if(o.get(s)&&r[s]===void 0)throw new t(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)},uW=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(n=>typeof n!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)};function J2(t){return Mv(t)&&typeof t.kty=="string"}function fW(t){return t.kty!=="oct"&&(t.kty==="AKP"&&typeof t.priv=="string"||typeof t.d=="string")}function dW(t){return t.kty!=="oct"&&typeof t.d>"u"&&typeof t.priv>"u"}function hW(t){return t.kty==="oct"&&typeof t.k=="string"}let bf;const I3=async(t,e,n,r=!1)=>{bf||=new WeakMap;let i=bf.get(t);if(i?.[n])return i[n];const o=await aW({...e,alg:n});return r&&Object.freeze(t),i?i[n]=o:bf.set(t,{[n]:o}),o},pW=(t,e)=>{bf||=new WeakMap;let n=bf.get(t);if(n?.[e])return n[e];const r=t.type==="public",i=!!r;let o;if(t.asymmetricKeyType==="x25519"){switch(e){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}o=t.toCryptoKey(t.asymmetricKeyType,i,r?[]:["deriveBits"])}if(t.asymmetricKeyType==="ed25519"){if(e!=="EdDSA"&&e!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");o=t.toCryptoKey(t.asymmetricKeyType,i,[r?"verify":"sign"])}switch(t.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if(e!==t.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");o=t.toCryptoKey(t.asymmetricKeyType,i,[r?"verify":"sign"])}}if(t.asymmetricKeyType==="rsa"){let s;switch(e){case"RSA-OAEP":s="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":s="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":s="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":s="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(e.startsWith("RSA-OAEP"))return t.toCryptoKey({name:"RSA-OAEP",hash:s},i,r?["encrypt"]:["decrypt"]);o=t.toCryptoKey({name:e.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:s},i,[r?"verify":"sign"])}if(t.asymmetricKeyType==="ec"){const l=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(t.asymmetricKeyDetails?.namedCurve);if(!l)throw new TypeError("given KeyObject instance cannot be used for this algorithm");e==="ES256"&&l==="P-256"&&(o=t.toCryptoKey({name:"ECDSA",namedCurve:l},i,[r?"verify":"sign"])),e==="ES384"&&l==="P-384"&&(o=t.toCryptoKey({name:"ECDSA",namedCurve:l},i,[r?"verify":"sign"])),e==="ES512"&&l==="P-521"&&(o=t.toCryptoKey({name:"ECDSA",namedCurve:l},i,[r?"verify":"sign"])),e.startsWith("ECDH-ES")&&(o=t.toCryptoKey({name:"ECDH",namedCurve:l},i,r?[]:["deriveBits"]))}if(!o)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[e]=o:bf.set(t,{[e]:o}),o},mW=async(t,e)=>{if(t instanceof Uint8Array||IR(t))return t;if($R(t)){if(t.type==="secret")return t.export();if("toCryptoKey"in t&&typeof t.toCryptoKey=="function")try{return pW(t,e)}catch(r){if(r instanceof TypeError)throw r}let n=t.export({format:"jwk"});return I3(t,n,e)}if(J2(t))return t.k?rv(t.k):I3(t,t,e,!0);throw new Error("unreachable")},lf=t=>t?.[Symbol.toStringTag],Jw=(t,e,n)=>{if(e.use!==void 0){let r;switch(n){case"sign":case"verify":r="sig";break;case"encrypt":case"decrypt":r="enc";break}if(e.use!==r)throw new TypeError(`Invalid key for this operation, its "use" must be "${r}" when present`)}if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, its "alg" must be "${t}" when present`);if(Array.isArray(e.key_ops)){let r;switch(!0){case n==="verify":case t==="dir":case t.includes("CBC-HS"):r=n;break;case t.startsWith("PBES2"):r="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(t):!t.includes("GCM")&&t.endsWith("KW")?r="unwrapKey":r=n;break;case n==="encrypt":r="wrapKey";break;case n==="decrypt":r=t.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(r&&e.key_ops?.includes?.(r)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${r}" when present`)}return!0},gW=(t,e,n)=>{if(!(e instanceof Uint8Array)){if(J2(e)){if(hW(e)&&Jw(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!FR(e))throw new TypeError(BR(t,e,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(e.type!=="secret")throw new TypeError(`${lf(e)} instances for symmetric algorithms must be of type "secret"`)}},vW=(t,e,n)=>{if(J2(e))switch(n){case"decrypt":case"sign":if(fW(e)&&Jw(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(dW(e)&&Jw(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!FR(e))throw new TypeError(BR(t,e,"CryptoKey","KeyObject","JSON Web Key"));if(e.type==="secret")throw new TypeError(`${lf(e)} instances for asymmetric algorithms must not be of type "secret"`);if(e.type==="public")switch(n){case"sign":throw new TypeError(`${lf(e)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${lf(e)} instances for asymmetric algorithm decryption must be of type "private"`)}if(e.type==="private")switch(n){case"verify":throw new TypeError(`${lf(e)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${lf(e)} instances for asymmetric algorithm encryption must be of type "public"`)}},yW=(t,e,n)=>{t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(t)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(t)?gW(t,e,n):vW(t,e,n)},bW=(t,e)=>{const n=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:parseInt(t.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:e.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:t};default:throw new pa(`alg ${t} is not supported either by JOSE or your javascript runtime`)}},wW=async(t,e,n)=>{if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(ZV(e,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[n])}return YV(e,t,n),e},xW=async(t,e,n,r)=>{const i=await wW(t,e,"verify");QV(t,i);const o=bW(t,i.algorithm);try{return await crypto.subtle.verify(o,i,n,r)}catch{return!1}};async function SW(t,e,n){if(!Mv(t))throw new qr("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new qr('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new qr("JWS Protected Header incorrect type");if(t.payload===void 0)throw new qr("JWS Payload missing");if(typeof t.signature!="string")throw new qr("JWS Signature missing or incorrect type");if(t.header!==void 0&&!Mv(t.header))throw new qr("JWS Unprotected Header incorrect type");let r={};if(t.protected)try{const _=rv(t.protected);r=JSON.parse(cp.decode(_))}catch{throw new qr("JWS Protected Header is invalid")}if(!XV(r,t.header))throw new qr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...t.header},o=cW(qr,new Map([["b64",!0]]),n?.crit,r,i);let s=!0;if(o.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new qr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:l}=i;if(typeof l!="string"||!l)throw new qr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const u=n&&uW("algorithms",n.algorithms);if(u&&!u.has(l))throw new qV('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof t.payload!="string")throw new qr("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new qr("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof e=="function"&&(e=await e(r,t),f=!0),yW(l,e,"verify");const h=HV(bg.encode(t.protected??""),bg.encode("."),typeof t.payload=="string"?bg.encode(t.payload):t.payload);let p;try{p=rv(t.signature)}catch{throw new qr("Failed to base64url decode the signature")}const g=await mW(e,l);if(!await xW(l,g,p,h))throw new KV;let b;if(s)try{b=rv(t.payload)}catch{throw new qr("Failed to base64url decode the payload")}else typeof t.payload=="string"?b=bg.encode(t.payload):b=t.payload;const y={payload:b};return t.protected!==void 0&&(y.protectedHeader=r),t.header!==void 0&&(y.unprotectedHeader=t.header),f?{...y,key:g}:y}async function _W(t,e,n){if(t instanceof Uint8Array&&(t=cp.decode(t)),typeof t!="string")throw new qr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:o,length:s}=t.split(".");if(s!==3)throw new qr("Invalid Compact JWS");const l=await SW({payload:i,protected:r,signature:o},e,n),u={payload:l.payload,protectedHeader:l.protectedHeader};return typeof e=="function"?{...u,key:l.key}:u}const CW=t=>Math.floor(t.getTime()/1e3),HR=60,qR=HR*60,e_=qR*24,kW=e_*7,EW=e_*365.25,AW=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,$3=t=>{const e=AW.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),r=e[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*HR);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*qR);break;case"day":case"days":case"d":i=Math.round(n*e_);break;case"week":case"weeks":case"w":i=Math.round(n*kW);break;default:i=Math.round(n*EW);break}return e[1]==="-"||e[4]==="ago"?-i:i},F3=t=>t.includes("/")?t.toLowerCase():`application/${t.toLowerCase()}`,OW=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1;function TW(t,e,n={}){let r;try{r=JSON.parse(cp.decode(e))}catch{}if(!Mv(r))throw new PR("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof t.typ!="string"||F3(t.typ)!==F3(i)))throw new us('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:o=[],issuer:s,subject:l,audience:u,maxTokenAge:f}=n,h=[...o];f!==void 0&&h.push("iat"),u!==void 0&&h.push("aud"),l!==void 0&&h.push("sub"),s!==void 0&&h.push("iss");for(const b of new Set(h.reverse()))if(!(b in r))throw new us(`missing required "${b}" claim`,r,b,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(r.iss))throw new us('unexpected "iss" claim value',r,"iss","check_failed");if(l&&r.sub!==l)throw new us('unexpected "sub" claim value',r,"sub","check_failed");if(u&&!OW(r.aud,typeof u=="string"?[u]:u))throw new us('unexpected "aud" claim value',r,"aud","check_failed");let p;switch(typeof n.clockTolerance){case"string":p=$3(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:g}=n,v=CW(g||new Date);if((r.iat!==void 0||f)&&typeof r.iat!="number")throw new us('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new us('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>v+p)throw new us('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new us('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=v-p)throw new B3('"exp" claim timestamp check failed',r,"exp","check_failed")}if(f){const b=v-r.iat,y=typeof f=="number"?f:$3(f);if(b-p>y)throw new B3('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(b<0-p)throw new us('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r}async function DW(t,e,n){const r=await _W(t,e,n);if(r.protectedHeader.crit?.includes("b64")&&r.protectedHeader.b64===!1)throw new PR("JWTs MUST NOT use unencoded payload");const o={payload:TW(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof e=="function"?{...o,key:r.key}:o}const RW=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwxkVRxYtPeU+/3XS4rki
gzLTLdJ1paOcKiN3e/uBvcwwCRVrOeLgMFoq0fmEAH20F3jDDxy4tT1z678QOAby
EBqtJAR6OfapKEIaHvhAp/A6IBQ3z51rb6MNxLlX27x86lxvOOFcOeC9n8NxHcyk
8h/XZVFlu90/2qv5l185AMGtZ1si43/689t7gSY/9JdMdL7Pnp5KIFcSAZ0GH//A
XCLPTCnx4G7oBTqTifBeBGZ4DrlpQDIpJRdr2DFdSs+I0lURyktlSPLnn3dt7tF1
usx2P7lqUHwCjHjP04gLgrU7rPBOVRX1+hxhAs6f+JutzPXycfo7J6xBzdgqU1Wv
fwIDAQAB
-----END PUBLIC KEY-----
`;let I1=null;async function MW(){return I1||(I1=await lW(RW,"RS256")),I1}async function NW(t){const e=await MW(),{payload:n}=await DW(t,e,{clockTolerance:"30s"});return n}function jW(t,e){let n={};for(let o=0;o<e.length;o++){const s=e[o];n[s]?n[s].push(o):n[s]=[o]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let o=0;o<t.length;o++){const s=t[o],l=n[s]||[];let u=0,f=i[0];for(let h=0;h<l.length;h++){const p=l[h];let g;for(g=u;g<i.length&&!(i[g].buffer2index<p&&(g===i.length-1||i[g+1].buffer2index>p));g++);if(g<i.length){const v={buffer1index:o,buffer2index:p,chain:i[g]};if(u===i.length?i.push(f):i[u]=f,u=g+1,f=v,u===i.length)break}}i[u]=f}return i[i.length-1]}function U3(t,e){const n=jW(t,e);let r=[],i=t.length,o=e.length;for(let s=n;s!==null;s=s.chain){const l=i-s.buffer1index-1,u=o-s.buffer2index-1;i=s.buffer1index,o=s.buffer2index,(l||u)&&r.push({buffer1:[i+1,l],buffer1Content:t.slice(i+1,i+1+l),buffer2:[o+1,u],buffer2Content:e.slice(o+1,o+1+u)})}return r.reverse(),r}function zW(t,e,n){let r=[];function i(u,f){r.push({ab:f,oStart:u.buffer1[0],oLength:u.buffer1[1],abStart:u.buffer2[0],abLength:u.buffer2[1]})}U3(e,t).forEach(u=>i(u,"a")),U3(e,n).forEach(u=>i(u,"b")),r.sort((u,f)=>u.oStart-f.oStart);let o=[],s=0;function l(u){u>s&&(o.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:u-s,bufferContent:e.slice(s,u)}),s=u)}for(;r.length;){let u=r.shift(),f=u.oStart,h=u.oStart+u.oLength,p=[u];for(l(f);r.length;){const g=r[0],v=g.oStart;if(v>h)break;h=Math.max(h,v+g.oLength),p.push(r.shift())}if(p.length===1){if(u.abLength>0){const g=u.ab==="a"?t:n;o.push({stable:!0,buffer:u.ab,bufferStart:u.abStart,bufferLength:u.abLength,bufferContent:g.slice(u.abStart,u.abStart+u.abLength)})}}else{let g={a:[t.length,-1,e.length,-1],b:[n.length,-1,e.length,-1]};for(;p.length;){u=p.shift();const A=u.oStart,O=A+u.oLength,T=u.abStart,R=T+u.abLength;let N=g[u.ab];N[0]=Math.min(T,N[0]),N[1]=Math.max(R,N[1]),N[2]=Math.min(A,N[2]),N[3]=Math.max(O,N[3])}const v=g.a[0]+(f-g.a[2]),b=g.a[1]+(h-g.a[3]),y=g.b[0]+(f-g.b[2]),_=g.b[1]+(h-g.b[3]);let E={stable:!1,aStart:v,aLength:b-v,aContent:t.slice(v,b),oStart:f,oLength:h-f,oContent:e.slice(f,h),bStart:y,bLength:_-y,bContent:n.slice(y,_)};o.push(E)}s=h}return l(e.length),o}function PW(t,e,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r),typeof t=="string"&&(t=t.split(r.stringSeparator)),typeof e=="string"&&(e=e.split(r.stringSeparator)),typeof n=="string"&&(n=n.split(r.stringSeparator));let o=[];const s=zW(t,e,n);let l=[];function u(){l.length&&o.push({ok:l}),l=[]}function f(h,p){if(h.length!==p.length)return!1;for(let g=0;g<h.length;g++)if(h[g]!==p[g])return!1;return!0}return s.forEach(h=>{h.stable?l.push(...h.bufferContent):r.excludeFalseConflicts&&f(h.aContent,h.bContent)?l.push(...h.aContent):(u(),o.push({conflict:{a:h.aContent,aIndex:h.aStart,o:h.oContent,oIndex:h.oStart,b:h.bContent,bIndex:h.bStart}}))}),u(),o}function LW(t,e){const n=t.length,r=e.length,i=Array.from({length:n+1},()=>Array(r+1).fill(0));for(let u=1;u<=n;u++)for(let f=1;f<=r;f++)t[u-1]===e[f-1]?i[u][f]=i[u-1][f-1]+1:i[u][f]=Math.max(i[u-1][f],i[u][f-1]);const o=[];let s=n,l=r;for(;s>0&&l>0;)t[s-1]===e[l-1]?(o.unshift(t[s-1]),s--,l--):i[s-1][l]>i[s][l-1]?s--:l--;return o}function BW(t,e,n){let r=t?.split(`
`)??[];const i=e.split(`
`),o=n.split(`
`);return t===null&&(r=LW(i,o)),PW(i,r,o).flatMap(l=>l.ok?l.ok:l.conflict?["<<<<<<< LOCAL",...l.conflict.a,"=======",...l.conflict.b,">>>>>>> SERVER"]:[]).join(`
`)}const zv=(t,e)=>{const n=t.safeParse(JK(e));return n.success?n.data:void 0},Ic={fontFamily:"'Cascadia Code', Monaco, Consolas, monospace",fontWeight:UV()?"500":"400",fontSize:"var(--mantine-font-size-sm)"},IW=/^\s*$/,$W=/^( {2,})?- \[([x ])\] (.*)$/,FW=t=>{const e=t.split(`
`).filter(i=>!IW.test(i)),n=[];let r;for(let i=0;i<e.length;i++){const o=e[i],s=$W.exec(o);let l;if(s){const u=!!s[1],f=s[2]==="x",h=s[3]??"",p=u?r:void 0,g=crypto.randomUUID();l={txt:h,done:f,id:g,updated_at:Date.now(),parent:p},u||(r=l.id)}else{const u=o.startsWith("  ");l={txt:o.trim(),done:!1,id:crypto.randomUUID(),updated_at:Date.now(),parent:u?r:void 0},u||(r=l.id)}n.push(l)}return n.length===0?[{txt:"",done:!1,id:crypto.randomUUID(),updated_at:Date.now()}]:n},KR=t=>t.map(e=>`${e.parent?"   ":""}- [${e.done?"x":" "}] ${e.txt}`).join(`
`),H3=t=>{const{id:e,created_at:n,updated_at:r,version:i,deleted_at:o,type:s,txt:l}=t;if(s!=="label")throw new Error("Put is not a label");if(l===null)return{id:e,created_at:n,updated_at:r,version:i,deleted_at:o??0,state:"synced",name:"",hue:null};{const{name:u,hue:f}=zv(ZK,t.txt)??{name:t.txt,hue:null};return{id:e,created_at:n,updated_at:r,version:i,deleted_at:o??0,state:"synced",name:u,hue:f}}},q3=t=>{const{id:e,created_at:n,updated_at:r,version:i,deleted_at:o,type:s,txt:l}=t,u={id:e,created_at:n,updated_at:r,version:i,deleted_at:o??0,state:"synced",title:"",archived:0};if(l===null&&s==="note")return{...u,type:"note",txt:""};if(l===null&&s==="todo")return{...u,type:"todo",todos:[]};if(typeof l=="string"&&s==="note"){const{title:f,txt:h,labels:p,archived:g}=zv(WK,t.txt)??{title:"",txt:t.txt,archived:!1};return{...u,type:"note",txt:h,title:f,labels:p,archived:g?1:0}}else if(typeof l=="string"&&s==="todo"){const{title:f,todos:h,labels:p,archived:g}=zv(YK,t.txt)??{title:"",todos:t.txt?[{done:!1,txt:t.txt,id:crypto.randomUUID(),updated_at:Date.now()}]:[],archived:!1};return{...u,type:"todo",todos:h,title:f,labels:p,archived:g?1:0}}else throw new Error("put is not a note")},K3=t=>{if(t.type!=="file")throw new Error("Put is not a file");if(t.txt===null||t.deleted_at!==null)return{id:t.id,type:"file",created_at:t.created_at,updated_at:t.updated_at,version:t.version,deleted_at:t.deleted_at};const e=zv(XK,t.txt);if(!e)throw new Error("Invalid file put");const{title:n,ext:r,mime:i,labels:o,archived:s,size:l}=e;return{id:t.id,created_at:t.created_at,updated_at:t.updated_at,version:t.version,deleted_at:0,archived:s?1:0,type:"file",title:n,ext:r,mime:i,labels:o,size:l}},UW=t=>{if(t.deleted_at!==0)return{id:t.id,created_at:t.created_at,txt:null,updated_at:t.updated_at,version:t.version,deleted_at:t.deleted_at,type:t.type};if(t.type==="todo"){const e={title:t.title,todos:t.todos,labels:t.labels,archived:!!t.archived};return{id:t.id,created_at:t.created_at,txt:JSON.stringify(e),updated_at:t.updated_at,version:t.version,deleted_at:null,type:t.type}}else if(t.type==="note"){const e={title:t.title,txt:t.txt,labels:t.labels,archived:!!t.archived};return{id:t.id,created_at:t.created_at,txt:JSON.stringify(e),updated_at:t.updated_at,version:t.version,deleted_at:null,type:t.type}}else throw new Error("Invalid note")},HW=t=>t.deleted_at!==0?{id:t.id,created_at:t.created_at,txt:null,updated_at:t.updated_at,version:t.version,deleted_at:t.deleted_at,type:"label"}:{id:t.id,created_at:t.created_at,txt:JSON.stringify({name:t.name,hue:t.hue}),updated_at:t.updated_at,version:t.version,deleted_at:null,type:"label"},qW=t=>{const e={title:t.title,ext:t.ext,mime:t.mime,labels:t.labels,archived:!!t.archived,size:t.size};return t.deleted_at!==0?{type:"file",deleted_at:t.deleted_at,txt:null,id:t.id,created_at:t.created_at,updated_at:t.updated_at,version:t.version}:{id:t.id,created_at:t.created_at,txt:JSON.stringify(e),updated_at:t.updated_at,version:t.version,deleted_at:null,type:"file"}},KW=t=>t.deleted_at===0&&t.title===""&&(t.type==="note"?t.txt==="":t.todos.length===0||t.todos.length===1&&t.todos[0].txt===""),VW=(t,e,n)=>{const r=[],i=[];for(const o of n){const s=t.find(u=>u.id===o.id),l=e.find(u=>u.id===o.id);if(!s||!l||l.type!==o.type||l.deleted_at!==0||o.deleted_at!==0)i.push(o);else{const u=WW(s,l,o);u?r.push(u):i.push(o)}}return{merged:r,conflicts:i}},WW=(t,e,n)=>e.type==="todo"?ZW(t,e,n):e.type==="note"?XW(t,e,n):null,YW=t=>t.id!==void 0&&t.updated_at!==void 0,iv=t=>t.every(YW),ZW=(t,e,n)=>{if(e.todos===void 0||n.todos===void 0||!iv(e.todos)||!iv(n.todos))return null;let r;if(Np(e.todos,n.todos,["id","updated_at"]))r=e.todos;else return t.todos===void 0||!iv(t.todos),null;return{type:"todo",id:t.id,created_at:t.created_at,updated_at:Date.now(),deleted_at:0,version:Math.max(e.version,n.version)+1,state:"dirty",title:e.updated_at>n.updated_at?e.title:n.title,archived:e.updated_at>n.updated_at?e.archived:n.archived,todos:r,labels:e.updated_at>n.updated_at?e.labels:n.labels}},XW=(t,e,n)=>{if(e.txt===void 0||n.txt===void 0)return null;let r;if(e.txt===n.txt)r=e.txt;else{if(t.txt===void 0)return null;r=BW(t.txt,e.txt,n.txt)}return{type:"note",id:t.id,created_at:t.created_at,updated_at:Date.now(),txt:r,title:e.updated_at>n.updated_at?e.title:n.title,archived:e.updated_at>n.updated_at?e.archived:n.archived,version:Math.max(e.version,n.version)+1,state:"dirty",deleted_at:0,labels:e.updated_at>n.updated_at?e.labels:n.labels}},GW=(t,e)=>e.map(n=>{const r=t.find(i=>i.id===n.id);if(r)return{...r.updated_at>n.updated_at?r:n,version:Math.max(r.version,n.version)+1,state:"dirty",updated_at:Math.max(r.updated_at,n.updated_at)};throw new Error("Label not found")}),QW=t=>{const{created_at:e,deleted_at:n,id:r,type:i,updated_at:o,version:s,archived:l,ext:u,labels:f,mime:h,title:p,size:g}=t;return n!==0?{deleted_at:n,created_at:e,id:r,type:i,updated_at:o,version:s}:{deleted_at:0,created_at:e,id:r,type:i,updated_at:o,version:s,archived:l,ext:u,mime:h,labels:f,title:p,size:g}},JW=(t,e)=>e.map(n=>{const r=t.find(o=>o.id===n.id);if(!r)throw new Error("File not found");const i=r.updated_at>n.updated_at?r:n;if(i.deleted_at!==0&&i.title===void 0)return{...i,version:Math.max(r.version,n.version)+1,updated_at:Math.max(r.updated_at,n.updated_at)};if(i.deleted_at===0&&i.title!==void 0)return{...i,version:Math.max(r.version,n.version)+1,updated_at:Math.max(r.updated_at,n.updated_at)};throw new Error("Invalid file conflict")}),VR={0:"hsl(0, 92%, 65%)",30:"hsl(30, 100%, 68%)",60:"hsl(60, 100%, 68%)",90:"hsl(90, 100%, 63%)",120:"hsl(120, 100%, 65%)",150:"hsl(150, 100%, 50%)",180:"hsl(180, 100%, 50%)",210:"hsl(210, 100%, 60%)",240:"hsl(240, 100%, 73%)",270:"hsl(270, 100%, 71%)",300:"hsl(300, 80%, 65%)",330:"hsl(330, 100%, 65%)"},WR={0:"hsl(0, 58%, 33%)",30:"hsl(30, 74%, 29%)",60:"hsl(60, 100%, 22%)",90:"hsl(90, 43%, 23%)",120:"hsl(120, 50%, 26%)",150:"hsl(150, 62%, 25%)",180:"hsl(180, 100%, 26%)",210:"hsl(210, 80%, 36%)",240:"hsl(240, 42%, 35%)",270:"hsl(270, 56%, 33%)",300:"hsl(300, 50%, 22%)",330:"hsl(330, 70%, 30%)"},eY=`linear-gradient(90deg,${Object.values(VR).join(",")})`,tY=`linear-gradient(90deg,${Object.values(WR).join(",")})`,zp=(t,e)=>t===null?"var(--mantine-color-body)":e?WR[t]:VR[t],Pp=t=>{const e={},n={};for(const s of t)n[s.id]=s,s.parent&&(e[s.parent]?e[s.parent].push(s.id):e[s.parent]=[s.id]);const r=[],i=[];for(const s of t)s.parent||(r.push([s.id,e[s.id]??[]]),s.done||i.push(s.id,...(e[s.id]??[]).filter(l=>!n[l].done)));const o=[];for(const[s,l]of r){const u=n[s],f=l.filter(h=>n[h].done);(u.done||f.length>0)&&o.push(s,...f)}return{idToTodo:n,todoTree:r,visualOrderUndone:i,visualOrderDone:o,parentToChildIds:e}},YR=async t=>{try{const e=await NW(t);return QK.parse(e).features}catch{return[]}},Pv=({title:t,ext:e})=>`${t}${e}`,Rs=Object.create(null);Rs.open="0";Rs.close="1";Rs.ping="2";Rs.pong="3";Rs.message="4";Rs.upgrade="5";Rs.noop="6";const ov=Object.create(null);Object.keys(Rs).forEach(t=>{ov[Rs[t]]=t});const ex={type:"error",data:"parser error"},ZR=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",XR=typeof ArrayBuffer=="function",GR=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,t_=({type:t,data:e},n,r)=>ZR&&e instanceof Blob?n?r(e):V3(e,r):XR&&(e instanceof ArrayBuffer||GR(e))?n?r(e):V3(new Blob([e]),r):r(Rs[t]+(e||"")),V3=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function W3(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let $1;function nY(t,e){if(ZR&&t.data instanceof Blob)return t.data.arrayBuffer().then(W3).then(e);if(XR&&(t.data instanceof ArrayBuffer||GR(t.data)))return e(W3(t.data));t_(t,!1,n=>{$1||($1=new TextEncoder),e($1.encode(n))})}const Y3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ih=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Y3.length;t++)Ih[Y3.charCodeAt(t)]=t;const rY=t=>{let e=t.length*.75,n=t.length,r,i=0,o,s,l,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),h=new Uint8Array(f);for(r=0;r<n;r+=4)o=Ih[t.charCodeAt(r)],s=Ih[t.charCodeAt(r+1)],l=Ih[t.charCodeAt(r+2)],u=Ih[t.charCodeAt(r+3)],h[i++]=o<<2|s>>4,h[i++]=(s&15)<<4|l>>2,h[i++]=(l&3)<<6|u&63;return f},iY=typeof ArrayBuffer=="function",n_=(t,e)=>{if(typeof t!="string")return{type:"message",data:QR(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:oY(t.substring(1),e)}:ov[n]?t.length>1?{type:ov[n],data:t.substring(1)}:{type:ov[n]}:ex},oY=(t,e)=>{if(iY){const n=rY(t);return QR(n,e)}else return{base64:!0,data:t}},QR=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},JR="",sY=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((o,s)=>{t_(o,!1,l=>{r[s]=l,++i===n&&e(r.join(JR))})})},aY=(t,e)=>{const n=t.split(JR),r=[];for(let i=0;i<n.length;i++){const o=n_(n[i],e);if(r.push(o),o.type==="error")break}return r};function lY(){return new TransformStream({transform(t,e){nY(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let F1;function wg(t){return t.reduce((e,n)=>e+n.length,0)}function xg(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function cY(t,e){F1||(F1=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,l){for(n.push(s);;){if(r===0){if(wg(n)<1)break;const u=xg(n,1);o=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(wg(n)<2)break;const u=xg(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(wg(n)<8)break;const u=xg(n,8),f=new DataView(u.buffer,u.byteOffset,u.length),h=f.getUint32(0);if(h>Math.pow(2,21)-1){l.enqueue(ex);break}i=h*Math.pow(2,32)+f.getUint32(4),r=3}else{if(wg(n)<i)break;const u=xg(n,i);l.enqueue(n_(o?u:F1.decode(u),e)),r=0}if(i===0||i>t){l.enqueue(ex);break}}}})}const eM=4;function Cr(t){if(t)return uY(t)}function uY(t){for(var e in Cr.prototype)t[e]=Cr.prototype[e];return t}Cr.prototype.on=Cr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Cr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Cr.prototype.off=Cr.prototype.removeListener=Cr.prototype.removeAllListeners=Cr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Cr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Cr.prototype.emitReserved=Cr.prototype.emit;Cr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Cr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Jy=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),po=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fY="arraybuffer";function tM(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const dY=po.setTimeout,hY=po.clearTimeout;function e0(t,e){e.useNativeTimers?(t.setTimeoutFn=dY.bind(po),t.clearTimeoutFn=hY.bind(po)):(t.setTimeoutFn=po.setTimeout.bind(po),t.clearTimeoutFn=po.clearTimeout.bind(po))}const pY=1.33;function mY(t){return typeof t=="string"?gY(t):Math.ceil((t.byteLength||t.size)*pY)}function gY(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function nM(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vY(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function yY(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class bY extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class r_ extends Cr{constructor(e){super(),this.writable=!1,e0(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new bY(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=n_(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=vY(e);return n.length?"?"+n:""}}class wY extends r_{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};aY(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,sY(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=nM()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let rM=!1;try{rM=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xY=rM;function SY(){}class _Y extends wY{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class Es extends Cr{constructor(e,n,r){super(),this.createRequest=e,e0(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=tM(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Es.requestsCount++,Es.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=SY,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Es.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Es.requestsCount=0;Es.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Z3);else if(typeof addEventListener=="function"){const t="onpagehide"in po?"pagehide":"unload";addEventListener(t,Z3,!1)}}function Z3(){for(let t in Es.requests)Es.requests.hasOwnProperty(t)&&Es.requests[t].abort()}const CY=(function(){const t=iM({xdomain:!1});return t&&t.responseType!==null})();class kY extends _Y{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=CY&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Es(iM,this.uri(),e)}}function iM(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||xY))return new XMLHttpRequest}catch{}if(!e)try{return new po[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const oM=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class EY extends r_{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=oM?{}:tM(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;t_(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Jy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=nM()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const U1=po.WebSocket||po.MozWebSocket;class AY extends EY{createSocket(e,n,r){return oM?new U1(e,n,r):n?new U1(e,n):new U1(e)}doWrite(e,n){this.ws.send(n)}}class OY extends r_{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=cY(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=lY();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:l,value:u})=>{l||(this.onPacket(u),o())}).catch(l=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Jy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const TY={websocket:AY,webtransport:OY,polling:kY},DY=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,RY=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function tx(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=DY.exec(t||""),o={},s=14;for(;s--;)o[RY[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=MY(o,o.path),o.queryKey=NY(o,o.query),o}function MY(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function NY(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}const nx=typeof addEventListener=="function"&&typeof removeEventListener=="function",sv=[];nx&&addEventListener("offline",()=>{sv.forEach(t=>t())},!1);class Ml extends Cr{constructor(e,n){if(super(),this.binaryType=fY,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=tx(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=tx(n.host).host);e0(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yY(this.opts.query)),nx&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},sv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=eM,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ml.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ml.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=mY(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Jy(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Ml.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),nx&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=sv.indexOf(this._offlineEventListener);r!==-1&&sv.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ml.protocol=eM;class jY extends Ml{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Ml.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ml.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function o(){r||(r=!0,h(),n.close(),n=null)}const s=p=>{const g=new Error("probe error: "+p);g.transport=n.name,o(),this.emitReserved("upgradeError",g)};function l(){s("transport closed")}function u(){s("socket closed")}function f(p){n&&p.name!==n.name&&o()}const h=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",l),this.off("close",u),this.off("upgrading",f)};n.once("open",i),n.once("error",s),n.once("close",l),this.once("close",u),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let zY=class extends jY{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>TY[i]).filter(i=>!!i)),super(e,r)}};function PY(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=tx(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const LY=typeof ArrayBuffer=="function",BY=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,sM=Object.prototype.toString,IY=typeof Blob=="function"||typeof Blob<"u"&&sM.call(Blob)==="[object BlobConstructor]",$Y=typeof File=="function"||typeof File<"u"&&sM.call(File)==="[object FileConstructor]";function i_(t){return LY&&(t instanceof ArrayBuffer||BY(t))||IY&&t instanceof Blob||$Y&&t instanceof File}function av(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(av(t[n]))return!0;return!1}if(i_(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return av(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&av(t[n]))return!0;return!1}function FY(t){const e=[],n=t.data,r=t;return r.data=rx(n,e),r.attachments=e.length,{packet:r,buffers:e}}function rx(t,e){if(!t)return t;if(i_(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=rx(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=rx(t[r],e));return n}return t}function UY(t,e){return t.data=ix(t.data,e),delete t.attachments,t}function ix(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=ix(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=ix(t[n],e));return t}const HY=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],qY=5;var en;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(en||(en={}));class KY{constructor(e){this.replacer=e}encode(e){return(e.type===en.EVENT||e.type===en.ACK)&&av(e)?this.encodeAsBinary({type:e.type===en.EVENT?en.BINARY_EVENT:en.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===en.BINARY_EVENT||e.type===en.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=FY(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function X3(t){return Object.prototype.toString.call(t)==="[object Object]"}class o_ extends Cr{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===en.BINARY_EVENT;r||n.type===en.BINARY_ACK?(n.type=r?en.EVENT:en.ACK,this.reconstructor=new VY(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(i_(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(en[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===en.BINARY_EVENT||r.type===en.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const s=e.substring(o,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(o_.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case en.CONNECT:return X3(n);case en.DISCONNECT:return n===void 0;case en.CONNECT_ERROR:return typeof n=="string"||X3(n);case en.EVENT:case en.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&HY.indexOf(n[0])===-1);case en.ACK:case en.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class VY{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=UY(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const WY=Object.freeze(Object.defineProperty({__proto__:null,Decoder:o_,Encoder:KY,get PacketType(){return en},protocol:qY},Symbol.toStringTag,{value:"Module"}));function No(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const YY=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class aM extends Cr{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[No(e,"open",this.onopen.bind(this)),No(e,"packet",this.onpacket.bind(this)),No(e,"error",this.onerror.bind(this)),No(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,o;if(YY.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:en.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,p=n.pop();this._registerAckCallback(h,p),s.id=h}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),s=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,l)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((r,i)=>{const o=(s,l)=>s?i(s):r(l);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:en.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case en.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case en.EVENT:case en.BINARY_EVENT:this.onevent(e);break;case en.ACK:case en.BINARY_ACK:this.onack(e);break;case en.DISCONNECT:this.ondisconnect();break;case en.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:en.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:en.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function sd(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}sd.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};sd.prototype.reset=function(){this.attempts=0};sd.prototype.setMin=function(t){this.ms=t};sd.prototype.setMax=function(t){this.max=t};sd.prototype.setJitter=function(t){this.jitter=t};class ox extends Cr{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,e0(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new sd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||WY;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new zY(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=No(n,"open",function(){r.onopen(),e&&e()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},s=No(n,"error",o);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(No(e,"ping",this.onping.bind(this)),No(e,"data",this.ondata.bind(this)),No(e,"error",this.onerror.bind(this)),No(e,"close",this.onclose.bind(this)),No(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Jy(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new aM(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ah={};function lv(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=PY(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Ah[i]&&o in Ah[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let u;return l?u=new ox(r,e):(Ah[i]||(Ah[i]=new ox(r,e)),u=Ah[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(lv,{Manager:ox,Socket:aM,io:lv,connect:lv});const ZY=t=>Promise.resolve().then(()=>{localStorage.setItem("user",JSON.stringify(t))}),XY=()=>Promise.resolve().then(()=>{const t=localStorage.getItem("user");return t?JSON.parse(t):null}),GY=t=>Promise.resolve().then(()=>{localStorage.setItem("notesSortOrder",JSON.stringify(t))}),QY=()=>Promise.resolve().then(()=>{const t=localStorage.getItem("notesSortOrder");return t?JSON.parse(t):null}),JY=t=>Promise.resolve().then(()=>{t===null?localStorage.removeItem("openNoteId"):localStorage.setItem("openNoteId",t)}),eZ=()=>Promise.resolve().then(()=>{const t=localStorage.getItem("openNoteId");return localStorage.getItem("openFileId")?null:t}),tZ=t=>Promise.resolve().then(()=>{t===null?localStorage.removeItem("openFileId"):localStorage.setItem("openFileId",t)}),nZ=()=>Promise.resolve().then(()=>{const t=localStorage.getItem("openFileId");return localStorage.getItem("openNoteId")?null:t}),rZ=t=>Promise.resolve().then(()=>{localStorage.setItem("activeLabelId",JSON.stringify(t))}),iZ=()=>Promise.resolve().then(()=>{const t=localStorage.getItem("activeLabelId"),e=t?JSON.parse(t):"all";return e===null?"all":e===!1?"unlabeled":e});function lM(t){let e=t,n=!1;const r=new Set;return{getState(){return e},updateState(i){e=typeof i=="function"?i(e):i},setState(i){this.updateState(i),r.forEach(o=>o(e))},initialize(i){n||(e=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function cM(t){return P.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}function oZ(t,e,n){const r=[],i=[],o={};for(const s of t){const l=s.position||e;o[l]=o[l]||0,o[l]+=1,o[l]<=n?i.push(s):r.push(s)}return{notifications:i,queue:r}}const sZ=()=>lM({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),cu=sZ(),aZ=(t=cu)=>cM(t);function ad(t,e){const n=t.getState(),r=e([...n.notifications,...n.queue]),i=oZ(r,n.defaultPosition,n.limit);t.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function lZ(t,e=cu){const n=t.id||Tl();return ad(e,r=>t.id&&r.some(i=>i.id===t.id)?r:[...r,{...t,id:n}]),n}function uM(t,e=cu){return ad(e,n=>n.filter(r=>r.id===t?(r.onClose?.(r),!1):!0)),t}function cZ(t,e=cu){return ad(e,n=>n.map(r=>r.id===t.id?{...r,...t}:r)),t.id}function uZ(t=cu){ad(t,()=>[])}function fZ(t=cu){ad(t,e=>e.slice(0,t.getState().limit))}const Dt={show:lZ,hide:uM,update:cZ,clean:uZ,cleanQueue:fZ,updateState:ad};function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sx(t,e)}function s_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sx(t,e)}var H1={exports:{}},q1,G3;function dZ(){if(G3)return q1;G3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return q1=t,q1}var K1,Q3;function hZ(){if(Q3)return K1;Q3=1;var t=dZ();function e(){}function n(){}return n.resetWarningCache=e,K1=function(){function r(s,l,u,f,h,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},K1}var J3;function pZ(){return J3||(J3=1,H1.exports=hZ()()),H1.exports}var mZ=pZ();const En=eu(mZ),eO={disabled:!1},Lv=Tt.createContext(null);var gZ=function(e){return e.scrollTop},$h="unmounted",Rc="exited",Mc="entering",cf="entered",ax="exiting",Ra=(function(t){s_(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?l?(u=Rc,o.appearStatus=Mc):u=cf:r.unmountOnExit||r.mountOnEnter?u=$h:u=Rc,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===$h?{status:Rc}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Mc&&s!==cf&&(o=Mc):(s===Mc||s===cf)&&(o=ax)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Mc){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Lh.findDOMNode(this);s&&gZ(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rc&&this.setState({status:$h})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Lh.findDOMNode(this),l],f=u[0],h=u[1],p=this.getTimeouts(),g=l?p.appear:p.enter;if(!i&&!s||eO.disabled){this.safeSetState({status:cf},function(){o.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:Mc},function(){o.props.onEntering(f,h),o.onTransitionEnd(g,function(){o.safeSetState({status:cf},function(){o.props.onEntered(f,h)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Lh.findDOMNode(this);if(!o||eO.disabled){this.safeSetState({status:Rc},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:ax},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Rc},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Lh.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=u[0],h=u[1];this.props.addEndListener(f,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===$h)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=P5(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tt.createElement(Lv.Provider,{value:null},typeof s=="function"?s(i,l):Tt.cloneElement(Tt.Children.only(s),l))},e})(Tt.Component);Ra.contextType=Lv;Ra.propTypes={};function rf(){}Ra.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rf,onEntering:rf,onEntered:rf,onExit:rf,onExiting:rf,onExited:rf};Ra.UNMOUNTED=$h;Ra.EXITED=Rc;Ra.ENTERING=Mc;Ra.ENTERED=cf;Ra.EXITING=ax;function Hi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a_(t,e){var n=function(o){return e&&P.isValidElement(o)?e(o):o},r=Object.create(null);return t&&P.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function vZ(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,l={};for(var u in e){if(r[u])for(s=0;s<r[u].length;s++){var f=r[u][s];l[r[u][s]]=n(f)}l[u]=n(u)}for(s=0;s<i.length;s++)l[i[s]]=n(i[s]);return l}function $c(t,e,n){return n[e]!=null?n[e]:t.props[e]}function yZ(t,e){return a_(t.children,function(n){return P.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:$c(n,"appear",t),enter:$c(n,"enter",t),exit:$c(n,"exit",t)})})}function bZ(t,e,n){var r=a_(t.children),i=vZ(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(P.isValidElement(s)){var l=o in e,u=o in r,f=e[o],h=P.isValidElement(f)&&!f.props.in;u&&(!l||h)?i[o]=P.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:$c(s,"exit",t),enter:$c(s,"enter",t)}):!u&&l&&!h?i[o]=P.cloneElement(s,{in:!1}):u&&l&&P.isValidElement(f)&&(i[o]=P.cloneElement(s,{onExited:n.bind(null,s),in:f.props.in,exit:$c(s,"exit",t),enter:$c(s,"enter",t)}))}}),i}var wZ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},xZ={component:"div",childFactory:function(e){return e}},xl=(function(t){s_(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(Hi(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,l=o.handleExited,u=o.firstRender;return{children:u?yZ(i,l):bZ(i,s,l),firstRender:!1}},n.handleExited=function(i,o){var s=a_(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(l){var u=$w({},l.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,l=P5(i,["component","childFactory"]),u=this.state.contextValue,f=wZ(this.state.children).map(s);return delete l.appear,delete l.enter,delete l.exit,o===null?Tt.createElement(Lv.Provider,{value:u},f):Tt.createElement(Lv.Provider,{value:u},Tt.createElement(o,l,f))},e})(Tt.Component);xl.propTypes={};xl.defaultProps=xZ;const fM=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function SZ(t,e){return t.reduce((n,r)=>(n[r.position||e].push(r),n),fM.reduce((n,r)=>(n[r]=[],n),{}))}const tO={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},_Z={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function CZ({state:t,maxHeight:e,position:n,transitionDuration:r}){const[i,o]=n.split("-"),s=o==="center"?`${i}-center`:o,l={opacity:0,maxHeight:e,transform:tO[s],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},u={opacity:1,transform:_Z[s]},f={opacity:0,maxHeight:0,transform:tO[s]};return{...l,...{entering:u,entered:u,exiting:f,exited:f}[t]}}function kZ(t,e){return typeof e=="number"?e:e===!1||t===!1?!1:t}const dM=P.forwardRef(({data:t,onHide:e,autoClose:n,...r},i)=>{const{autoClose:o,message:s,...l}=t,u=kZ(n,t.autoClose),f=P.useRef(-1),h=()=>window.clearTimeout(f.current),p=()=>{e(t.id),h()},g=()=>{typeof u=="number"&&(f.current=window.setTimeout(p,u))};return P.useEffect(()=>{t.onOpen?.(t)},[]),P.useEffect(()=>(g(),h),[u]),S.jsx(R2,{...r,...l,onClose:p,ref:i,onMouseEnter:h,onMouseLeave:g,children:s})});dM.displayName="@mantine/notifications/NotificationContainer";var hM={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const EZ=Ra,AZ={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Or("overlay"),store:cu,withinPortal:!0},OZ=(t,{zIndex:e,containerWidth:n})=>({root:{"--notifications-z-index":e?.toString(),"--notifications-container-width":Ke(n)}}),Ma=ft((t,e)=>{const n=Ze("Notifications",AZ,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,position:f,autoClose:h,transitionDuration:p,containerWidth:g,notificationMaxHeight:v,limit:b,zIndex:y,store:_,portalProps:E,withinPortal:A,...O}=n,T=ui(),R=aZ(_),N=VP(),j=CS(),U=P.useRef({}),H=P.useRef(0),te=(T.respectReducedMotion?j:!1)?1:p,I=jt({name:"Notifications",classes:hM,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,vars:u,varsResolver:OZ});P.useEffect(()=>{_?.updateState(J=>({...J,limit:b||5,defaultPosition:f}))},[b,f]),Dl(()=>{R.notifications.length>H.current&&setTimeout(()=>N(),0),H.current=R.notifications.length},[R.notifications]);const Y=SZ(R.notifications,f),M=fM.reduce((J,V)=>(J[V]=Y[V].map(({style:X,...Q})=>S.jsx(EZ,{timeout:te,onEnter:()=>U.current[Q.id].offsetHeight,nodeRef:{current:U.current[Q.id]},children:ne=>S.jsx(dM,{ref:ue=>{ue&&(U.current[Q.id]=ue)},data:Q,onHide:ue=>uM(ue,_),autoClose:h,...I("notification",{style:{...CZ({state:ne,position:V,transitionDuration:te,maxHeight:v}),...X}})})},Q.id)),J),{});return S.jsxs(ka,{withinPortal:A,...E,children:[S.jsx(ut,{...I("root"),"data-position":"top-center",ref:e,...O,children:S.jsx(xl,{children:M["top-center"]})}),S.jsx(ut,{...I("root"),"data-position":"top-left",...O,children:S.jsx(xl,{children:M["top-left"]})}),S.jsx(ut,{...I("root",{className:yv.classNames.fullWidth}),"data-position":"top-right",...O,children:S.jsx(xl,{children:M["top-right"]})}),S.jsx(ut,{...I("root",{className:yv.classNames.fullWidth}),"data-position":"bottom-right",...O,children:S.jsx(xl,{children:M["bottom-right"]})}),S.jsx(ut,{...I("root"),"data-position":"bottom-left",...O,children:S.jsx(xl,{children:M["bottom-left"]})}),S.jsx(ut,{...I("root"),"data-position":"bottom-center",...O,children:S.jsx(xl,{children:M["bottom-center"]})})]})});Ma.classes=hM;Ma.displayName="@mantine/notifications/Notifications";Ma.show=Dt.show;Ma.hide=Dt.hide;Ma.update=Dt.update;Ma.clean=Dt.clean;Ma.cleanQueue=Dt.cleanQueue;Ma.updateState=Dt.updateState;var V1={exports:{}},W1={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO;function TZ(){if(nO)return W1;nO=1;var t=oy().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return W1.c=function(e){return t.H.useMemoCache(e)},W1}var rO;function DZ(){return rO||(rO=1,V1.exports=TZ()),V1.exports}var gt=DZ();const RZ={stack:[],ignorePop:!1},pM=t=>ze(e=>{e.history.stack.push(t)}),mM=()=>ze(t=>{t.history.stack.pop()}),MZ=t=>ze(e=>{e.history.stack=e.history.stack.filter(n=>n!==t)}),iO=t=>ze(e=>{e.history.ignorePop=t});function ci(t){const e=gt.c(8),{id:n,open:r,onClose:i}=t,o=P.useRef(!1);let s,l;e[0]!==n||e[1]!==r?(s=()=>{const h=o.current;o.current=r,r&&!h?(window.history.pushState({dialogId:n},""),pM(n)):!r&&h&&gM(n)},l=[r,n],e[0]=n,e[1]=r,e[2]=s,e[3]=l):(s=e[2],l=e[3]),P.useEffect(s,l);let u,f;e[4]!==n||e[5]!==i?(u=()=>{const h=()=>{const p=Lt();if(p.history.ignorePop)return;Z2(p.history.stack)===n&&o.current&&(mM(),i())};return window.addEventListener("popstate",h),()=>void window.removeEventListener("popstate",h)},f=[n,i],e[4]=n,e[5]=i,e[6]=u,e[7]=f):(u=e[6],f=e[7]),P.useEffect(u,f)}const gM=t=>{MZ(t),window.history.state?.dialogId===t&&(iO(!0),window.history.back(),setTimeout(()=>iO(!1),100))},NZ=(t,e)=>{window.history.pushState({dialogId:t},""),pM(t);const n=()=>{const r=Lt();if(r.history.ignorePop)return;Z2(r.history.stack)===t&&(mM(),e())};return window.addEventListener("popstate",n),()=>window.removeEventListener("popstate",n)},Na=({id:t,title:e,onConfirm:n,labels:r,children:i,confirmProps:o})=>{let s,l=!1;const u=e3.openConfirmModal({title:e,onConfirm:n,labels:r,children:i,confirmProps:o,centered:!0,trapFocus:!0,onClose:()=>{l||(l=!0,s(),queueMicrotask(()=>gM(t)))}});s=NZ(t,()=>{e3.close(u)})},l_={user:{email:"",loggedIn:!1,lastSyncedTo:0,keyTokenPair:null,isAdmin:!1},features:[],connected:null,registerDialog:{open:!1,email:"",loading:!1,agree:!1},loginDialog:{open:!1,email:"",code:"",loading:!1,status:"email"},encryptionKeyDialog:{open:!1,keyTokenPair:"",qrMode:"hide",mode:"export/generate"},deleteServerNotesDialog:{open:!1,code:"",codeLoading:!1,deleteLoading:!1},deleteAccountDialog:{open:!1,code:"",codeLoading:!1,deleteLoading:!1},imprintOpen:!1,changeEmailDialog:{open:!1,email:"",loading:!1,status:"email",oldEmailCode:"",newEmailCode:""}};XY().then(async t=>{if(t){const e=t.jwt?await YR(t.jwt):[];ze(n=>{n.user.user=t,n.user.features=e})}t?.loggedIn&&!Io.connected&&Io.connect()}).then(()=>{const t=Lt();t.user.user.loggedIn&&!t.notes.sync.syncing&&Ms()});setTimeout(()=>{ze(t=>{t.user.connected===null&&(t.user.connected=Io.connected)})},1e4);const jZ=t=>ze(e=>{e.user.registerDialog.email=t}),zZ=t=>ze(e=>{e.user.registerDialog.agree=t}),PZ=()=>ze(t=>{t.user.registerDialog={open:!0,email:t.user.user.email,loading:!1,agree:!1}}),oO=()=>ze(t=>{t.user.registerDialog.open=!1}),LZ=async t=>{const e=Lt(),{email:n,loading:r,agree:i}=e.user.registerDialog;if(!n||r||!i)return;ze(s=>{s.user.registerDialog.loading=!0});const o=await aV(n,t);ze(s=>{s.user.registerDialog.loading=!1,o.success?(Dt.show({title:"Register Email",message:"Email registered, proceed to login"}),s.user.user.email=n,s.user.registerDialog.open=!1,s.user.loginDialog={open:!0,email:s.user.user.email,code:"",loading:!1,status:"email"}):Dt.show({title:"Register Email Failed",message:o.error,color:"red"})})},BZ=()=>{ze(t=>{t.user.loginDialog={open:!0,email:t.user.user.email,code:"",loading:!1,status:"email"}})},sO=()=>{ze(t=>{t.user.loginDialog.open=!1})},aO=t=>{ze(e=>{e.user.loginDialog.email=t})},IZ=t=>{ze(e=>{e.user.loginDialog.code=t})},lO=()=>{ze(t=>{t.user.loginDialog.status=t.user.loginDialog.status==="email"?"code":"email"})},cO=async()=>{const t=Lt(),{email:e,loading:n}=t.user.loginDialog;if(!e||n)return;ze(i=>{i.user.loginDialog.loading=!0});const r=await lV(e);ze(i=>{i.user.loginDialog.loading=!1,r.success?(Dt.show({title:"Login Email",message:"Email sent, proceed to enter code"}),i.user.loginDialog.status="code"):Dt.show({title:"Login Email Failed",message:r.error,color:"red"})})},uO=async()=>{const t=Lt(),{email:e,code:n,loading:r}=t.user.loginDialog;if(!e||!n||r)return;ze(s=>{s.user.loginDialog.loading=!0});const i=await cV(e,n),o=i.success?await YR(i.data.jwt):[];ze(s=>{s.user.loginDialog.loading=!1,i.success?(s.user.user.loggedIn=!0,s.user.user.email=e,s.user.user.jwt=i.data.jwt,s.user.features=o,Dt.show({title:"Success",message:"You are logged in"}),s.user.loginDialog.open=!1,s.user.user.keyTokenPair||(s.user.encryptionKeyDialog={open:!0,keyTokenPair:"",qrMode:"hide",mode:"export/generate"})):Dt.show({title:"Login with code failed",message:i.error,color:"red"})});{const s=Lt();s.user.user.loggedIn&&s.user.user.keyTokenPair&&await Ms()}},vM=t=>{ze(e=>{e.user.connected===!1&&t&&!e.notes.sync.syncing&&queueMicrotask(Ms),e.user.connected=t})},yM=async t=>{let n=Lt().user.user.keyTokenPair;ze(r=>{r.user.encryptionKeyDialog={open:!0,keyTokenPair:n&&t==="export/generate"?`${n.cryptoKey}:${n.syncToken}:${Q2(n.cryptoKey,n.syncToken)}`:"",qrMode:"hide",mode:t}})},$Z=async()=>{const t=await MR(),e=DR(16),n=Q2(t,e);ze(r=>{r.user.encryptionKeyDialog.keyTokenPair=`${t}:${e}:${n}`})},Y1=t=>{ze(e=>{e.user.encryptionKeyDialog.qrMode=t})},Z1=()=>{ze(t=>{t.user.encryptionKeyDialog=l_.encryptionKeyDialog})},FZ=t=>{ze(e=>{e.user.encryptionKeyDialog.keyTokenPair=t})},fO=async t=>{const e=Lt();if(!Gw(t))return;const[n,r]=t.split(":");!n||!r||(e.user.user.keyTokenPair&&(ze(i=>{i.user.user.lastSyncedTo=0}),await c_()),ze(i=>{i.user.user.keyTokenPair={cryptoKey:n,syncToken:r},i.user.encryptionKeyDialog.open=!1}),Dt.show({message:"New encryption key saved"}),e.user.user.loggedIn&&await Ms())},c_=(t=!1)=>et.transaction("rw",["notes","note_base_versions","labels","files_meta"],async e=>{await e.note_base_versions.clear(),await e.notes.toCollection().modify(n=>{n.state="dirty"}),await e.labels.toCollection().modify(n=>{n.state="dirty"}),await e.files_meta.toCollection().modify((n,r)=>{n.state="dirty",n.blob_state==="synced"?n.blob_state="local":n.blob_state==="remote"&&t&&delete r.value})}),bM=async()=>{if(Lt().user.user.loggedIn){ze(n=>{n.user.deleteServerNotesDialog={open:!0,code:"",codeLoading:Vh==="central",deleteLoading:!1}});{const n=await TR();ze(r=>{r.user.deleteServerNotesDialog.codeLoading=!1,au(n)&&(r.user.user.loggedIn=!1)}),n.success?Dt.show({title:"Confirmation code sent",message:"Check your email for the confirmation code"}):Dt.show({title:"Failed to send confirmation code",message:n.error,color:"red"})}}},UZ=()=>ze(t=>{t.user.deleteServerNotesDialog.deleteLoading||t.user.deleteServerNotesDialog.codeLoading||(t.user.deleteServerNotesDialog.open=!1)}),HZ=t=>ze(e=>{e.user.deleteServerNotesDialog.code=t}),qZ=async()=>{const t=Lt(),{code:e,deleteLoading:n}=t.user.deleteServerNotesDialog,r=t.user.user.loggedIn;if(!e||n||!r)return;ze(s=>{s.user.deleteServerNotesDialog.deleteLoading=!0});const i=await hV({confirm:e});if(!i.success){ze(s=>{s.user.deleteServerNotesDialog.deleteLoading=!1,au(i)&&(s.user.user.loggedIn=!1)}),Dt.show({title:"Failed to delete notes",message:i.error,color:"red"});return}await c_(!0);const o=await MR();ze(s=>{s.user.deleteServerNotesDialog.deleteLoading=!1,s.user.deleteServerNotesDialog.open=!1,s.user.user.lastSyncedTo=0,s.user.user.keyTokenPair={cryptoKey:o,syncToken:DR(16)}}),Dt.show({title:"Success",message:"Server notes deleted and new crypto key generated"})},wM=async()=>{if(Lt().user.user.loggedIn){ze(n=>{n.user.deleteAccountDialog={open:!0,code:"",codeLoading:Vh==="central",deleteLoading:!1}});{const n=await TR();ze(r=>{r.user.deleteAccountDialog.codeLoading=!1,au(n)&&(r.user.user.loggedIn=!1)}),n.success?Dt.show({title:"Confirmation code sent",message:"Check your email for the confirmation code"}):Dt.show({title:"Failed to send confirmation code",message:n.error,color:"red"})}}},KZ=()=>ze(t=>{t.user.deleteAccountDialog.deleteLoading||t.user.deleteAccountDialog.codeLoading||(t.user.deleteAccountDialog.open=!1)}),VZ=t=>ze(e=>{e.user.deleteAccountDialog.code=t}),WZ=async()=>{const t=Lt(),{code:e,deleteLoading:n}=t.user.deleteAccountDialog,r=t.user.user.loggedIn;if(!e||n||!r)return;ze(o=>{o.user.deleteAccountDialog.deleteLoading=!0});const i=await pV({confirm:e});ze(o=>{o.user.deleteAccountDialog.deleteLoading=!1}),i.success?(Dt.show({title:"Account deleted",message:"Your account has been deleted"}),ze(o=>{o.user.deleteAccountDialog.open=!1,o.user.user={loggedIn:!1,email:"",keyTokenPair:null,lastSyncedTo:0,isAdmin:!1}}),await c_(!0)):Dt.show({title:"Failed to delete account",message:i.error,color:"red"})},lx=()=>ze(t=>{t.user.imprintOpen=!t.user.imprintOpen}),YZ=()=>{ze(t=>{t.user.changeEmailDialog={open:!0,email:"",loading:!1,status:"email",oldEmailCode:"",newEmailCode:""}})},ZZ=t=>{ze(e=>{e.user.changeEmailDialog.email=t})},XZ=t=>ze(e=>{e.user.changeEmailDialog.oldEmailCode=t}),GZ=t=>ze(e=>{e.user.changeEmailDialog.newEmailCode=t}),dO=()=>ze(t=>{t.user.changeEmailDialog.status=t.user.changeEmailDialog.status==="email"?"codes":"email"}),hO=()=>ze(t=>{t.user.changeEmailDialog=l_.changeEmailDialog}),QZ=async()=>{const t=Lt(),{email:e,loading:n}=t.user.changeEmailDialog,r=t.user.user.email;if(!e||n||!r)return;ze(o=>{o.user.changeEmailDialog.loading=!0});const i=await vV({newEmail:e,oldEmail:r});ze(o=>{o.user.changeEmailDialog.loading=!1,i.success?(o.user.changeEmailDialog.status="codes",Dt.show({title:"Confirmation code sent",message:"Check both your new and old email for the confirmation codes."})):Dt.show({title:"Failed to send confirmation code",message:i.error,color:"red"})})},JZ=async()=>{const t=Lt(),{email:e,loading:n,oldEmailCode:r,newEmailCode:i}=t.user.changeEmailDialog,o=t.user.user.email;if(!e||n||!o||!r||!i)return;ze(l=>{l.user.changeEmailDialog.loading=!0});const s=await yV({oldEmail:o,oldEmailCode:r,newEmailCode:i});ze(l=>{l.user.changeEmailDialog.loading=!1,s.success?(l.user.user.email=e,l.user.changeEmailDialog.open=!1,Dt.show({title:"Email changed",message:"Your email has been changed"})):Dt.show({title:"Failed to change email",message:s.error,color:"red"})})},eX=async()=>{if(!Lt().user.user.loggedIn)return;const n=await mV();ze(r=>{n.success||au(n)?(r.user.user.loggedIn=!1,Dt.show({title:"Logged out",message:"You have been logged out"})):Dt.show({title:"Logout Failed",message:n.error,color:"red"})})},tX=async()=>{if(!Lt().user.user.loggedIn)return;const n=await gV();n.success?(Dt.show({title:"All sessions removed",message:"You have been logged out from all devices"}),ze(r=>{r.user.user.loggedIn=!1})):(Dt.show({title:"Failed to remove all sessions",message:n.error,color:"red"}),au(n)&&ze(r=>{r.user.user.loggedIn=!1}))},nX=()=>Na({id:"resetApp",title:"Reset App",children:"Are you sure you want to delete all local data?",labels:{confirm:"Reset",cancel:"Cancel"},onConfirm:async()=>{await et.delete(),localStorage.clear(),window.location.reload()}}),rX=()=>{ga(t=>t.user.user,t=>ZY(t)),ga(t=>t.user.user.loggedIn,t=>{t&&!Io.connected?Io.connect():!t&&Io.connected&&Io.disconnect()})},Io=lv({withCredentials:!0,autoConnect:!1,reconnection:!0});Io.on("connect_error",t=>{console.error("socket connect_error",t)});Io.on("connect",()=>vM(!0));Io.on("disconnect",()=>vM(!1));class tr extends Set{static fromItr(e,n){if(n){const r=new tr;for(const i of e)r.add(n(i));return r}else return new tr(e)}addItr(e,n){for(const r of e)this.add(n?n(r):r);return this}intersect(e){const n=new tr;for(const r of this)e.has(r)&&n.add(r);return n}union(e){const n=new tr;for(const r of this)n.add(r);for(const r of e)n.add(r);return n}without(e){const n=new tr(this);for(const r of e)n.delete(r);return n}isSubset(e){for(const n of this)if(!e.has(n))return!1;return!0}isEqualTo(e){if(this.size!==e.size)return!1;for(const n of this)if(!e.has(n))return!1;return!0}toArray(){return Array.from(this)}toRecord(){const e={};for(const n of this)e[String(n)]=!0;return e}map(e){return tr.fromItr(this,e)}filter(e){const n=new tr;for(const r of this)e(r)&&n.add(r);return n}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xM=Symbol("Comlink.proxy"),iX=Symbol("Comlink.endpoint"),oX=Symbol("Comlink.releaseProxy"),X1=Symbol("Comlink.finalizer"),cv=Symbol("Comlink.thrown"),SM=t=>typeof t=="object"&&t!==null||typeof t=="function",sX={canHandle:t=>SM(t)&&t[xM],serialize(t){const{port1:e,port2:n}=new MessageChannel;return CM(t,e),[n,[n]]},deserialize(t){return t.start(),EM(t)}},aX={canHandle:t=>SM(t)&&cv in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},_M=new Map([["proxy",sX],["throw",aX]]);function lX(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function CM(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(i){if(!i||!i.data)return;if(!lX(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:o,type:s,path:l}=Object.assign({path:[]},i.data),u=(i.data.argumentList||[]).map(jc);let f;try{const h=l.slice(0,-1).reduce((g,v)=>g[v],t),p=l.reduce((g,v)=>g[v],t);switch(s){case"GET":f=p;break;case"SET":h[l.slice(-1)[0]]=jc(i.data.value),f=!0;break;case"APPLY":f=p.apply(h,u);break;case"CONSTRUCT":{const g=new p(...u);f=pX(g)}break;case"ENDPOINT":{const{port1:g,port2:v}=new MessageChannel;CM(t,v),f=hX(g,[g])}break;case"RELEASE":f=void 0;break;default:return}}catch(h){f={value:h,[cv]:0}}Promise.resolve(f).catch(h=>({value:h,[cv]:0})).then(h=>{const[p,g]=$v(h);e.postMessage(Object.assign(Object.assign({},p),{id:o}),g),s==="RELEASE"&&(e.removeEventListener("message",r),kM(e),X1 in t&&typeof t[X1]=="function"&&t[X1]())}).catch(h=>{const[p,g]=$v({value:new TypeError("Unserializable return value"),[cv]:0});e.postMessage(Object.assign(Object.assign({},p),{id:o}),g)})}),e.start&&e.start()}function cX(t){return t.constructor.name==="MessagePort"}function kM(t){cX(t)&&t.close()}function EM(t,e){const n=new Map;return t.addEventListener("message",function(i){const{data:o}=i;if(!o||!o.id)return;const s=n.get(o.id);if(s)try{s(o)}finally{n.delete(o.id)}}),cx(t,n,[],e)}function Sg(t){if(t)throw new Error("Proxy has been released and is not useable")}function AM(t){return uf(t,new Map,{type:"RELEASE"}).then(()=>{kM(t)})}const Bv=new WeakMap,Iv="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(Bv.get(t)||0)-1;Bv.set(t,e),e===0&&AM(t)});function uX(t,e){const n=(Bv.get(e)||0)+1;Bv.set(e,n),Iv&&Iv.register(t,e,t)}function fX(t){Iv&&Iv.unregister(t)}function cx(t,e,n=[],r=function(){}){let i=!1;const o=new Proxy(r,{get(s,l){if(Sg(i),l===oX)return()=>{fX(o),AM(t),e.clear(),i=!0};if(l==="then"){if(n.length===0)return{then:()=>o};const u=uf(t,e,{type:"GET",path:n.map(f=>f.toString())}).then(jc);return u.then.bind(u)}return cx(t,e,[...n,l])},set(s,l,u){Sg(i);const[f,h]=$v(u);return uf(t,e,{type:"SET",path:[...n,l].map(p=>p.toString()),value:f},h).then(jc)},apply(s,l,u){Sg(i);const f=n[n.length-1];if(f===iX)return uf(t,e,{type:"ENDPOINT"}).then(jc);if(f==="bind")return cx(t,e,n.slice(0,-1));const[h,p]=pO(u);return uf(t,e,{type:"APPLY",path:n.map(g=>g.toString()),argumentList:h},p).then(jc)},construct(s,l){Sg(i);const[u,f]=pO(l);return uf(t,e,{type:"CONSTRUCT",path:n.map(h=>h.toString()),argumentList:u},f).then(jc)}});return uX(o,t),o}function dX(t){return Array.prototype.concat.apply([],t)}function pO(t){const e=t.map($v);return[e.map(n=>n[0]),dX(e.map(n=>n[1]))]}const OM=new WeakMap;function hX(t,e){return OM.set(t,e),t}function pX(t){return Object.assign(t,{[xM]:!0})}function $v(t){for(const[e,n]of _M)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},OM.get(t)||[]]}function jc(t){switch(t.type){case"HANDLER":return _M.get(t.name).deserialize(t.value);case"RAW":return t.value}}function uf(t,e,n,r){return new Promise(i=>{const o=mX();e.set(o,i),t.start&&t.start(),t.postMessage(Object.assign({id:o},n),r)})}function mX(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var gX=Symbol("getEndpoint"),vX=t=>{const e=EM(t);return new Proxy(e,{get(n,r,i){return r===gX?t:Reflect.get(n,r,i)}})};const t0=vX(new Worker(new URL(""+new URL("worker-DC9oa43w.js",import.meta.url).href,import.meta.url),{})),yX={importing:!1,upDownloading:!1,openFile:null,fileDialog:{labelDropdownOpen:!1,moreMenuOpen:!1}};nZ().then(t=>{t&&DM(t)});const ux=t=>ze(e=>{e.files.fileDialog.labelDropdownOpen=t}),wf=t=>ze(e=>{e.files.fileDialog.moreMenuOpen=t}),bX=()=>ze(t=>{t.files.openFile&&(t.files.openFile.archived=t.files.openFile.archived?0:1,t.files.openFile.updated_at=Date.now(),t.files.openFile.state==="synced"&&(t.files.openFile.version++,t.files.openFile.state="dirty"))}),mO=t=>ze(e=>{e.files.importing=t}),wX=(t,e)=>et.files_meta.where("id").equals(t).modify(n=>{n.archived=e?1:0,n.updated_at=Date.now(),n.state==="synced"&&(n.version++,n.state="dirty")}),xX=async()=>{const t=Lt().files.openFile;t&&(ze(e=>{e.files.openFile=null}),await TM(t.id))},TM=async t=>{const e=await et.files_meta.get(t);e&&et.transaction("rw",et.files_meta,et.files_blob,et.files_thumb,async n=>{if(e.state==="dirty"&&e.version===1)n.files_meta.delete(t);else{const r=Date.now();await n.files_meta.update(t,{deleted_at:r,updated_at:r,state:"dirty",version:e.state==="dirty"?e.version:e.version+1,title:"",labels:[]})}await n.files_blob.delete(t),await n.files_thumb.delete(t)})},DM=async t=>{const e=await et.files_meta.get(t);if(!e||e.deleted_at!==0)return;ze(r=>{r.files.openFile={id:t,title:e.title,updated_at:e.updated_at,version:e.version,state:e.state,archived:e.archived}});const n=Lt();n.user.connected&&n.user.user.keyTokenPair&&e.blob_state==="remote"&&!n.files.upDownloading&&NM()},Oh=async()=>{Lt().files.openFile&&(await MM(),ze(e=>{e.files.openFile=null,e.files.fileDialog={labelDropdownOpen:!1,moreMenuOpen:!1}}))},SX=t=>ze(e=>{if(!e.files.openFile)return;const n=e.files.openFile;n.title=t,n.updated_at=Date.now(),n.state==="synced"&&(n.version++,n.state="dirty")}),_X=t=>{const e=Lt().files.openFile;if(!e)return;const n=t[e.id];if(n){if(n.deleted_at!==0||n.title===void 0)return ze(r=>{r.files.openFile=null});(n.version>e.version||n.version===e.version&&n.updated_at>=e.updated_at)&&ze(r=>{r.files.openFile={id:n.id,title:n.title,updated_at:n.updated_at,version:n.version,state:n.state,archived:n.archived}})}},RM=async(t,e)=>{try{mO(!0);for(const n of t){const[r,i]=OR(n.name),o=crypto.randomUUID(),s=Date.now(),l={type:"file",created_at:s,updated_at:s,deleted_at:0,ext:i,id:o,title:r,state:"dirty",version:1,blob_state:"local",mime:n.type,labels:Y2(e)?[e]:[],archived:0,has_thumb:0,size:n.size},u={id:o,blob:n};await et.transaction("rw",et.files_meta,et.files_blob,async f=>{await f.files_meta.add(l),await f.files_blob.add(u)})}t0.generateThumbnails().then(()=>console.log("thumbnails generated")).catch(console.error)}finally{mO(!1)}},MM=Gy(async()=>{const t=Lt().files.openFile;if(!t)return;const e=await et.files_meta.get(t.id);!e||e.deleted_at!==0||(e.title!==t.title||e.archived!==t.archived)&&await et.files_meta.update(t.id,{title:t.title,archived:t.archived,updated_at:t.updated_at,state:t.state,version:t.version})}),CX=t=>!navigator.clipboard||!("write"in navigator.clipboard)?!1:t.startsWith("image/")||t.startsWith("text/")||t==="application/json",kX=async t=>{try{if(t.mime.startsWith("text/")||t.mime==="application/json"){await navigator.clipboard.write([e()]),Dt.show({message:"Text content copied to clipboard."});return}if(t.mime.startsWith("image/")){await navigator.clipboard.write([n()]),Dt.show({message:"Image copied to clipboard."});return}throw new Error("unsupported file type")}catch(r){Dt.show({color:"red",message:`Could not copy to clipboard: ${r instanceof Error?r.message:"Unknown error"}`})}function e(){const r=fetch(`/files/${t.id}`).then(i=>i.text()).catch(i=>{throw Dt.show({color:"red",message:`Could not copy to clipboard: ${i instanceof Error?i.message:"Unknown error"}`}),i});return new ClipboardItem({"text/plain":r})}function n(){if(t.mime==="image/png")return new ClipboardItem({"image/png":fetch(`/files/${t.id}`).then(i=>i.blob())});if(!t.mime.startsWith("image/"))throw new Error("unsupported file type");const r=Promise.resolve().then(async()=>{const i=document.createElement("img"),o=`/files/${t.id}`;await new Promise((f,h)=>{i.onload=()=>f(),i.onerror=()=>h(new Error("Image load failed")),i.src=o});const s=document.createElement("canvas");s.width=i.naturalWidth||i.width,s.height=i.naturalHeight||i.height;const l=s.getContext("2d");if(!l)throw new Error("Canvas 2D context not available");return l.drawImage(i,0,0),await new Promise((f,h)=>{s.toBlob(p=>{p?f(p):h(new Error("PNG conversion failed"))},"image/png")})});return new ClipboardItem({"image/png":r.then(i=>i)})}},NM=Gy(async()=>{const t=Lt().user.user.keyTokenPair;t&&(ze(e=>{e.files.upDownloading=!0}),await t0.upDownloadBlobs(t.cryptoKey).then(({hit_storage_limit:e})=>{e&&Lt().notes.sync.dialogOpen&&Dt.show({title:"File storage limit reached",message:"You have reached your file storage limit!",color:"red"})}).catch(e=>{console.error(e),Lt().notes.sync.dialogOpen&&Dt.show({title:"Failed to sync files",message:e?.message??"Unknown error",color:"red"}),ze(r=>{r.notes.sync.error=e?.message??"Unknown error"})}).finally(()=>{ze(e=>{e.files.upDownloading=!1})}))}),jM=Ll(NM,1e3),EX=()=>{const t=Ll(MM,1e3);ga(e=>e.files.openFile,(e,n)=>e&&n&&t()),ga(e=>e.files.openFile?.id??null,tZ),NV.subscribe(e=>{e&&jM()})},AX={query:"",openNote:null,noteDialog:{labelDropdownOpen:!1,moreMenuOpen:!1},sort:{prop:"updated_at",desc:!0},sync:{dialogOpen:!1,syncing:!1,error:null}};QY().then(t=>{t&&ze(e=>{e.notes.sort=t})});eZ().then(t=>{t&&u_(t)});const OX=Ll(()=>Ms(),10);window.addEventListener("focus",OX);document.addEventListener("visibilitychange",async()=>{document.visibilityState==="hidden"&&(await f_(),await Ms())});const zM=t=>ze(e=>{e.notes.query=t}),fx=t=>ze(e=>{e.notes.noteDialog.labelDropdownOpen=t}),xf=t=>ze(e=>{e.notes.noteDialog.moreMenuOpen=t}),u_=async t=>{const e=await et.notes.get(t);!e||e.deleted_at!==0||(ze(n=>{e.type==="todo"?n.notes.openNote={type:"todo",id:t,todos:e.todos,title:e.title,updatedAt:e.updated_at,archived:e.archived===1}:n.notes.openNote={type:"note",id:t,txt:e.txt,title:e.title,updatedAt:e.updated_at,archived:e.archived===1,selections:[Xy]}}),e.type==="todo"&&!iv(e.todos)&&ze(n=>{n.notes.openNote&&(n.notes.openNote.todos=e.todos.map(({id:r,updated_at:i,...o})=>({...o,id:r??crypto.randomUUID(),updated_at:i??Date.now()})))}))},Fh=async()=>{const e=Lt().notes.openNote;if(e){if(e.title===""&&(e.type==="todo"?e.todos.length===0||e.todos.length===1&&e.todos[0].txt==="":e.txt===""))return await BM();await f_(),ze(n=>{n.notes.openNote=null,n.notes.noteDialog={labelDropdownOpen:!1,moreMenuOpen:!1}})}},PM=async()=>{const t=Date.now(),e=crypto.randomUUID(),{activeLabel:n}=Lt().labels,r={id:e,txt:"",version:1,state:"dirty",created_at:t,updated_at:t,deleted_at:0,type:"note",title:"",labels:Y2(n)?[n]:void 0,archived:0};await et.notes.add(r),ze(i=>{i.notes.openNote={type:"note",id:e,txt:"",title:"",updatedAt:t,archived:!1,selections:[Xy]}})},TX=t=>ze(e=>{e.notes.openNote&&(e.notes.openNote.title=t,e.notes.openNote.updatedAt=Date.now())}),DX=(t,e)=>ze(n=>{n.notes.openNote&&(n.notes.openNote.txt=t,n.notes.openNote.selections=e,n.notes.openNote.updatedAt=Date.now())}),RX=()=>ze(t=>{t.notes.openNote&&(t.notes.openNote.type==="note"?t.notes.openNote={type:"todo",id:t.notes.openNote.id,todos:FW(t.notes.openNote.txt),title:t.notes.openNote.title,updatedAt:Date.now(),archived:t.notes.openNote.archived}:t.notes.openNote={type:"note",id:t.notes.openNote.id,txt:KR(t.notes.openNote.todos),title:t.notes.openNote.title,updatedAt:Date.now(),archived:t.notes.openNote.archived,selections:[Xy]})}),MX=()=>ze(t=>{t.notes.openNote&&(t.notes.openNote.archived=!t.notes.openNote.archived,t.notes.openNote.updatedAt=Date.now())}),NX=(t,e)=>ze(n=>{if(!n.notes.openNote||n.notes.openNote.type!=="todo"||!n.notes.openNote.todos.find(l=>l.id===t))return;const r=n.notes.openNote.todos,i=r.find(l=>l.id===t);if(i.done===e)return;i.done=e,i.updated_at=Date.now();const o=r.filter(l=>l.parent===i.id);if(e)for(const l of o)l.done||(l.done=!0,l.updated_at=Date.now());else if(!e&&o.every(l=>l.done))for(const l of o)l.done=!1,l.updated_at=Date.now();const s=r.find(l=>l.id===i.parent);!e&&s&&s.done&&(s.done=!1,s.updated_at=Date.now()),n.notes.openNote.updatedAt=Date.now()}),jX=(t,e)=>ze(n=>{if(!n.notes.openNote||n.notes.openNote.type!=="todo")return;const r=n.notes.openNote.todos.find(i=>i.id===t);r.txt=e,r.updated_at=Date.now(),n.notes.openNote.updatedAt=Date.now()}),G1=(t,e,n)=>ze(r=>{if(!r.notes.openNote||r.notes.openNote.type!=="todo")return;const i=r.notes.openNote.todos,o=t?i.findIndex(l=>l.id===t):-1,s=i.some(l=>l.parent===t);r.notes.openNote.todos.splice(o+1,0,{txt:n??"",done:!1,id:crypto.randomUUID(),updated_at:Date.now(),parent:s?t:e}),r.notes.openNote.updatedAt=Date.now()}),zX=(t,e)=>ze(n=>{if(!n.notes.openNote||n.notes.openNote.type!=="todo")return;const r=n.notes.openNote.todos,{idToTodo:i,visualOrderUndone:o}=Pp(r),s=i[t],l=o.indexOf(t);if(e&&l>0&&s.txt){const u=o[l-1],f=r.find(h=>h.id===u);f.txt=f.txt+s.txt,f.updated_at=Date.now()}n.notes.openNote.todos=r.filter(u=>u.id!==t&&u.parent!==t),n.notes.openNote.updatedAt=Date.now()}),PX=(t,e)=>{const n=Lt();if(!n.notes.openNote||n.notes.openNote.type!=="todo")return;const r=n.notes.openNote.todos,{visualOrderUndone:i,idToTodo:o}=Pp(r),s=o[t],l=i.indexOf(t);if(e==="up"&&l===0)return;if(e==="down"&&l===i.length-1)return;let u;if(s.parent)u=i[l+(e==="up"?-1:1)];else{const f=e==="up"?-1:1;for(let h=l+f;h>=0&&h<i.length;h+=f){const p=i[h];if(!o[p].parent){u=p;break}}}u!==void 0&&LM({dragId:t,dropId:u,closestEdge:e==="up"?"top":"bottom",indent:!!s.parent})},LM=({dragId:t,dropId:e,closestEdge:n,indent:r})=>ze(i=>{if(!i.notes.openNote||i.notes.openNote.type!=="todo")return;const o=i.notes.openNote.todos,s=Pp(o),{idToTodo:l,visualOrderUndone:u,parentToChildIds:f}=s;let{todoTree:h}=s;const p=o.find(T=>T.id===e),g=u.indexOf(p.id),v=n==="bottom"?g:g-1,b=u[v],y=l[b],_=o.find(T=>T.id===t),E=f[_.id];let A=y?.parent??y?.id;if(y?.id===_.id&&v>0){const T=u[v-1],R=l[T];A=R.parent??R.id}if(_.id===y?.parent)return;if(r&&v===-1)return;if(y?.id===_.id&&v===0)return;if(r&&A===_.parent){const T=h.find(([j])=>j===_.parent),R=T[1].findIndex(j=>j===_.id),N=T[1].findIndex(j=>j===p.id);M3(T[1],R,N,n)}else if(r&&_.parent){const T=h.find(([N])=>N===_.parent),R=h.find(([N])=>N===A);T[1]=T[1].filter(N=>N!==_.id),R[1].push(_.id)}else if(!r&&_.parent){const T=h.find(([N])=>N===_.parent);T[1]=T[1].filter(N=>N!==_.id);const R=h.findIndex(([N])=>N===A);h.splice(R+1,0,[_.id,[]])}else if(!r&&_.parent===void 0){const T=h.findIndex(([U])=>U===t),R=p.parent??p.id,N=h.findIndex(([U])=>U===R),j=p.parent?"bottom":n;M3(h,T,N,j)}else if(r&&_.parent===void 0){const T=h.find(([R])=>R===A);if(!T)return;T[1].push(_.id);for(const R of E??[])T[1].push(R);h=h.filter(([R])=>R!==_.id)}const O=[];for(const[T,R]of h){const N=l[T];N.parent!==void 0&&(N.parent=void 0,N.updated_at=Date.now()),O.push(N);for(const j of R){const U=l[j];U.parent!==N.id&&(U.parent=N.id,U.updated_at=Date.now()),O.push(U)}}i.notes.openNote.todos=O,i.notes.openNote.updatedAt=Date.now()}),LX=t=>{t&&ze(e=>{e.notes.openNote&&(t.type==="note"?(e.notes.openNote.type="note",e.notes.openNote.txt=t.txt,e.notes.openNote.selections=t.selections):(e.notes.openNote.type="todo",e.notes.openNote.todos=t.todos),e.notes.openNote.updatedAt=Date.now())})},BX=t=>ze(e=>{e.notes.sort.prop=t}),IX=()=>ze(t=>{t.notes.sort.desc=!t.notes.sort.desc}),$X=async t=>{const e=await et.notes.get(t);if(!(!e||e.deleted_at!==0))if(e.version===1&&e.state==="dirty")await et.notes.delete(t);else{const n=Date.now();await et.notes.update(t,{deleted_at:n,updated_at:n,txt:"",todos:[],state:"dirty",version:e.state==="dirty"?e.version:e.version+1})}},FX=(t,e)=>et.notes.where("id").equals(t).modify(n=>{n.archived=e?1:0,n.updated_at=Date.now(),n.state==="synced"&&(n.state="dirty",n.version=n.version+1)}),BM=async()=>{const t=Lt();if(!t.notes.openNote)return;const e=await et.notes.get(t.notes.openNote.id);if(e){if(e.version===1&&e.state==="dirty")await et.notes.delete(t.notes.openNote.id);else{const n=Date.now();await et.notes.update(t.notes.openNote.id,{deleted_at:n,updated_at:n,txt:"",todos:[],state:"dirty",version:e.state==="dirty"?e.version:e.version+1})}ze(n=>{n.notes.openNote=null,n.notes.noteDialog={labelDropdownOpen:!1,moreMenuOpen:!1}})}},IM=()=>{const t=Lt();t.notes.sync.syncing||t.notes.sync.dialogOpen||(ze(e=>{e.notes.sync.dialogOpen=!0}),Ms())},gO=()=>ze(t=>{t.notes.sync.dialogOpen=!1}),UX=async(t,e)=>{const n=await et.notes.where("state").equals("dirty").and(u=>!KW(u)).limit(1e3).toArray(),r=await et.labels.where("state").equals("dirty").limit(1e3).toArray(),i=await et.files_meta.where("state").equals("dirty").limit(1e3).toArray(),o=r.map(HW).concat(i.map(qW)).concat(n.map(UW)),s=await kV(t.cryptoKey,N3(o,e)),l=N3(s,e);return{encPuts:l,dirtyNotes:n.filter(u=>l.some(f=>f.id===u.id)),dirtyLabels:r.filter(u=>l.some(f=>f.id===u.id)),dirtyFiles:i.filter(u=>l.some(f=>f.id===u.id))}},Ms=Gy(async()=>{const t=Lt(),e=t.user.user.lastSyncedTo,n=t.user.user.keyTokenPair,r=t.user.user.loggedIn;if(!(!n||!r||t.notes.sync.syncing)){ze(i=>{i.notes.sync.syncing=!0});try{const{encPuts:i,dirtyNotes:o,dirtyLabels:s,dirtyFiles:l}=await UX(n,1048576),u=await dV(e,i,n.syncToken);if(!u.success){ze(I=>{I.notes.sync.error=u.error,au(u)&&(I.user.user.loggedIn=!1),I.notes.sync.dialogOpen&&Dt.show({title:"Failed to sync notes",message:u.error,color:"red"})});return}const f=await j3(n.cryptoKey,u.data.puts),{label:h=[],note:p=[],file:g=[]}=R3(f,I=>I.type==="todo"?"note":I.type),v=await j3(n.cryptoKey,u.data.conflicts),{label:b=[],note:y=[],file:_=[]}=R3(v,I=>I.type==="todo"?"note":I.type),E=await et.note_base_versions.where("id").anyOf(v.map(I=>I.id)).toArray(),{merged:A,conflicts:O}=VW(E,o,y.map(q3)),T=GW(s,b.map(H3)),R=JW(l.map(QW),_.map(K3)),N=Object.fromEntries(h.map(H3).concat(T).map(I=>[I.id,I])),j=Object.fromEntries(p.map(q3).concat(A).map(I=>[I.id,I])),U=Object.fromEntries([...g.map(K3).map(I=>({...I,state:"synced"})),...R.map(I=>({...I,state:"dirty"}))].map(I=>[I.id,I])),H=Object.fromEntries(o.map(I=>[I.id,I])),Z=Object.fromEntries(s.map(I=>[I.id,I])),te=Object.fromEntries(l.map(I=>[I.id,I]));await et.transaction("rw",et.notes,et.note_base_versions,et.labels,et.files_meta,async I=>{const Y=new tr;await I.labels.where("id").anyOf(Object.keys(N)).modify(($,q)=>{Y.add($.id);const se=Z[$.id],le=N[$.id];if(se&&$.updated_at>se.updated_at){$.version=$.version+1;return}$.version>=le.version&&$.updated_at!==le.updated_at||(q.value=le)});const M=tr.fromItr(Object.keys(N)).without(Y).toArray();await I.labels.bulkPut(M.map($=>N[$]));const J=new tr;await I.files_meta.where("id").anyOf(Object.keys(U)).modify($=>{J.add($.id);const q=te[$.id],se=U[$.id];if(q&&$.updated_at>q.updated_at){$.version=$.version+1;return}if(!($.version>=se.version&&$.updated_at!==se.updated_at)){for(const le of IK)$[le]=se[le];if(se.deleted_at===0&&se.title!==void 0)for(const le of FK)$[le]=se[le];else $.title="",$.labels=[];$.state=se.state}});const V=tr.fromItr(Object.keys(U)).without(J).toArray();await I.files_meta.bulkPut(V.map($=>({...U[$],has_thumb:0,blob_state:"remote"})).filter($=>$.title!==void 0));const X=[],Q=new tr;await I.notes.where("id").anyOf(Object.keys(j)).modify(($,q)=>{Q.add($.id);const se=H[$.id],le=j[$.id];if(se&&$.updated_at>se.updated_at){$.version=$.version+1;return}$.version>=le.version&&$.updated_at!==le.updated_at||(q.value=le,le.state==="synced"&&X.push(le))});const ue=tr.fromItr(Object.keys(j)).without(Q).toArray().map($=>j[$]);await I.notes.bulkPut(ue),await I.note_base_versions.bulkPut(X.concat(ue))}),HX(j),_X(U),await et.transaction("rw",et.notes,et.note_base_versions,async I=>{const Y=await I.notes.where("deleted_at").notEqual(0).and(M=>M.state==="synced").primaryKeys();await I.notes.bulkDelete(Y),await I.note_base_versions.bulkDelete(Y)}),await et.transaction("rw",et.files_meta,et.files_blob,et.files_thumb,async I=>{const Y=await I.files_meta.where("deleted_at").notEqual(0).and(M=>M.state==="synced").primaryKeys();await I.files_meta.bulkDelete(Y),await I.files_blob.bulkDelete(Y),await I.files_thumb.bulkDelete(Y)}),await et.transaction("rw",et.labels,async I=>{const Y=await I.labels.where("deleted_at").notEqual(0).and(M=>M.state==="synced").primaryKeys();await I.labels.bulkDelete(Y)}),ze(I=>{I.conflicts.conflicts=O,I.user.user.lastSyncedTo=u.data.synced_to,I.notes.sync.error=null,I.notes.sync.dialogOpen&&Dt.show({title:"Success",message:`Notes synced with ${v.length} conflicts`})}),jM()}catch(i){ze(o=>{const s=i instanceof Error?i.message:"Unknown error";o.notes.sync.error=s,o.notes.sync.dialogOpen&&Dt.show({title:"Failed to sync notes",message:s,color:"red"})})}finally{ze(i=>{i.notes.sync.syncing=!1})}}}),HX=t=>{const e=Lt().notes.openNote;if(!e)return;const n=t[e.id];if(n){if(n.deleted_at!==0)return ze(r=>{r.notes.openNote=null});n.updated_at>e.updatedAt&&ze(r=>{r.notes.openNote=n.type==="note"?{type:n.type,id:n.id,title:n.title,txt:n.txt,updatedAt:n.updated_at,archived:n.archived===1,selections:"selections"in e&&e.selections?e.selections:[Xy]}:{type:n.type,id:n.id,title:n.title,todos:n.todos,updatedAt:n.updated_at,archived:n.archived===1}})}},f_=Gy(async()=>{const t=Lt().notes.openNote;if(!t)return;const e=await et.notes.get(t.id);e&&(e.title!==t.title||e.type!==t.type||!!e.archived!==t.archived||e.type==="note"&&e.txt!==t.txt||e.type==="todo"&&!Np(e.todos,t.todos))&&await et.notes.update(t.id,{type:t.type,title:t.title,txt:t.type==="note"?t.txt:void 0,todos:t.type==="todo"?t.todos:void 0,updated_at:t.updatedAt,state:"dirty",version:e.state==="dirty"?e.version:e.version+1,archived:t.archived?1:0})}),qX=()=>{const t=Ll(f_,1e3);ga(n=>n.notes.sort,GY),ga(n=>n.notes.openNote,(n,r)=>n&&r&&t()),ga(n=>n.conflicts.conflicts.length!==0,n=>{n&&Fh()}),ga(n=>n.notes.openNote?.id??null,JY);const e=Ll(Ms,1e3);TV.subscribe(n=>{n&&e()}),RV.subscribe(n=>{n&&e()}),MV.subscribe(n=>{n&&e()}),Io.on("notesPushed",()=>{Ms()})},KX=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=((s,l,u)=>{let f=s;if(l){const h=u?.equalityFn||Object.is;let p=s(r.getState());f=g=>{const v=s(g);if(!h(p,v)){const b=p;l(p=v,b)}},u?.fireImmediately&&l(p,p)}return i(f)}),t(e,n,r)},VX=KX,WX={conflicts:[]},YX=async()=>{const n=Lt().conflicts.conflicts[0];if(!n)return;const r=await et.notes.get(n.id);if(!r)return;const i={...r,version:Math.max(r.version,n.version)+1,state:"dirty"};await et.notes.put(i),ze(o=>{o.conflicts.conflicts=o.conflicts.conflicts.slice(1)})},ZX=async()=>{const n=Lt().conflicts.conflicts[0];n&&(await et.notes.put(n),ze(r=>{r.conflicts.conflicts=r.conflicts.conflicts.slice(1)}))},XX={open:!1},GX=()=>{ze(t=>{t.admin.open=!0})},vO=()=>{ze(t=>{t.admin.open=!1})},QX=Ri(Ti({id:Zc().optional(),updated_at:Bo().optional(),done:Fo(),txt:mn(),parent:Zc().optional()}).strip()),JX=Ri(Ti({id:Zc().optional(),title:mn().optional(),txt:mn().optional(),created_at:Bo().int().positive().optional(),updated_at:Bo().int().positive().optional(),todos:QX.optional(),labels:Ri(mn()).optional(),archived:Fo().optional()}).strip()),$M=Ti({attachments:Ri(Ti({filePath:mn(),mimetype:mn()}).strip()).optional(),title:mn(),userEditedTimestampUsec:Bo(),createdTimestampUsec:Bo(),labels:Ri(Ti({name:mn()}).strip()).optional(),isTrashed:Fo(),isPinned:Fo(),isArchived:Fo(),color:mn()}).strip(),eG=$M.extend({textContent:mn()}),tG=$M.extend({listContent:Ri(Ti({text:mn(),isChecked:Fo()}).strip())}),nG=W2([eG,tG]),rG=Ri(Ti({id:Zc(),title:mn(),ext:mn(),mime:mn(),size:Bo().int().nonnegative(),labels:Ri(mn()).optional(),archived:Fo().optional(),created_at:Bo().int().positive().optional(),updated_at:Bo().int().positive().optional(),deleted_at:Bo().int().nonnegative().optional()}).strip()),FM=Ti({notes:JX,files_meta:rG,labelColors:xK(mn(),_R).optional()}).strip();function _g(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q1={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var yO;function iG(){return yO||(yO=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,o){function s(f,h){if(!i[f]){if(!r[f]){var p=typeof _g=="function"&&_g;if(!h&&p)return p(f,!0);if(l)return l(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var v=i[f]={exports:{}};r[f][0].call(v.exports,function(b){var y=r[f][1][b];return s(y||b)},v,v.exports,n,r,i,o)}return i[f].exports}for(var l=typeof _g=="function"&&_g,u=0;u<o.length;u++)s(o[u]);return s})({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var f,h,p,g,v,b,y,_=[],E=0,A=u.length,O=A,T=o.getTypeOf(u)!=="string";E<u.length;)O=A-E,p=T?(f=u[E++],h=E<A?u[E++]:0,E<A?u[E++]:0):(f=u.charCodeAt(E++),h=E<A?u.charCodeAt(E++):0,E<A?u.charCodeAt(E++):0),g=f>>2,v=(3&f)<<4|h>>4,b=1<O?(15&h)<<2|p>>6:64,y=2<O?63&p:64,_.push(l.charAt(g)+l.charAt(v)+l.charAt(b)+l.charAt(y));return _.join("")},i.decode=function(u){var f,h,p,g,v,b,y=0,_=0,E="data:";if(u.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var A,O=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&O--,u.charAt(u.length-2)===l.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=s.uint8array?new Uint8Array(0|O):new Array(0|O);y<u.length;)f=l.indexOf(u.charAt(y++))<<2|(g=l.indexOf(u.charAt(y++)))>>4,h=(15&g)<<4|(v=l.indexOf(u.charAt(y++)))>>2,p=(3&v)<<6|(b=l.indexOf(u.charAt(y++))),A[_++]=f,v!==64&&(A[_++]=h),b!==64&&(A[_++]=p);return A}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function f(h,p,g,v,b){this.compressedSize=h,this.uncompressedSize=p,this.crc32=g,this.compression=v,this.compressedContent=b}f.prototype={getContentWorker:function(){var h=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(h,p,g){return h.pipe(new l).pipe(new u("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",p)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=(function(){for(var l,u=[],f=0;f<256;f++){l=f;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;u[f]=l}return u})();r.exports=function(l,u){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?(function(f,h,p,g){var v=s,b=g+p;f^=-1;for(var y=g;y<b;y++)f=f>>>8^v[255&(f^h[y])];return-1^f})(0|u,l,l.length,0):(function(f,h,p,g){var v=s,b=g+p;f^=-1;for(var y=g;y<b;y++)f=f>>>8^v[255&(f^h.charCodeAt(y))];return-1^f})(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),l=n("./utils"),u=n("./stream/GenericWorker"),f=o?"uint8array":"array";function h(p,g){u.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}i.magic="\b\0",l.inherits(h,u),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,p.data),!1)},h.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},i.compressWorker=function(p){return new h("Deflate",p)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(v,b){var y,_="";for(y=0;y<b;y++)_+=String.fromCharCode(255&v),v>>>=8;return _}function s(v,b,y,_,E,A){var O,T,R=v.file,N=v.compression,j=A!==f.utf8encode,U=l.transformTo("string",A(R.name)),H=l.transformTo("string",f.utf8encode(R.name)),Z=R.comment,te=l.transformTo("string",A(Z)),I=l.transformTo("string",f.utf8encode(Z)),Y=H.length!==R.name.length,M=I.length!==Z.length,J="",V="",X="",Q=R.dir,ne=R.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(ue.crc32=v.crc32,ue.compressedSize=v.compressedSize,ue.uncompressedSize=v.uncompressedSize);var $=0;b&&($|=8),j||!Y&&!M||($|=2048);var q=0,se=0;Q&&(q|=16),E==="UNIX"?(se=798,q|=(function(me,je){var We=me;return me||(We=je?16893:33204),(65535&We)<<16})(R.unixPermissions,Q)):(se=20,q|=(function(me){return 63&(me||0)})(R.dosPermissions)),O=ne.getUTCHours(),O<<=6,O|=ne.getUTCMinutes(),O<<=5,O|=ne.getUTCSeconds()/2,T=ne.getUTCFullYear()-1980,T<<=4,T|=ne.getUTCMonth()+1,T<<=5,T|=ne.getUTCDate(),Y&&(V=o(1,1)+o(h(U),4)+H,J+="up"+o(V.length,2)+V),M&&(X=o(1,1)+o(h(te),4)+I,J+="uc"+o(X.length,2)+X);var le="";return le+=`
\0`,le+=o($,2),le+=N.magic,le+=o(O,2),le+=o(T,2),le+=o(ue.crc32,4),le+=o(ue.compressedSize,4),le+=o(ue.uncompressedSize,4),le+=o(U.length,2),le+=o(J.length,2),{fileRecord:p.LOCAL_FILE_HEADER+le+U+J,dirRecord:p.CENTRAL_FILE_HEADER+o(se,2)+le+o(te.length,2)+"\0\0\0\0"+o(q,4)+o(_,4)+U+J+te}}var l=n("../utils"),u=n("../stream/GenericWorker"),f=n("../utf8"),h=n("../crc32"),p=n("../signature");function g(v,b,y,_){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=_,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,u),g.prototype.push=function(v){var b=v.meta.percent||0,y=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,u.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-_-1))/y:100}}))},g.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var b=this.streamFiles&&!v.file.dir;if(b){var y=s(v,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(v){this.accumulate=!1;var b=this.streamFiles&&!v.file.dir,y=s(v,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:(function(_){return p.DATA_DESCRIPTOR+o(_.crc32,4)+o(_.compressedSize,4)+o(_.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var v=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-v,_=(function(E,A,O,T,R){var N=l.transformTo("string",R(T));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(E,2)+o(E,2)+o(A,4)+o(O,4)+o(N.length,2)+N})(this.dirRecords.length,y,v,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(v){this._sources.push(v);var b=this;return v.on("data",function(y){b.processChunk(y)}),v.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),v.on("error",function(y){b.error(y)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(v){var b=this._sources;if(!u.prototype.error.call(this,v))return!1;for(var y=0;y<b.length;y++)try{b[y].error(v)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var v=this._sources,b=0;b<v.length;b++)v[b].lock()},r.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(l,u,f){var h=new s(u.streamFiles,f,u.platform,u.encodeFileName),p=0;try{l.forEach(function(g,v){p++;var b=(function(A,O){var T=A||O,R=o[T];if(!R)throw new Error(T+" is not a valid compression method !");return R})(v.options.compression,u.compression),y=v.options.compressionOptions||u.compressionOptions||{},_=v.dir,E=v.date;v._compressWorker(b,y).withStreamInfo("file",{name:g,dir:_,date:E,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(h)}),h.entriesCount=p}catch(g){h.error(g)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,l){return new o().loadAsync(s,l)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),l=n("./utf8"),u=n("./zipEntries"),f=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function p(g){return new s.Promise(function(v,b){var y=g.decompressed.getContentWorker().pipe(new f);y.on("error",function(_){b(_)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(g,v){var b=this;return v=o.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",g,!0,v.optimizedBinaryString,v.base64).then(function(y){var _=new u(v);return _.load(y),_}).then(function(y){var _=[s.Promise.resolve(y)],E=y.files;if(v.checkCRC32)for(var A=0;A<E.length;A++)_.push(p(E[A]));return s.Promise.all(_)}).then(function(y){for(var _=y.shift(),E=_.files,A=0;A<E.length;A++){var O=E[A],T=O.fileNameStr,R=o.resolve(O.fileNameStr);b.file(R,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:v.createFolders}),O.dir||(b.file(R).unsafeOriginalName=T)}return _.zipComment.length&&(b.comment=_.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function l(u,f){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}o.inherits(l,s),l.prototype._bindStream=function(u){var f=this;(this._stream=u).pause(),u.on("data",function(h){f.push({data:h,meta:{percent:0}})}).on("error",function(h){f.isPaused?this.generatedError=h:f.error(h)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(l,u,f){o.call(this,u),this._helper=l;var h=this;l.on("data",function(p,g){h.push(p)||h._helper.pause(),f&&f(g)}).on("error",function(p){h.emit("error",p)}).on("end",function(){h.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(R,N,j){var U,H=l.getTypeOf(N),Z=l.extend(j||{},h);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(R=E(R)),Z.createFolders&&(U=_(R))&&A.call(this,U,!0);var te=H==="string"&&Z.binary===!1&&Z.base64===!1;j&&j.binary!==void 0||(Z.binary=!te),(N instanceof p&&N.uncompressedSize===0||Z.dir||!N||N.length===0)&&(Z.base64=!1,Z.binary=!0,N="",Z.compression="STORE",H="string");var I=null;I=N instanceof p||N instanceof u?N:b.isNode&&b.isStream(N)?new y(R,N):l.prepareContent(R,N,Z.binary,Z.optimizedBinaryString,Z.base64);var Y=new g(R,I,Z);this.files[R]=Y}var s=n("./utf8"),l=n("./utils"),u=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),h=n("./defaults"),p=n("./compressedObject"),g=n("./zipObject"),v=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),_=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var N=R.lastIndexOf("/");return 0<N?R.substring(0,N):""},E=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},A=function(R,N){return N=N!==void 0?N:h.createFolders,R=E(R),this.files[R]||o.call(this,R,null,{dir:!0,createFolders:N}),this.files[R]};function O(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var N,j,U;for(N in this.files)U=this.files[N],(j=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&R(j,U)},filter:function(R){var N=[];return this.forEach(function(j,U){R(j,U)&&N.push(U)}),N},file:function(R,N,j){if(arguments.length!==1)return R=this.root+R,o.call(this,R,N,j),this;if(O(R)){var U=R;return this.filter(function(Z,te){return!te.dir&&U.test(Z)})}var H=this.files[this.root+R];return H&&!H.dir?H:null},folder:function(R){if(!R)return this;if(O(R))return this.filter(function(H,Z){return Z.dir&&R.test(H)});var N=this.root+R,j=A.call(this,N),U=this.clone();return U.root=j.name,U},remove:function(R){R=this.root+R;var N=this.files[R];if(N||(R.slice(-1)!=="/"&&(R+="/"),N=this.files[R]),N&&!N.dir)delete this.files[R];else for(var j=this.filter(function(H,Z){return Z.name.slice(0,R.length)===R}),U=0;U<j.length;U++)delete this.files[j[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var N,j={};try{if((j=l.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");l.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var U=j.comment||this.comment||"";N=v.generateWorker(this,j,U)}catch(H){(N=new u("error")).error(H)}return new f(N,j.type||"string",j.mimeType)},generateAsync:function(R,N){return this.generateInternalStream(R).accumulate(N)},generateNodeStream:function(R,N){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(N)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(l){o.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}n("../utils").inherits(s,o),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),f=l.charCodeAt(1),h=l.charCodeAt(2),p=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===f&&this.data[g+2]===h&&this.data[g+3]===p)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),f=l.charCodeAt(1),h=l.charCodeAt(2),p=l.charCodeAt(3),g=this.readData(4);return u===g[0]&&f===g[1]&&h===g[2]&&p===g[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,f=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)f=(f<<8)+this.byteAt(u);return this.index+=l,f},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(l){o.call(this,l)}n("../utils").inherits(s,o),s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(l){o.call(this,l)}n("../utils").inherits(s,o),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(l){o.call(this,l)}n("../utils").inherits(s,o),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),l=n("./ArrayReader"),u=n("./StringReader"),f=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(p){var g=o.getTypeOf(p);return o.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new f(p):s.uint8array?new h(o.transformTo("uint8array",p)):new l(o.transformTo("array",p)):new u(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function l(u){o.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(l,o),l.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,o),l.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function l(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}o.inherits(l,s),l.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}s.prototype.processChunk.call(this,u)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function l(u){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(h){f.dataIsReady=!0,f.data=h,f.max=h&&h.length||0,f.type=o.getTypeOf(h),f.isPaused||f._tickAndRepeat()},function(h){f.error(h)})}o.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,f);break;case"uint8array":u=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":u=this.data.slice(this.index,f)}return this.index=f,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(u){l.processChunk(u)}),s.on("end",function(){l.end()}),s.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),l=n("./GenericWorker"),u=n("../base64"),f=n("../support"),h=n("../external"),p=null;if(f.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,y){return new h.Promise(function(_,E){var A=[],O=b._internalType,T=b._outputType,R=b._mimeType;b.on("data",function(N,j){A.push(N),y&&y(j)}).on("error",function(N){A=[],E(N)}).on("end",function(){try{var N=(function(j,U,H){switch(j){case"blob":return o.newBlob(o.transformTo("arraybuffer",U),H);case"base64":return u.encode(U);default:return o.transformTo(j,U)}})(T,(function(j,U){var H,Z=0,te=null,I=0;for(H=0;H<U.length;H++)I+=U[H].length;switch(j){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(te=new Uint8Array(I),H=0;H<U.length;H++)te.set(U[H],Z),Z+=U[H].length;return te;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+j+"'")}})(O,A),R);_(N)}catch(j){E(j)}A=[]}).resume()})}function v(b,y,_){var E=y;switch(y){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=y,this._mimeType=_,o.checkSupport(E),this._worker=b.pipe(new s(E)),b.lock()}catch(A){this._worker=new l("error"),this._worker.error(A)}}v.prototype={accumulate:function(b){return g(this,b)},on:function(b,y){var _=this;return b==="data"?this._worker.on(b,function(E){y.call(_,E.data,E.meta)}):this._worker.on(b,function(){o.delay(y,arguments,_)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),l=n("./nodejsUtils"),u=n("./stream/GenericWorker"),f=new Array(256),h=0;h<256;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;f[254]=f[254]=1;function p(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}i.utf8encode=function(v){return s.nodebuffer?l.newBufferFrom(v,"utf-8"):(function(b){var y,_,E,A,O,T=b.length,R=0;for(A=0;A<T;A++)(64512&(_=b.charCodeAt(A)))==55296&&A+1<T&&(64512&(E=b.charCodeAt(A+1)))==56320&&(_=65536+(_-55296<<10)+(E-56320),A++),R+=_<128?1:_<2048?2:_<65536?3:4;for(y=s.uint8array?new Uint8Array(R):new Array(R),A=O=0;O<R;A++)(64512&(_=b.charCodeAt(A)))==55296&&A+1<T&&(64512&(E=b.charCodeAt(A+1)))==56320&&(_=65536+(_-55296<<10)+(E-56320),A++),_<128?y[O++]=_:(_<2048?y[O++]=192|_>>>6:(_<65536?y[O++]=224|_>>>12:(y[O++]=240|_>>>18,y[O++]=128|_>>>12&63),y[O++]=128|_>>>6&63),y[O++]=128|63&_);return y})(v)},i.utf8decode=function(v){return s.nodebuffer?o.transformTo("nodebuffer",v).toString("utf-8"):(function(b){var y,_,E,A,O=b.length,T=new Array(2*O);for(y=_=0;y<O;)if((E=b[y++])<128)T[_++]=E;else if(4<(A=f[E]))T[_++]=65533,y+=A-1;else{for(E&=A===2?31:A===3?15:7;1<A&&y<O;)E=E<<6|63&b[y++],A--;1<A?T[_++]=65533:E<65536?T[_++]=E:(E-=65536,T[_++]=55296|E>>10&1023,T[_++]=56320|1023&E)}return T.length!==_&&(T.subarray?T=T.subarray(0,_):T.length=_),o.applyFromCharCode(T)})(v=o.transformTo(s.uint8array?"uint8array":"array",v))},o.inherits(p,u),p.prototype.processChunk=function(v){var b=o.transformTo(s.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var _=(function(A,O){var T;for((O=O||A.length)>A.length&&(O=A.length),T=O-1;0<=T&&(192&A[T])==128;)T--;return T<0||T===0?O:T+f[A[T]]>O?T:O})(b),E=b;_!==b.length&&(s.uint8array?(E=b.subarray(0,_),this.leftOver=b.subarray(_,b.length)):(E=b.slice(0,_),this.leftOver=b.slice(_,b.length))),this.push({data:i.utf8decode(E),meta:v.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,o.inherits(g,u),g.prototype.processChunk=function(v){this.push({data:i.utf8encode(v.data),meta:v.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),l=n("./nodejsUtils"),u=n("./external");function f(y){return y}function h(y,_){for(var E=0;E<y.length;++E)_[E]=255&y.charCodeAt(E);return _}n("setimmediate"),i.newBlob=function(y,_){i.checkSupport("blob");try{return new Blob([y],{type:_})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(y),E.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(y,_,E){var A=[],O=0,T=y.length;if(T<=E)return String.fromCharCode.apply(null,y);for(;O<T;)_==="array"||_==="nodebuffer"?A.push(String.fromCharCode.apply(null,y.slice(O,Math.min(O+E,T)))):A.push(String.fromCharCode.apply(null,y.subarray(O,Math.min(O+E,T)))),O+=E;return A.join("")},stringifyByChar:function(y){for(var _="",E=0;E<y.length;E++)_+=String.fromCharCode(y[E]);return _},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function g(y){var _=65536,E=i.getTypeOf(y),A=!0;if(E==="uint8array"?A=p.applyCanBeUsed.uint8array:E==="nodebuffer"&&(A=p.applyCanBeUsed.nodebuffer),A)for(;1<_;)try{return p.stringifyByChunk(y,E,_)}catch{_=Math.floor(_/2)}return p.stringifyByChar(y)}function v(y,_){for(var E=0;E<y.length;E++)_[E]=y[E];return _}i.applyFromCharCode=g;var b={};b.string={string:f,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,l.allocBuffer(y.length))}},b.array={string:g,array:f,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},b.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:f,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:g,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:f,nodebuffer:function(y){return l.newBufferFrom(y)}},b.nodebuffer={string:g,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:f},i.transformTo=function(y,_){if(_=_||"",!y)return _;i.checkSupport(y);var E=i.getTypeOf(_);return b[E][y](_)},i.resolve=function(y){for(var _=y.split("/"),E=[],A=0;A<_.length;A++){var O=_[A];O==="."||O===""&&A!==0&&A!==_.length-1||(O===".."?E.pop():E.push(O))}return E.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var _,E,A="";for(E=0;E<(y||"").length;E++)A+="\\x"+((_=y.charCodeAt(E))<16?"0":"")+_.toString(16).toUpperCase();return A},i.delay=function(y,_,E){setImmediate(function(){y.apply(E||null,_||[])})},i.inherits=function(y,_){function E(){}E.prototype=_.prototype,y.prototype=new E},i.extend=function(){var y,_,E={};for(y=0;y<arguments.length;y++)for(_ in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],_)&&E[_]===void 0&&(E[_]=arguments[y][_]);return E},i.prepareContent=function(y,_,E,A,O){return u.Promise.resolve(_).then(function(T){return o.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new u.Promise(function(R,N){var j=new FileReader;j.onload=function(U){R(U.target.result)},j.onerror=function(U){N(U.target.error)},j.readAsArrayBuffer(T)}):T}).then(function(T){var R=i.getTypeOf(T);return R?(R==="arraybuffer"?T=i.transformTo("uint8array",T):R==="string"&&(O?T=s.decode(T):E&&A!==!0&&(T=(function(N){return h(N,o.uint8array?new Uint8Array(N.length):new Array(N.length))})(T))),T):u.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),l=n("./signature"),u=n("./zipEntry"),f=n("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(p)+")")}},isSignature:function(p,g){var v=this.reader.index;this.reader.setIndex(p);var b=this.reader.readString(4)===g;return this.reader.setIndex(v),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",v=s.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,v,b=this.zip64EndOfCentralSize-44;0<b;)p=this.reader.readInt(2),g=this.reader.readInt(4),v=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var b=g-v;if(0<b)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(p){this.reader=o(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),l=n("./compressedObject"),u=n("./crc32"),f=n("./utf8"),h=n("./compressions"),p=n("./support");function g(v,b){this.options=v,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var b,y;if(v.skip(22),this.fileNameLength=v.readInt(2),y=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(_){for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)&&h[E].magic===_)return h[E];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var b=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(b),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var b,y,_,E=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<E;)b=v.readInt(2),y=v.readInt(2),_=v.readData(y),this.extraFields[b]={id:b,length:y,value:_};v.setIndex(E)},handleUTF8:function(){var v=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=s.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var E=s.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var b=o(v.value);return b.readInt(1)!==1||u(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var b=o(v.value);return b.readInt(1)!==1||u(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(v.length-5))}return null}},r.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(b,y,_){this.name=b,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=y,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),u=n("./utf8"),f=n("./compressedObject"),h=n("./stream/GenericWorker");o.prototype={internalStream:function(b){var y=null,_="string";try{if(!b)throw new Error("No output type specified.");var E=(_=b.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),y=this._decompressWorker();var A=!this._dataBinary;A&&!E&&(y=y.pipe(new u.Utf8EncodeWorker)),!A&&E&&(y=y.pipe(new u.Utf8DecodeWorker))}catch(O){(y=new h("error")).error(O)}return new s(y,_,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(_,b,y)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<p.length;v++)o.prototype[p[v]]=g;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,l,u=o.MutationObserver||o.WebKitMutationObserver;if(u){var f=0,h=new u(b),p=o.document.createTextNode("");h.observe(p,{characterData:!0}),s=function(){p.data=f=++f%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var g=new o.MessageChannel;g.port1.onmessage=b,s=function(){g.port2.postMessage(0)}}var v=[];function b(){var y,_;l=!0;for(var E=v.length;E;){for(_=v,v=[],y=-1;++y<E;)_[y]();E=v.length}l=!1}r.exports=function(y){v.push(y)!==1||l||s()}}).call(this,typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var l={},u=["REJECTED"],f=["FULFILLED"],h=["PENDING"];function p(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,E!==s&&y(this,E)}function g(E,A,O){this.promise=E,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function v(E,A,O){o(function(){var T;try{T=A(O)}catch(R){return l.reject(E,R)}T===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,T)})}function b(E){var A=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof A=="function")return function(){A.apply(E,arguments)}}function y(E,A){var O=!1;function T(j){O||(O=!0,l.reject(E,j))}function R(j){O||(O=!0,l.resolve(E,j))}var N=_(function(){A(R,T)});N.status==="error"&&T(N.value)}function _(E,A){var O={};try{O.value=E(A),O.status="success"}catch(T){O.status="error",O.value=T}return O}(r.exports=p).prototype.finally=function(E){if(typeof E!="function")return this;var A=this.constructor;return this.then(function(O){return A.resolve(E()).then(function(){return O})},function(O){return A.resolve(E()).then(function(){throw O})})},p.prototype.catch=function(E){return this.then(null,E)},p.prototype.then=function(E,A){if(typeof E!="function"&&this.state===f||typeof A!="function"&&this.state===u)return this;var O=new this.constructor(s);return this.state!==h?v(O,this.state===f?E:A,this.outcome):this.queue.push(new g(O,E,A)),O},g.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},g.prototype.otherCallFulfilled=function(E){v(this.promise,this.onFulfilled,E)},g.prototype.callRejected=function(E){l.reject(this.promise,E)},g.prototype.otherCallRejected=function(E){v(this.promise,this.onRejected,E)},l.resolve=function(E,A){var O=_(b,A);if(O.status==="error")return l.reject(E,O.value);var T=O.value;if(T)y(E,T);else{E.state=f,E.outcome=A;for(var R=-1,N=E.queue.length;++R<N;)E.queue[R].callFulfilled(A)}return E},l.reject=function(E,A){E.state=u,E.outcome=A;for(var O=-1,T=E.queue.length;++O<T;)E.queue[O].callRejected(A);return E},p.resolve=function(E){return E instanceof this?E:l.resolve(new this(s),E)},p.reject=function(E){var A=new this(s);return l.reject(A,E)},p.all=function(E){var A=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,T=!1;if(!O)return this.resolve([]);for(var R=new Array(O),N=0,j=-1,U=new this(s);++j<O;)H(E[j],j);return U;function H(Z,te){A.resolve(Z).then(function(I){R[te]=I,++N!==O||T||(T=!0,l.resolve(U,R))},function(I){T||(T=!0,l.reject(U,I))})}},p.race=function(E){var A=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,T=!1;if(!O)return this.resolve([]);for(var R=-1,N=new this(s);++R<O;)j=E[R],A.resolve(j).then(function(U){T||(T=!0,l.resolve(N,U))},function(U){T||(T=!0,l.reject(N,U))});var j;return N}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),l=n("./utils/strings"),u=n("./zlib/messages"),f=n("./zlib/zstream"),h=Object.prototype.toString,p=0,g=-1,v=0,b=8;function y(E){if(!(this instanceof y))return new y(E);this.options=s.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},E||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var O=o.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(O!==p)throw new Error(u[O]);if(A.header&&o.deflateSetHeader(this.strm,A.header),A.dictionary){var T;if(T=typeof A.dictionary=="string"?l.string2buf(A.dictionary):h.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(O=o.deflateSetDictionary(this.strm,T))!==p)throw new Error(u[O]);this._dict_set=!0}}function _(E,A){var O=new y(A);if(O.push(E,!0),O.err)throw O.msg||u[O.err];return O.result}y.prototype.push=function(E,A){var O,T,R=this.strm,N=this.options.chunkSize;if(this.ended)return!1;T=A===~~A?A:A===!0?4:0,typeof E=="string"?R.input=l.string2buf(E):h.call(E)==="[object ArrayBuffer]"?R.input=new Uint8Array(E):R.input=E,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new s.Buf8(N),R.next_out=0,R.avail_out=N),(O=o.deflate(R,T))!==1&&O!==p)return this.onEnd(O),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(R.output,R.next_out))):this.onData(s.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&O!==1);return T===4?(O=o.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===p):T!==2||(this.onEnd(p),!(R.avail_out=0))},y.prototype.onData=function(E){this.chunks.push(E)},y.prototype.onEnd=function(E){E===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},i.Deflate=y,i.deflate=_,i.deflateRaw=function(E,A){return(A=A||{}).raw=!0,_(E,A)},i.gzip=function(E,A){return(A=A||{}).gzip=!0,_(E,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),l=n("./utils/strings"),u=n("./zlib/constants"),f=n("./zlib/messages"),h=n("./zlib/zstream"),p=n("./zlib/gzheader"),g=Object.prototype.toString;function v(y){if(!(this instanceof v))return new v(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||y&&y.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var E=o.inflateInit2(this.strm,_.windowBits);if(E!==u.Z_OK)throw new Error(f[E]);this.header=new p,o.inflateGetHeader(this.strm,this.header)}function b(y,_){var E=new v(_);if(E.push(y,!0),E.err)throw E.msg||f[E.err];return E.result}v.prototype.push=function(y,_){var E,A,O,T,R,N,j=this.strm,U=this.options.chunkSize,H=this.options.dictionary,Z=!1;if(this.ended)return!1;A=_===~~_?_:_===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof y=="string"?j.input=l.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?j.input=new Uint8Array(y):j.input=y,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(U),j.next_out=0,j.avail_out=U),(E=o.inflate(j,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&H&&(N=typeof H=="string"?l.string2buf(H):g.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,E=o.inflateSetDictionary(this.strm,N)),E===u.Z_BUF_ERROR&&Z===!0&&(E=u.Z_OK,Z=!1),E!==u.Z_STREAM_END&&E!==u.Z_OK)return this.onEnd(E),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&E!==u.Z_STREAM_END&&(j.avail_in!==0||A!==u.Z_FINISH&&A!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=l.utf8border(j.output,j.next_out),T=j.next_out-O,R=l.buf2string(j.output,O),j.next_out=T,j.avail_out=U-T,T&&s.arraySet(j.output,j.output,O,T,0),this.onData(R)):this.onData(s.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(Z=!0)}while((0<j.avail_in||j.avail_out===0)&&E!==u.Z_STREAM_END);return E===u.Z_STREAM_END&&(A=u.Z_FINISH),A===u.Z_FINISH?(E=o.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===u.Z_OK):A!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(j.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=v,i.inflate=b,i.inflateRaw=function(y,_){return(_=_||{}).raw=!0,b(y,_)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var h=f.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(u[p]=h[p])}}return u},i.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var s={arraySet:function(u,f,h,p,g){if(f.subarray&&u.subarray)u.set(f.subarray(h,h+p),g);else for(var v=0;v<p;v++)u[g+v]=f[h+v]},flattenChunks:function(u){var f,h,p,g,v,b;for(f=p=0,h=u.length;f<h;f++)p+=u[f].length;for(b=new Uint8Array(p),f=g=0,h=u.length;f<h;f++)v=u[f],b.set(v,g),g+=v.length;return b}},l={arraySet:function(u,f,h,p,g){for(var v=0;v<p;v++)u[g+v]=f[h+v]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new o.Buf8(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function h(p,g){if(g<65537&&(p.subarray&&l||!p.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(p,g));for(var v="",b=0;b<g;b++)v+=String.fromCharCode(p[b]);return v}u[254]=u[254]=1,i.string2buf=function(p){var g,v,b,y,_,E=p.length,A=0;for(y=0;y<E;y++)(64512&(v=p.charCodeAt(y)))==55296&&y+1<E&&(64512&(b=p.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(b-56320),y++),A+=v<128?1:v<2048?2:v<65536?3:4;for(g=new o.Buf8(A),y=_=0;_<A;y++)(64512&(v=p.charCodeAt(y)))==55296&&y+1<E&&(64512&(b=p.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(b-56320),y++),v<128?g[_++]=v:(v<2048?g[_++]=192|v>>>6:(v<65536?g[_++]=224|v>>>12:(g[_++]=240|v>>>18,g[_++]=128|v>>>12&63),g[_++]=128|v>>>6&63),g[_++]=128|63&v);return g},i.buf2binstring=function(p){return h(p,p.length)},i.binstring2buf=function(p){for(var g=new o.Buf8(p.length),v=0,b=g.length;v<b;v++)g[v]=p.charCodeAt(v);return g},i.buf2string=function(p,g){var v,b,y,_,E=g||p.length,A=new Array(2*E);for(v=b=0;v<E;)if((y=p[v++])<128)A[b++]=y;else if(4<(_=u[y]))A[b++]=65533,v+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&v<E;)y=y<<6|63&p[v++],_--;1<_?A[b++]=65533:y<65536?A[b++]=y:(y-=65536,A[b++]=55296|y>>10&1023,A[b++]=56320|1023&y)}return h(A,b)},i.utf8border=function(p,g){var v;for((g=g||p.length)>p.length&&(g=p.length),v=g-1;0<=v&&(192&p[v])==128;)v--;return v<0||v===0?g:v+u[p[v]]>g?v:g}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,l,u){for(var f=65535&o|0,h=o>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;h=h+(f=f+s[u++]|0)|0,--p;);f%=65521,h%=65521}return f|h<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=(function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l})();r.exports=function(s,l,u,f){var h=o,p=f+u;s^=-1;for(var g=f;g<p;g++)s=s>>>8^h[255&(s^l[g])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),l=n("./trees"),u=n("./adler32"),f=n("./crc32"),h=n("./messages"),p=0,g=4,v=0,b=-2,y=-1,_=4,E=2,A=8,O=9,T=286,R=30,N=19,j=2*T+1,U=15,H=3,Z=258,te=Z+H+1,I=42,Y=113,M=1,J=2,V=3,X=4;function Q(B,Ee){return B.msg=h[Ee],Ee}function ne(B){return(B<<1)-(4<B?9:0)}function ue(B){for(var Ee=B.length;0<=--Ee;)B[Ee]=0}function $(B){var Ee=B.state,be=Ee.pending;be>B.avail_out&&(be=B.avail_out),be!==0&&(s.arraySet(B.output,Ee.pending_buf,Ee.pending_out,be,B.next_out),B.next_out+=be,Ee.pending_out+=be,B.total_out+=be,B.avail_out-=be,Ee.pending-=be,Ee.pending===0&&(Ee.pending_out=0))}function q(B,Ee){l._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,Ee),B.block_start=B.strstart,$(B.strm)}function se(B,Ee){B.pending_buf[B.pending++]=Ee}function le(B,Ee){B.pending_buf[B.pending++]=Ee>>>8&255,B.pending_buf[B.pending++]=255&Ee}function me(B,Ee){var be,ee,G=B.max_chain_length,ae=B.strstart,Ne=B.prev_length,Me=B.nice_match,pe=B.strstart>B.w_size-te?B.strstart-(B.w_size-te):0,Ue=B.window,ge=B.w_mask,Oe=B.prev,Ge=B.strstart+Z,tt=Ue[ae+Ne-1],vt=Ue[ae+Ne];B.prev_length>=B.good_match&&(G>>=2),Me>B.lookahead&&(Me=B.lookahead);do if(Ue[(be=Ee)+Ne]===vt&&Ue[be+Ne-1]===tt&&Ue[be]===Ue[ae]&&Ue[++be]===Ue[ae+1]){ae+=2,be++;do;while(Ue[++ae]===Ue[++be]&&Ue[++ae]===Ue[++be]&&Ue[++ae]===Ue[++be]&&Ue[++ae]===Ue[++be]&&Ue[++ae]===Ue[++be]&&Ue[++ae]===Ue[++be]&&Ue[++ae]===Ue[++be]&&Ue[++ae]===Ue[++be]&&ae<Ge);if(ee=Z-(Ge-ae),ae=Ge-Z,Ne<ee){if(B.match_start=Ee,Me<=(Ne=ee))break;tt=Ue[ae+Ne-1],vt=Ue[ae+Ne]}}while((Ee=Oe[Ee&ge])>pe&&--G!=0);return Ne<=B.lookahead?Ne:B.lookahead}function je(B){var Ee,be,ee,G,ae,Ne,Me,pe,Ue,ge,Oe=B.w_size;do{if(G=B.window_size-B.lookahead-B.strstart,B.strstart>=Oe+(Oe-te)){for(s.arraySet(B.window,B.window,Oe,Oe,0),B.match_start-=Oe,B.strstart-=Oe,B.block_start-=Oe,Ee=be=B.hash_size;ee=B.head[--Ee],B.head[Ee]=Oe<=ee?ee-Oe:0,--be;);for(Ee=be=Oe;ee=B.prev[--Ee],B.prev[Ee]=Oe<=ee?ee-Oe:0,--be;);G+=Oe}if(B.strm.avail_in===0)break;if(Ne=B.strm,Me=B.window,pe=B.strstart+B.lookahead,Ue=G,ge=void 0,ge=Ne.avail_in,Ue<ge&&(ge=Ue),be=ge===0?0:(Ne.avail_in-=ge,s.arraySet(Me,Ne.input,Ne.next_in,ge,pe),Ne.state.wrap===1?Ne.adler=u(Ne.adler,Me,ge,pe):Ne.state.wrap===2&&(Ne.adler=f(Ne.adler,Me,ge,pe)),Ne.next_in+=ge,Ne.total_in+=ge,ge),B.lookahead+=be,B.lookahead+B.insert>=H)for(ae=B.strstart-B.insert,B.ins_h=B.window[ae],B.ins_h=(B.ins_h<<B.hash_shift^B.window[ae+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[ae+H-1])&B.hash_mask,B.prev[ae&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=ae,ae++,B.insert--,!(B.lookahead+B.insert<H)););}while(B.lookahead<te&&B.strm.avail_in!==0)}function We(B,Ee){for(var be,ee;;){if(B.lookahead<te){if(je(B),B.lookahead<te&&Ee===p)return M;if(B.lookahead===0)break}if(be=0,B.lookahead>=H&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+H-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),be!==0&&B.strstart-be<=B.w_size-te&&(B.match_length=me(B,be)),B.match_length>=H)if(ee=l._tr_tally(B,B.strstart-B.match_start,B.match_length-H),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=H){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+H-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else ee=l._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(ee&&(q(B,!1),B.strm.avail_out===0))return M}return B.insert=B.strstart<H-1?B.strstart:H-1,Ee===g?(q(B,!0),B.strm.avail_out===0?V:X):B.last_lit&&(q(B,!1),B.strm.avail_out===0)?M:J}function Xe(B,Ee){for(var be,ee,G;;){if(B.lookahead<te){if(je(B),B.lookahead<te&&Ee===p)return M;if(B.lookahead===0)break}if(be=0,B.lookahead>=H&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+H-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=H-1,be!==0&&B.prev_length<B.max_lazy_match&&B.strstart-be<=B.w_size-te&&(B.match_length=me(B,be),B.match_length<=5&&(B.strategy===1||B.match_length===H&&4096<B.strstart-B.match_start)&&(B.match_length=H-1)),B.prev_length>=H&&B.match_length<=B.prev_length){for(G=B.strstart+B.lookahead-H,ee=l._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-H),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=G&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+H-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=H-1,B.strstart++,ee&&(q(B,!1),B.strm.avail_out===0))return M}else if(B.match_available){if((ee=l._tr_tally(B,0,B.window[B.strstart-1]))&&q(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return M}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(ee=l._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<H-1?B.strstart:H-1,Ee===g?(q(B,!0),B.strm.avail_out===0?V:X):B.last_lit&&(q(B,!1),B.strm.avail_out===0)?M:J}function Ae(B,Ee,be,ee,G){this.good_length=B,this.max_lazy=Ee,this.nice_length=be,this.max_chain=ee,this.func=G}function ht(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*j),this.dyn_dtree=new s.Buf16(2*(2*R+1)),this.bl_tree=new s.Buf16(2*(2*N+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(U+1),this.heap=new s.Buf16(2*T+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ye(B){var Ee;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=E,(Ee=B.state).pending=0,Ee.pending_out=0,Ee.wrap<0&&(Ee.wrap=-Ee.wrap),Ee.status=Ee.wrap?I:Y,B.adler=Ee.wrap===2?0:1,Ee.last_flush=p,l._tr_init(Ee),v):Q(B,b)}function Je(B){var Ee=Ye(B);return Ee===v&&(function(be){be.window_size=2*be.w_size,ue(be.head),be.max_lazy_match=o[be.level].max_lazy,be.good_match=o[be.level].good_length,be.nice_match=o[be.level].nice_length,be.max_chain_length=o[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=H-1,be.match_available=0,be.ins_h=0})(B.state),Ee}function ct(B,Ee,be,ee,G,ae){if(!B)return b;var Ne=1;if(Ee===y&&(Ee=6),ee<0?(Ne=0,ee=-ee):15<ee&&(Ne=2,ee-=16),G<1||O<G||be!==A||ee<8||15<ee||Ee<0||9<Ee||ae<0||_<ae)return Q(B,b);ee===8&&(ee=9);var Me=new ht;return(B.state=Me).strm=B,Me.wrap=Ne,Me.gzhead=null,Me.w_bits=ee,Me.w_size=1<<Me.w_bits,Me.w_mask=Me.w_size-1,Me.hash_bits=G+7,Me.hash_size=1<<Me.hash_bits,Me.hash_mask=Me.hash_size-1,Me.hash_shift=~~((Me.hash_bits+H-1)/H),Me.window=new s.Buf8(2*Me.w_size),Me.head=new s.Buf16(Me.hash_size),Me.prev=new s.Buf16(Me.w_size),Me.lit_bufsize=1<<G+6,Me.pending_buf_size=4*Me.lit_bufsize,Me.pending_buf=new s.Buf8(Me.pending_buf_size),Me.d_buf=1*Me.lit_bufsize,Me.l_buf=3*Me.lit_bufsize,Me.level=Ee,Me.strategy=ae,Me.method=be,Je(B)}o=[new Ae(0,0,0,0,function(B,Ee){var be=65535;for(be>B.pending_buf_size-5&&(be=B.pending_buf_size-5);;){if(B.lookahead<=1){if(je(B),B.lookahead===0&&Ee===p)return M;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var ee=B.block_start+be;if((B.strstart===0||B.strstart>=ee)&&(B.lookahead=B.strstart-ee,B.strstart=ee,q(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-te&&(q(B,!1),B.strm.avail_out===0))return M}return B.insert=0,Ee===g?(q(B,!0),B.strm.avail_out===0?V:X):(B.strstart>B.block_start&&(q(B,!1),B.strm.avail_out),M)}),new Ae(4,4,8,4,We),new Ae(4,5,16,8,We),new Ae(4,6,32,32,We),new Ae(4,4,16,16,Xe),new Ae(8,16,32,32,Xe),new Ae(8,16,128,128,Xe),new Ae(8,32,128,256,Xe),new Ae(32,128,258,1024,Xe),new Ae(32,258,258,4096,Xe)],i.deflateInit=function(B,Ee){return ct(B,Ee,A,15,8,0)},i.deflateInit2=ct,i.deflateReset=Je,i.deflateResetKeep=Ye,i.deflateSetHeader=function(B,Ee){return B&&B.state?B.state.wrap!==2?b:(B.state.gzhead=Ee,v):b},i.deflate=function(B,Ee){var be,ee,G,ae;if(!B||!B.state||5<Ee||Ee<0)return B?Q(B,b):b;if(ee=B.state,!B.output||!B.input&&B.avail_in!==0||ee.status===666&&Ee!==g)return Q(B,B.avail_out===0?-5:b);if(ee.strm=B,be=ee.last_flush,ee.last_flush=Ee,ee.status===I)if(ee.wrap===2)B.adler=0,se(ee,31),se(ee,139),se(ee,8),ee.gzhead?(se(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),se(ee,255&ee.gzhead.time),se(ee,ee.gzhead.time>>8&255),se(ee,ee.gzhead.time>>16&255),se(ee,ee.gzhead.time>>24&255),se(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),se(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(se(ee,255&ee.gzhead.extra.length),se(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(B.adler=f(B.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(se(ee,0),se(ee,0),se(ee,0),se(ee,0),se(ee,0),se(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),se(ee,3),ee.status=Y);else{var Ne=A+(ee.w_bits-8<<4)<<8;Ne|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:ee.level===6?2:3)<<6,ee.strstart!==0&&(Ne|=32),Ne+=31-Ne%31,ee.status=Y,le(ee,Ne),ee.strstart!==0&&(le(ee,B.adler>>>16),le(ee,65535&B.adler)),B.adler=1}if(ee.status===69)if(ee.gzhead.extra){for(G=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>G&&(B.adler=f(B.adler,ee.pending_buf,ee.pending-G,G)),$(B),G=ee.pending,ee.pending!==ee.pending_buf_size));)se(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>G&&(B.adler=f(B.adler,ee.pending_buf,ee.pending-G,G)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(ee.status===73)if(ee.gzhead.name){G=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>G&&(B.adler=f(B.adler,ee.pending_buf,ee.pending-G,G)),$(B),G=ee.pending,ee.pending===ee.pending_buf_size)){ae=1;break}ae=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,se(ee,ae)}while(ae!==0);ee.gzhead.hcrc&&ee.pending>G&&(B.adler=f(B.adler,ee.pending_buf,ee.pending-G,G)),ae===0&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(ee.status===91)if(ee.gzhead.comment){G=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>G&&(B.adler=f(B.adler,ee.pending_buf,ee.pending-G,G)),$(B),G=ee.pending,ee.pending===ee.pending_buf_size)){ae=1;break}ae=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,se(ee,ae)}while(ae!==0);ee.gzhead.hcrc&&ee.pending>G&&(B.adler=f(B.adler,ee.pending_buf,ee.pending-G,G)),ae===0&&(ee.status=103)}else ee.status=103;if(ee.status===103&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&$(B),ee.pending+2<=ee.pending_buf_size&&(se(ee,255&B.adler),se(ee,B.adler>>8&255),B.adler=0,ee.status=Y)):ee.status=Y),ee.pending!==0){if($(B),B.avail_out===0)return ee.last_flush=-1,v}else if(B.avail_in===0&&ne(Ee)<=ne(be)&&Ee!==g)return Q(B,-5);if(ee.status===666&&B.avail_in!==0)return Q(B,-5);if(B.avail_in!==0||ee.lookahead!==0||Ee!==p&&ee.status!==666){var Me=ee.strategy===2?(function(pe,Ue){for(var ge;;){if(pe.lookahead===0&&(je(pe),pe.lookahead===0)){if(Ue===p)return M;break}if(pe.match_length=0,ge=l._tr_tally(pe,0,pe.window[pe.strstart]),pe.lookahead--,pe.strstart++,ge&&(q(pe,!1),pe.strm.avail_out===0))return M}return pe.insert=0,Ue===g?(q(pe,!0),pe.strm.avail_out===0?V:X):pe.last_lit&&(q(pe,!1),pe.strm.avail_out===0)?M:J})(ee,Ee):ee.strategy===3?(function(pe,Ue){for(var ge,Oe,Ge,tt,vt=pe.window;;){if(pe.lookahead<=Z){if(je(pe),pe.lookahead<=Z&&Ue===p)return M;if(pe.lookahead===0)break}if(pe.match_length=0,pe.lookahead>=H&&0<pe.strstart&&(Oe=vt[Ge=pe.strstart-1])===vt[++Ge]&&Oe===vt[++Ge]&&Oe===vt[++Ge]){tt=pe.strstart+Z;do;while(Oe===vt[++Ge]&&Oe===vt[++Ge]&&Oe===vt[++Ge]&&Oe===vt[++Ge]&&Oe===vt[++Ge]&&Oe===vt[++Ge]&&Oe===vt[++Ge]&&Oe===vt[++Ge]&&Ge<tt);pe.match_length=Z-(tt-Ge),pe.match_length>pe.lookahead&&(pe.match_length=pe.lookahead)}if(pe.match_length>=H?(ge=l._tr_tally(pe,1,pe.match_length-H),pe.lookahead-=pe.match_length,pe.strstart+=pe.match_length,pe.match_length=0):(ge=l._tr_tally(pe,0,pe.window[pe.strstart]),pe.lookahead--,pe.strstart++),ge&&(q(pe,!1),pe.strm.avail_out===0))return M}return pe.insert=0,Ue===g?(q(pe,!0),pe.strm.avail_out===0?V:X):pe.last_lit&&(q(pe,!1),pe.strm.avail_out===0)?M:J})(ee,Ee):o[ee.level].func(ee,Ee);if(Me!==V&&Me!==X||(ee.status=666),Me===M||Me===V)return B.avail_out===0&&(ee.last_flush=-1),v;if(Me===J&&(Ee===1?l._tr_align(ee):Ee!==5&&(l._tr_stored_block(ee,0,0,!1),Ee===3&&(ue(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),$(B),B.avail_out===0))return ee.last_flush=-1,v}return Ee!==g?v:ee.wrap<=0?1:(ee.wrap===2?(se(ee,255&B.adler),se(ee,B.adler>>8&255),se(ee,B.adler>>16&255),se(ee,B.adler>>24&255),se(ee,255&B.total_in),se(ee,B.total_in>>8&255),se(ee,B.total_in>>16&255),se(ee,B.total_in>>24&255)):(le(ee,B.adler>>>16),le(ee,65535&B.adler)),$(B),0<ee.wrap&&(ee.wrap=-ee.wrap),ee.pending!==0?v:1)},i.deflateEnd=function(B){var Ee;return B&&B.state?(Ee=B.state.status)!==I&&Ee!==69&&Ee!==73&&Ee!==91&&Ee!==103&&Ee!==Y&&Ee!==666?Q(B,b):(B.state=null,Ee===Y?Q(B,-3):v):b},i.deflateSetDictionary=function(B,Ee){var be,ee,G,ae,Ne,Me,pe,Ue,ge=Ee.length;if(!B||!B.state||(ae=(be=B.state).wrap)===2||ae===1&&be.status!==I||be.lookahead)return b;for(ae===1&&(B.adler=u(B.adler,Ee,ge,0)),be.wrap=0,ge>=be.w_size&&(ae===0&&(ue(be.head),be.strstart=0,be.block_start=0,be.insert=0),Ue=new s.Buf8(be.w_size),s.arraySet(Ue,Ee,ge-be.w_size,be.w_size,0),Ee=Ue,ge=be.w_size),Ne=B.avail_in,Me=B.next_in,pe=B.input,B.avail_in=ge,B.next_in=0,B.input=Ee,je(be);be.lookahead>=H;){for(ee=be.strstart,G=be.lookahead-(H-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[ee+H-1])&be.hash_mask,be.prev[ee&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=ee,ee++,--G;);be.strstart=ee,be.lookahead=H-1,je(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=H-1,be.match_available=0,B.next_in=Me,B.input=pe,B.avail_in=Ne,be.wrap=ae,v},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var l,u,f,h,p,g,v,b,y,_,E,A,O,T,R,N,j,U,H,Z,te,I,Y,M,J;l=o.state,u=o.next_in,M=o.input,f=u+(o.avail_in-5),h=o.next_out,J=o.output,p=h-(s-o.avail_out),g=h+(o.avail_out-257),v=l.dmax,b=l.wsize,y=l.whave,_=l.wnext,E=l.window,A=l.hold,O=l.bits,T=l.lencode,R=l.distcode,N=(1<<l.lenbits)-1,j=(1<<l.distbits)-1;e:do{O<15&&(A+=M[u++]<<O,O+=8,A+=M[u++]<<O,O+=8),U=T[A&N];t:for(;;){if(A>>>=H=U>>>24,O-=H,(H=U>>>16&255)===0)J[h++]=65535&U;else{if(!(16&H)){if((64&H)==0){U=T[(65535&U)+(A&(1<<H)-1)];continue t}if(32&H){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}Z=65535&U,(H&=15)&&(O<H&&(A+=M[u++]<<O,O+=8),Z+=A&(1<<H)-1,A>>>=H,O-=H),O<15&&(A+=M[u++]<<O,O+=8,A+=M[u++]<<O,O+=8),U=R[A&j];n:for(;;){if(A>>>=H=U>>>24,O-=H,!(16&(H=U>>>16&255))){if((64&H)==0){U=R[(65535&U)+(A&(1<<H)-1)];continue n}o.msg="invalid distance code",l.mode=30;break e}if(te=65535&U,O<(H&=15)&&(A+=M[u++]<<O,(O+=8)<H&&(A+=M[u++]<<O,O+=8)),v<(te+=A&(1<<H)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(A>>>=H,O-=H,(H=h-p)<te){if(y<(H=te-H)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(Y=E,(I=0)===_){if(I+=b-H,H<Z){for(Z-=H;J[h++]=E[I++],--H;);I=h-te,Y=J}}else if(_<H){if(I+=b+_-H,(H-=_)<Z){for(Z-=H;J[h++]=E[I++],--H;);if(I=0,_<Z){for(Z-=H=_;J[h++]=E[I++],--H;);I=h-te,Y=J}}}else if(I+=_-H,H<Z){for(Z-=H;J[h++]=E[I++],--H;);I=h-te,Y=J}for(;2<Z;)J[h++]=Y[I++],J[h++]=Y[I++],J[h++]=Y[I++],Z-=3;Z&&(J[h++]=Y[I++],1<Z&&(J[h++]=Y[I++]))}else{for(I=h-te;J[h++]=J[I++],J[h++]=J[I++],J[h++]=J[I++],2<(Z-=3););Z&&(J[h++]=J[I++],1<Z&&(J[h++]=J[I++]))}break}}break}}while(u<f&&h<g);u-=Z=O>>3,A&=(1<<(O-=Z<<3))-1,o.next_in=u,o.next_out=h,o.avail_in=u<f?f-u+5:5-(u-f),o.avail_out=h<g?g-h+257:257-(h-g),l.hold=A,l.bits=O}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),l=n("./crc32"),u=n("./inffast"),f=n("./inftrees"),h=1,p=2,g=0,v=-2,b=1,y=852,_=592;function E(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(I){var Y;return I&&I.state?(Y=I.state,I.total_in=I.total_out=Y.total=0,I.msg="",Y.wrap&&(I.adler=1&Y.wrap),Y.mode=b,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new o.Buf32(y),Y.distcode=Y.distdyn=new o.Buf32(_),Y.sane=1,Y.back=-1,g):v}function T(I){var Y;return I&&I.state?((Y=I.state).wsize=0,Y.whave=0,Y.wnext=0,O(I)):v}function R(I,Y){var M,J;return I&&I.state?(J=I.state,Y<0?(M=0,Y=-Y):(M=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?v:(J.window!==null&&J.wbits!==Y&&(J.window=null),J.wrap=M,J.wbits=Y,T(I))):v}function N(I,Y){var M,J;return I?(J=new A,(I.state=J).window=null,(M=R(I,Y))!==g&&(I.state=null),M):v}var j,U,H=!0;function Z(I){if(H){var Y;for(j=new o.Buf32(512),U=new o.Buf32(32),Y=0;Y<144;)I.lens[Y++]=8;for(;Y<256;)I.lens[Y++]=9;for(;Y<280;)I.lens[Y++]=7;for(;Y<288;)I.lens[Y++]=8;for(f(h,I.lens,0,288,j,0,I.work,{bits:9}),Y=0;Y<32;)I.lens[Y++]=5;f(p,I.lens,0,32,U,0,I.work,{bits:5}),H=!1}I.lencode=j,I.lenbits=9,I.distcode=U,I.distbits=5}function te(I,Y,M,J){var V,X=I.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new o.Buf8(X.wsize)),J>=X.wsize?(o.arraySet(X.window,Y,M-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(J<(V=X.wsize-X.wnext)&&(V=J),o.arraySet(X.window,Y,M-J,V,X.wnext),(J-=V)?(o.arraySet(X.window,Y,M-J,J,0),X.wnext=J,X.whave=X.wsize):(X.wnext+=V,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=V))),0}i.inflateReset=T,i.inflateReset2=R,i.inflateResetKeep=O,i.inflateInit=function(I){return N(I,15)},i.inflateInit2=N,i.inflate=function(I,Y){var M,J,V,X,Q,ne,ue,$,q,se,le,me,je,We,Xe,Ae,ht,Ye,Je,ct,B,Ee,be,ee,G=0,ae=new o.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return v;(M=I.state).mode===12&&(M.mode=13),Q=I.next_out,V=I.output,ue=I.avail_out,X=I.next_in,J=I.input,ne=I.avail_in,$=M.hold,q=M.bits,se=ne,le=ue,Ee=g;e:for(;;)switch(M.mode){case b:if(M.wrap===0){M.mode=13;break}for(;q<16;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if(2&M.wrap&&$===35615){ae[M.check=0]=255&$,ae[1]=$>>>8&255,M.check=l(M.check,ae,2,0),q=$=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&$)<<8)+($>>8))%31){I.msg="incorrect header check",M.mode=30;break}if((15&$)!=8){I.msg="unknown compression method",M.mode=30;break}if(q-=4,B=8+(15&($>>>=4)),M.wbits===0)M.wbits=B;else if(B>M.wbits){I.msg="invalid window size",M.mode=30;break}M.dmax=1<<B,I.adler=M.check=1,M.mode=512&$?10:12,q=$=0;break;case 2:for(;q<16;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if(M.flags=$,(255&M.flags)!=8){I.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){I.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=$>>8&1),512&M.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,M.check=l(M.check,ae,2,0)),q=$=0,M.mode=3;case 3:for(;q<32;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}M.head&&(M.head.time=$),512&M.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,ae[2]=$>>>16&255,ae[3]=$>>>24&255,M.check=l(M.check,ae,4,0)),q=$=0,M.mode=4;case 4:for(;q<16;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}M.head&&(M.head.xflags=255&$,M.head.os=$>>8),512&M.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,M.check=l(M.check,ae,2,0)),q=$=0,M.mode=5;case 5:if(1024&M.flags){for(;q<16;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}M.length=$,M.head&&(M.head.extra_len=$),512&M.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,M.check=l(M.check,ae,2,0)),q=$=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(ne<(me=M.length)&&(me=ne),me&&(M.head&&(B=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),o.arraySet(M.head.extra,J,X,me,B)),512&M.flags&&(M.check=l(M.check,J,me,X)),ne-=me,X+=me,M.length-=me),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(ne===0)break e;for(me=0;B=J[X+me++],M.head&&B&&M.length<65536&&(M.head.name+=String.fromCharCode(B)),B&&me<ne;);if(512&M.flags&&(M.check=l(M.check,J,me,X)),ne-=me,X+=me,B)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(ne===0)break e;for(me=0;B=J[X+me++],M.head&&B&&M.length<65536&&(M.head.comment+=String.fromCharCode(B)),B&&me<ne;);if(512&M.flags&&(M.check=l(M.check,J,me,X)),ne-=me,X+=me,B)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;q<16;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if($!==(65535&M.check)){I.msg="header crc mismatch",M.mode=30;break}q=$=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),I.adler=M.check=0,M.mode=12;break;case 10:for(;q<32;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}I.adler=M.check=E($),q=$=0,M.mode=11;case 11:if(M.havedict===0)return I.next_out=Q,I.avail_out=ue,I.next_in=X,I.avail_in=ne,M.hold=$,M.bits=q,2;I.adler=M.check=1,M.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(M.last){$>>>=7&q,q-=7&q,M.mode=27;break}for(;q<3;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}switch(M.last=1&$,q-=1,3&($>>>=1)){case 0:M.mode=14;break;case 1:if(Z(M),M.mode=20,Y!==6)break;$>>>=2,q-=2;break e;case 2:M.mode=17;break;case 3:I.msg="invalid block type",M.mode=30}$>>>=2,q-=2;break;case 14:for($>>>=7&q,q-=7&q;q<32;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if((65535&$)!=($>>>16^65535)){I.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&$,q=$=0,M.mode=15,Y===6)break e;case 15:M.mode=16;case 16:if(me=M.length){if(ne<me&&(me=ne),ue<me&&(me=ue),me===0)break e;o.arraySet(V,J,X,me,Q),ne-=me,X+=me,ue-=me,Q+=me,M.length-=me;break}M.mode=12;break;case 17:for(;q<14;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if(M.nlen=257+(31&$),$>>>=5,q-=5,M.ndist=1+(31&$),$>>>=5,q-=5,M.ncode=4+(15&$),$>>>=4,q-=4,286<M.nlen||30<M.ndist){I.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;q<3;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}M.lens[Ne[M.have++]]=7&$,$>>>=3,q-=3}for(;M.have<19;)M.lens[Ne[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,be={bits:M.lenbits},Ee=f(0,M.lens,0,19,M.lencode,0,M.work,be),M.lenbits=be.bits,Ee){I.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;Ae=(G=M.lencode[$&(1<<M.lenbits)-1])>>>16&255,ht=65535&G,!((Xe=G>>>24)<=q);){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if(ht<16)$>>>=Xe,q-=Xe,M.lens[M.have++]=ht;else{if(ht===16){for(ee=Xe+2;q<ee;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if($>>>=Xe,q-=Xe,M.have===0){I.msg="invalid bit length repeat",M.mode=30;break}B=M.lens[M.have-1],me=3+(3&$),$>>>=2,q-=2}else if(ht===17){for(ee=Xe+3;q<ee;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}q-=Xe,B=0,me=3+(7&($>>>=Xe)),$>>>=3,q-=3}else{for(ee=Xe+7;q<ee;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}q-=Xe,B=0,me=11+(127&($>>>=Xe)),$>>>=7,q-=7}if(M.have+me>M.nlen+M.ndist){I.msg="invalid bit length repeat",M.mode=30;break}for(;me--;)M.lens[M.have++]=B}}if(M.mode===30)break;if(M.lens[256]===0){I.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,be={bits:M.lenbits},Ee=f(h,M.lens,0,M.nlen,M.lencode,0,M.work,be),M.lenbits=be.bits,Ee){I.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,be={bits:M.distbits},Ee=f(p,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,be),M.distbits=be.bits,Ee){I.msg="invalid distances set",M.mode=30;break}if(M.mode=20,Y===6)break e;case 20:M.mode=21;case 21:if(6<=ne&&258<=ue){I.next_out=Q,I.avail_out=ue,I.next_in=X,I.avail_in=ne,M.hold=$,M.bits=q,u(I,le),Q=I.next_out,V=I.output,ue=I.avail_out,X=I.next_in,J=I.input,ne=I.avail_in,$=M.hold,q=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;Ae=(G=M.lencode[$&(1<<M.lenbits)-1])>>>16&255,ht=65535&G,!((Xe=G>>>24)<=q);){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if(Ae&&(240&Ae)==0){for(Ye=Xe,Je=Ae,ct=ht;Ae=(G=M.lencode[ct+(($&(1<<Ye+Je)-1)>>Ye)])>>>16&255,ht=65535&G,!(Ye+(Xe=G>>>24)<=q);){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}$>>>=Ye,q-=Ye,M.back+=Ye}if($>>>=Xe,q-=Xe,M.back+=Xe,M.length=ht,Ae===0){M.mode=26;break}if(32&Ae){M.back=-1,M.mode=12;break}if(64&Ae){I.msg="invalid literal/length code",M.mode=30;break}M.extra=15&Ae,M.mode=22;case 22:if(M.extra){for(ee=M.extra;q<ee;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}M.length+=$&(1<<M.extra)-1,$>>>=M.extra,q-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;Ae=(G=M.distcode[$&(1<<M.distbits)-1])>>>16&255,ht=65535&G,!((Xe=G>>>24)<=q);){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if((240&Ae)==0){for(Ye=Xe,Je=Ae,ct=ht;Ae=(G=M.distcode[ct+(($&(1<<Ye+Je)-1)>>Ye)])>>>16&255,ht=65535&G,!(Ye+(Xe=G>>>24)<=q);){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}$>>>=Ye,q-=Ye,M.back+=Ye}if($>>>=Xe,q-=Xe,M.back+=Xe,64&Ae){I.msg="invalid distance code",M.mode=30;break}M.offset=ht,M.extra=15&Ae,M.mode=24;case 24:if(M.extra){for(ee=M.extra;q<ee;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}M.offset+=$&(1<<M.extra)-1,$>>>=M.extra,q-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){I.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(ue===0)break e;if(me=le-ue,M.offset>me){if((me=M.offset-me)>M.whave&&M.sane){I.msg="invalid distance too far back",M.mode=30;break}je=me>M.wnext?(me-=M.wnext,M.wsize-me):M.wnext-me,me>M.length&&(me=M.length),We=M.window}else We=V,je=Q-M.offset,me=M.length;for(ue<me&&(me=ue),ue-=me,M.length-=me;V[Q++]=We[je++],--me;);M.length===0&&(M.mode=21);break;case 26:if(ue===0)break e;V[Q++]=M.length,ue--,M.mode=21;break;case 27:if(M.wrap){for(;q<32;){if(ne===0)break e;ne--,$|=J[X++]<<q,q+=8}if(le-=ue,I.total_out+=le,M.total+=le,le&&(I.adler=M.check=M.flags?l(M.check,V,le,Q-le):s(M.check,V,le,Q-le)),le=ue,(M.flags?$:E($))!==M.check){I.msg="incorrect data check",M.mode=30;break}q=$=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;q<32;){if(ne===0)break e;ne--,$+=J[X++]<<q,q+=8}if($!==(4294967295&M.total)){I.msg="incorrect length check",M.mode=30;break}q=$=0}M.mode=29;case 29:Ee=1;break e;case 30:Ee=-3;break e;case 31:return-4;case 32:default:return v}return I.next_out=Q,I.avail_out=ue,I.next_in=X,I.avail_in=ne,M.hold=$,M.bits=q,(M.wsize||le!==I.avail_out&&M.mode<30&&(M.mode<27||Y!==4))&&te(I,I.output,I.next_out,le-I.avail_out)?(M.mode=31,-4):(se-=I.avail_in,le-=I.avail_out,I.total_in+=se,I.total_out+=le,M.total+=le,M.wrap&&le&&(I.adler=M.check=M.flags?l(M.check,V,le,I.next_out-le):s(M.check,V,le,I.next_out-le)),I.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(se==0&&le===0||Y===4)&&Ee===g&&(Ee=-5),Ee)},i.inflateEnd=function(I){if(!I||!I.state)return v;var Y=I.state;return Y.window&&(Y.window=null),I.state=null,g},i.inflateGetHeader=function(I,Y){var M;return I&&I.state?(2&(M=I.state).wrap)==0?v:((M.head=Y).done=!1,g):v},i.inflateSetDictionary=function(I,Y){var M,J=Y.length;return I&&I.state?(M=I.state).wrap!==0&&M.mode!==11?v:M.mode===11&&s(1,Y,J,0)!==M.check?-3:te(I,Y,J,J)?(M.mode=31,-4):(M.havedict=1,g):v},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,p,g,v,b,y,_,E){var A,O,T,R,N,j,U,H,Z,te=E.bits,I=0,Y=0,M=0,J=0,V=0,X=0,Q=0,ne=0,ue=0,$=0,q=null,se=0,le=new o.Buf16(16),me=new o.Buf16(16),je=null,We=0;for(I=0;I<=15;I++)le[I]=0;for(Y=0;Y<v;Y++)le[p[g+Y]]++;for(V=te,J=15;1<=J&&le[J]===0;J--);if(J<V&&(V=J),J===0)return b[y++]=20971520,b[y++]=20971520,E.bits=1,0;for(M=1;M<J&&le[M]===0;M++);for(V<M&&(V=M),I=ne=1;I<=15;I++)if(ne<<=1,(ne-=le[I])<0)return-1;if(0<ne&&(h===0||J!==1))return-1;for(me[1]=0,I=1;I<15;I++)me[I+1]=me[I]+le[I];for(Y=0;Y<v;Y++)p[g+Y]!==0&&(_[me[p[g+Y]]++]=Y);if(j=h===0?(q=je=_,19):h===1?(q=s,se-=257,je=l,We-=257,256):(q=u,je=f,-1),I=M,N=y,Q=Y=$=0,T=-1,R=(ue=1<<(X=V))-1,h===1&&852<ue||h===2&&592<ue)return 1;for(;;){for(U=I-Q,Z=_[Y]<j?(H=0,_[Y]):_[Y]>j?(H=je[We+_[Y]],q[se+_[Y]]):(H=96,0),A=1<<I-Q,M=O=1<<X;b[N+($>>Q)+(O-=A)]=U<<24|H<<16|Z|0,O!==0;);for(A=1<<I-1;$&A;)A>>=1;if(A!==0?($&=A-1,$+=A):$=0,Y++,--le[I]==0){if(I===J)break;I=p[g+_[Y]]}if(V<I&&($&R)!==T){for(Q===0&&(Q=V),N+=M,ne=1<<(X=I-Q);X+Q<J&&!((ne-=le[X+Q])<=0);)X++,ne<<=1;if(ue+=1<<X,h===1&&852<ue||h===2&&592<ue)return 1;b[T=$&R]=V<<24|X<<16|N-y|0}}return $!==0&&(b[N+$]=I-Q<<24|64<<16|0),E.bits=V,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,l=1;function u(G){for(var ae=G.length;0<=--ae;)G[ae]=0}var f=0,h=29,p=256,g=p+1+h,v=30,b=19,y=2*g+1,_=15,E=16,A=7,O=256,T=16,R=17,N=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=new Array(2*(g+2));u(te);var I=new Array(2*v);u(I);var Y=new Array(512);u(Y);var M=new Array(256);u(M);var J=new Array(h);u(J);var V,X,Q,ne=new Array(v);function ue(G,ae,Ne,Me,pe){this.static_tree=G,this.extra_bits=ae,this.extra_base=Ne,this.elems=Me,this.max_length=pe,this.has_stree=G&&G.length}function $(G,ae){this.dyn_tree=G,this.max_code=0,this.stat_desc=ae}function q(G){return G<256?Y[G]:Y[256+(G>>>7)]}function se(G,ae){G.pending_buf[G.pending++]=255&ae,G.pending_buf[G.pending++]=ae>>>8&255}function le(G,ae,Ne){G.bi_valid>E-Ne?(G.bi_buf|=ae<<G.bi_valid&65535,se(G,G.bi_buf),G.bi_buf=ae>>E-G.bi_valid,G.bi_valid+=Ne-E):(G.bi_buf|=ae<<G.bi_valid&65535,G.bi_valid+=Ne)}function me(G,ae,Ne){le(G,Ne[2*ae],Ne[2*ae+1])}function je(G,ae){for(var Ne=0;Ne|=1&G,G>>>=1,Ne<<=1,0<--ae;);return Ne>>>1}function We(G,ae,Ne){var Me,pe,Ue=new Array(_+1),ge=0;for(Me=1;Me<=_;Me++)Ue[Me]=ge=ge+Ne[Me-1]<<1;for(pe=0;pe<=ae;pe++){var Oe=G[2*pe+1];Oe!==0&&(G[2*pe]=je(Ue[Oe]++,Oe))}}function Xe(G){var ae;for(ae=0;ae<g;ae++)G.dyn_ltree[2*ae]=0;for(ae=0;ae<v;ae++)G.dyn_dtree[2*ae]=0;for(ae=0;ae<b;ae++)G.bl_tree[2*ae]=0;G.dyn_ltree[2*O]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function Ae(G){8<G.bi_valid?se(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function ht(G,ae,Ne,Me){var pe=2*ae,Ue=2*Ne;return G[pe]<G[Ue]||G[pe]===G[Ue]&&Me[ae]<=Me[Ne]}function Ye(G,ae,Ne){for(var Me=G.heap[Ne],pe=Ne<<1;pe<=G.heap_len&&(pe<G.heap_len&&ht(ae,G.heap[pe+1],G.heap[pe],G.depth)&&pe++,!ht(ae,Me,G.heap[pe],G.depth));)G.heap[Ne]=G.heap[pe],Ne=pe,pe<<=1;G.heap[Ne]=Me}function Je(G,ae,Ne){var Me,pe,Ue,ge,Oe=0;if(G.last_lit!==0)for(;Me=G.pending_buf[G.d_buf+2*Oe]<<8|G.pending_buf[G.d_buf+2*Oe+1],pe=G.pending_buf[G.l_buf+Oe],Oe++,Me===0?me(G,pe,ae):(me(G,(Ue=M[pe])+p+1,ae),(ge=j[Ue])!==0&&le(G,pe-=J[Ue],ge),me(G,Ue=q(--Me),Ne),(ge=U[Ue])!==0&&le(G,Me-=ne[Ue],ge)),Oe<G.last_lit;);me(G,O,ae)}function ct(G,ae){var Ne,Me,pe,Ue=ae.dyn_tree,ge=ae.stat_desc.static_tree,Oe=ae.stat_desc.has_stree,Ge=ae.stat_desc.elems,tt=-1;for(G.heap_len=0,G.heap_max=y,Ne=0;Ne<Ge;Ne++)Ue[2*Ne]!==0?(G.heap[++G.heap_len]=tt=Ne,G.depth[Ne]=0):Ue[2*Ne+1]=0;for(;G.heap_len<2;)Ue[2*(pe=G.heap[++G.heap_len]=tt<2?++tt:0)]=1,G.depth[pe]=0,G.opt_len--,Oe&&(G.static_len-=ge[2*pe+1]);for(ae.max_code=tt,Ne=G.heap_len>>1;1<=Ne;Ne--)Ye(G,Ue,Ne);for(pe=Ge;Ne=G.heap[1],G.heap[1]=G.heap[G.heap_len--],Ye(G,Ue,1),Me=G.heap[1],G.heap[--G.heap_max]=Ne,G.heap[--G.heap_max]=Me,Ue[2*pe]=Ue[2*Ne]+Ue[2*Me],G.depth[pe]=(G.depth[Ne]>=G.depth[Me]?G.depth[Ne]:G.depth[Me])+1,Ue[2*Ne+1]=Ue[2*Me+1]=pe,G.heap[1]=pe++,Ye(G,Ue,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],(function(vt,zt){var ln,Qt,Ct,St,$t,Ut,nt=zt.dyn_tree,jn=zt.max_code,Vt=zt.stat_desc.static_tree,Vn=zt.stat_desc.has_stree,Qe=zt.stat_desc.extra_bits,Tr=zt.stat_desc.extra_base,zn=zt.stat_desc.max_length,Xr=0;for(St=0;St<=_;St++)vt.bl_count[St]=0;for(nt[2*vt.heap[vt.heap_max]+1]=0,ln=vt.heap_max+1;ln<y;ln++)zn<(St=nt[2*nt[2*(Qt=vt.heap[ln])+1]+1]+1)&&(St=zn,Xr++),nt[2*Qt+1]=St,jn<Qt||(vt.bl_count[St]++,$t=0,Tr<=Qt&&($t=Qe[Qt-Tr]),Ut=nt[2*Qt],vt.opt_len+=Ut*(St+$t),Vn&&(vt.static_len+=Ut*(Vt[2*Qt+1]+$t)));if(Xr!==0){do{for(St=zn-1;vt.bl_count[St]===0;)St--;vt.bl_count[St]--,vt.bl_count[St+1]+=2,vt.bl_count[zn]--,Xr-=2}while(0<Xr);for(St=zn;St!==0;St--)for(Qt=vt.bl_count[St];Qt!==0;)jn<(Ct=vt.heap[--ln])||(nt[2*Ct+1]!==St&&(vt.opt_len+=(St-nt[2*Ct+1])*nt[2*Ct],nt[2*Ct+1]=St),Qt--)}})(G,ae),We(Ue,tt,G.bl_count)}function B(G,ae,Ne){var Me,pe,Ue=-1,ge=ae[1],Oe=0,Ge=7,tt=4;for(ge===0&&(Ge=138,tt=3),ae[2*(Ne+1)+1]=65535,Me=0;Me<=Ne;Me++)pe=ge,ge=ae[2*(Me+1)+1],++Oe<Ge&&pe===ge||(Oe<tt?G.bl_tree[2*pe]+=Oe:pe!==0?(pe!==Ue&&G.bl_tree[2*pe]++,G.bl_tree[2*T]++):Oe<=10?G.bl_tree[2*R]++:G.bl_tree[2*N]++,Ue=pe,tt=(Oe=0)===ge?(Ge=138,3):pe===ge?(Ge=6,3):(Ge=7,4))}function Ee(G,ae,Ne){var Me,pe,Ue=-1,ge=ae[1],Oe=0,Ge=7,tt=4;for(ge===0&&(Ge=138,tt=3),Me=0;Me<=Ne;Me++)if(pe=ge,ge=ae[2*(Me+1)+1],!(++Oe<Ge&&pe===ge)){if(Oe<tt)for(;me(G,pe,G.bl_tree),--Oe!=0;);else pe!==0?(pe!==Ue&&(me(G,pe,G.bl_tree),Oe--),me(G,T,G.bl_tree),le(G,Oe-3,2)):Oe<=10?(me(G,R,G.bl_tree),le(G,Oe-3,3)):(me(G,N,G.bl_tree),le(G,Oe-11,7));Ue=pe,tt=(Oe=0)===ge?(Ge=138,3):pe===ge?(Ge=6,3):(Ge=7,4)}}u(ne);var be=!1;function ee(G,ae,Ne,Me){le(G,(f<<1)+(Me?1:0),3),(function(pe,Ue,ge,Oe){Ae(pe),se(pe,ge),se(pe,~ge),o.arraySet(pe.pending_buf,pe.window,Ue,ge,pe.pending),pe.pending+=ge})(G,ae,Ne)}i._tr_init=function(G){be||((function(){var ae,Ne,Me,pe,Ue,ge=new Array(_+1);for(pe=Me=0;pe<h-1;pe++)for(J[pe]=Me,ae=0;ae<1<<j[pe];ae++)M[Me++]=pe;for(M[Me-1]=pe,pe=Ue=0;pe<16;pe++)for(ne[pe]=Ue,ae=0;ae<1<<U[pe];ae++)Y[Ue++]=pe;for(Ue>>=7;pe<v;pe++)for(ne[pe]=Ue<<7,ae=0;ae<1<<U[pe]-7;ae++)Y[256+Ue++]=pe;for(Ne=0;Ne<=_;Ne++)ge[Ne]=0;for(ae=0;ae<=143;)te[2*ae+1]=8,ae++,ge[8]++;for(;ae<=255;)te[2*ae+1]=9,ae++,ge[9]++;for(;ae<=279;)te[2*ae+1]=7,ae++,ge[7]++;for(;ae<=287;)te[2*ae+1]=8,ae++,ge[8]++;for(We(te,g+1,ge),ae=0;ae<v;ae++)I[2*ae+1]=5,I[2*ae]=je(ae,5);V=new ue(te,j,p+1,g,_),X=new ue(I,U,0,v,_),Q=new ue(new Array(0),H,0,b,A)})(),be=!0),G.l_desc=new $(G.dyn_ltree,V),G.d_desc=new $(G.dyn_dtree,X),G.bl_desc=new $(G.bl_tree,Q),G.bi_buf=0,G.bi_valid=0,Xe(G)},i._tr_stored_block=ee,i._tr_flush_block=function(G,ae,Ne,Me){var pe,Ue,ge=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=(function(Oe){var Ge,tt=4093624447;for(Ge=0;Ge<=31;Ge++,tt>>>=1)if(1&tt&&Oe.dyn_ltree[2*Ge]!==0)return s;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return l;for(Ge=32;Ge<p;Ge++)if(Oe.dyn_ltree[2*Ge]!==0)return l;return s})(G)),ct(G,G.l_desc),ct(G,G.d_desc),ge=(function(Oe){var Ge;for(B(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),B(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),ct(Oe,Oe.bl_desc),Ge=b-1;3<=Ge&&Oe.bl_tree[2*Z[Ge]+1]===0;Ge--);return Oe.opt_len+=3*(Ge+1)+5+5+4,Ge})(G),pe=G.opt_len+3+7>>>3,(Ue=G.static_len+3+7>>>3)<=pe&&(pe=Ue)):pe=Ue=Ne+5,Ne+4<=pe&&ae!==-1?ee(G,ae,Ne,Me):G.strategy===4||Ue===pe?(le(G,2+(Me?1:0),3),Je(G,te,I)):(le(G,4+(Me?1:0),3),(function(Oe,Ge,tt,vt){var zt;for(le(Oe,Ge-257,5),le(Oe,tt-1,5),le(Oe,vt-4,4),zt=0;zt<vt;zt++)le(Oe,Oe.bl_tree[2*Z[zt]+1],3);Ee(Oe,Oe.dyn_ltree,Ge-1),Ee(Oe,Oe.dyn_dtree,tt-1)})(G,G.l_desc.max_code+1,G.d_desc.max_code+1,ge+1),Je(G,G.dyn_ltree,G.dyn_dtree)),Xe(G),Me&&Ae(G)},i._tr_tally=function(G,ae,Ne){return G.pending_buf[G.d_buf+2*G.last_lit]=ae>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&ae,G.pending_buf[G.l_buf+G.last_lit]=255&Ne,G.last_lit++,ae===0?G.dyn_ltree[2*Ne]++:(G.matches++,ae--,G.dyn_ltree[2*(M[Ne]+p+1)]++,G.dyn_dtree[2*q(ae)]++),G.last_lit===G.lit_bufsize-1},i._tr_align=function(G){le(G,2,3),me(G,O,te),(function(ae){ae.bi_valid===16?(se(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)})(G)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,l){if(!s.setImmediate){var u,f,h,p,g=1,v={},b=!1,y=s.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(s);_=_&&_.setTimeout?_:s,u={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){A(T)})}:(function(){if(s.postMessage&&!s.importScripts){var T=!0,R=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=R,T}})()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",O,!1):s.attachEvent("onmessage",O),function(T){s.postMessage(p+T,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(T){A(T.data)},function(T){h.port2.postMessage(T)}):y&&"onreadystatechange"in y.createElement("script")?(f=y.documentElement,function(T){var R=y.createElement("script");R.onreadystatechange=function(){A(T),R.onreadystatechange=null,f.removeChild(R),R=null},f.appendChild(R)}):function(T){setTimeout(A,0,T)},_.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var R=new Array(arguments.length-1),N=0;N<R.length;N++)R[N]=arguments[N+1];var j={callback:T,args:R};return v[g]=j,u(g),g++},_.clearImmediate=E}function E(T){delete v[T]}function A(T){if(b)setTimeout(A,0,T);else{var R=v[T];if(R){b=!0;try{(function(N){var j=N.callback,U=N.args;switch(U.length){case 0:j();break;case 1:j(U[0]);break;case 2:j(U[0],U[1]);break;case 3:j(U[0],U[1],U[2]);break;default:j.apply(l,U)}})(R)}finally{E(T),b=!1}}}}function O(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(p)===0&&A(+T.data.slice(p.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Q1)),Q1.exports}var oG=iG();const d_=eu(oG);function sG(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function aG(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function lG(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var bO=t=>Array.isArray(t)?t:[t];function cG(t){const e=Array.isArray(t[0])?t[0]:t;return lG(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function uG(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var fG=class{constructor(t){this.value=t}deref(){return this.value}},dG=typeof WeakRef<"u"?WeakRef:fG,hG=0,wO=1;function Cg(){return{s:hG,v:void 0,o:null,p:null}}function UM(t,e={}){let n=Cg();const{resultEqualityCheck:r}=e;let i,o=0;function s(){let l=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const y=b.get(v);y===void 0?(l=Cg(),b.set(v,l)):l=y}else{let b=l.p;b===null&&(l.p=b=new Map);const y=b.get(v);y===void 0?(l=Cg(),b.set(v,l)):l=y}}const f=l;let h;if(l.s===wO)h=l.v;else if(h=t.apply(null,arguments),o++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new dG(h):h}return f.s=wO,f.v=h,h}return s.clearCache=()=>{n=Cg(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function pG(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),sG(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:v=UM,argsMemoizeOptions:b=[]}=h,y=bO(g),_=bO(b),E=cG(i),A=p(function(){return o++,f.apply(null,arguments)},...y),O=v(function(){s++;const R=uG(E,arguments);return l=A.apply(null,R),l},..._);return Object.assign(O,{resultFunc:f,memoizedResultFunc:A,dependencies:E,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var HM=pG(UM),mG=Object.assign((t,e=HM)=>{aG(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>mG});const gG={labelSelectorOpen:!1,activeLabel:"all",labelsCache:{},dialog:{open:!1,id:null,hue:null,name:""}};iZ().then(t=>ja(t));DV.subscribe(t=>{ze(e=>{e.labels.labelsCache=t.reduce((n,r)=>(n[r.id]=r,n),{}),e.labels.activeLabel&&(!(e.labels.activeLabel in e.labels.labelsCache)||e.labels.labelsCache[e.labels.activeLabel].deleted_at>0)&&(e.labels.activeLabel="all")})});const Nl=()=>{ze(t=>{t.labels.labelSelectorOpen=!t.labels.labelSelectorOpen})},ja=t=>{ze(e=>{e.labels.activeLabel=t})},vG=()=>{ze(t=>{t.labels.dialog.open=!0,t.labels.dialog.id=null,t.labels.dialog.hue=null,t.labels.dialog.name=""})},yG=t=>{ze(e=>{e.labels.dialog.open=!0,e.labels.dialog.id=t,e.labels.dialog.hue=e.labels.labelsCache[t]?.hue??null,e.labels.dialog.name=e.labels.labelsCache[t]?.name??""})},xO=()=>{ze(t=>{t.labels.dialog.open=!1})},bG=t=>{ze(e=>{e.labels.dialog.name=t})},wG=t=>{ze(e=>{e.labels.dialog.hue=t})},Lp=async(t,e=null)=>{const n={id:crypto.randomUUID(),name:t,hue:e,version:1,created_at:Date.now(),updated_at:Date.now(),deleted_at:0,state:"dirty"};return await et.labels.add(n),ze(r=>{r.labels.dialog.open=!1}),n},SO=async(t,e,n)=>{const r=await Lp(e);n==="note"?qM(t,r.id):KM(t,r.id)},xG=(t,e)=>{et.labels.where("id").equals(t).and(n=>n.deleted_at===0).modify(n=>{e.name!==void 0&&(n.name=e.name),e.hue!==void 0&&(n.hue=e.hue),n.updated_at=Date.now(),n.state="dirty"}),ze(n=>{n.labels.dialog.open=!1})},SG=async t=>{const e=await et.labels.get(t);if(!(!e||e.deleted_at>0)){if(e.state==="dirty"&&e.version===1){await et.labels.delete(t);return}await et.labels.update(t,{deleted_at:Date.now(),state:"dirty",version:e.state==="dirty"?e.version:e.version+1}),await et.notes.where("deleted_at").equals(0).and(n=>n.labels?.includes(t)??!1).modify(n=>{n.labels=n.labels?.filter(r=>r!==t),n.state==="synced"&&(n.state="dirty",n.version=n.version+1),n.updated_at=Date.now()})}},qM=(t,e)=>et.notes.where("id").equals(t).modify(n=>{n.labels=(n.labels??[]).includes(e)?n.labels?.filter(r=>r!==e):(n.labels??[]).concat(e),n.state==="synced"&&(n.state="dirty",n.version=n.version+1),n.updated_at=Date.now()}),KM=(t,e)=>et.files_meta.where("id").equals(t).modify(n=>{n.labels=(n.labels??[]).includes(e)?n.labels?.filter(r=>r!==e):(n.labels??[]).concat(e),n.state==="synced"&&(n.state="dirty",n.version=n.version+1),n.updated_at=Date.now()}),_G=(t,e)=>et.notes.where("id").equals(t).modify(n=>{n.labels=[e,...(n.labels??[]).filter(r=>r!==e)],n.state==="synced"&&(n.state="dirty",n.version=n.version+1),n.updated_at=Date.now()}),CG=(t,e)=>et.files_meta.where("id").equals(t).modify(n=>{n.labels=[e,...(n.labels??[]).filter(r=>r!==e)],n.state==="synced"&&(n.state="dirty",n.version=n.version+1),n.updated_at=Date.now()}),n0=HM(t=>t.labels.labelsCache,t=>Object.values(t).sort(CR("name"))),kG=()=>{ga(t=>t.labels.activeLabel,rZ)},up={importDialog:{open:!1,file:null,error:null},keepImportDialog:{open:!1,file:null,error:null,importArchived:!1}},EG=()=>ze(t=>{t.import.importDialog={open:!0,file:null,error:null}}),dx=t=>{t?t.import.importDialog=up.importDialog:ze(e=>{e.import.importDialog=up.importDialog})},AG=t=>ze(e=>{e.import.importDialog.file=t,e.import.importDialog.error=null}),OG=()=>ze(t=>{t.import.keepImportDialog={open:!0,file:null,error:null,importArchived:!1}}),hx=t=>{t?t.import.keepImportDialog=up.keepImportDialog:ze(e=>{e.import.keepImportDialog=up.keepImportDialog})},TG=t=>ze(e=>{e.import.keepImportDialog.file=t,e.import.keepImportDialog.error=null}),DG=t=>ze(e=>{e.import.keepImportDialog.importArchived=t}),RG=async()=>{const t=new d_,[e,n,r]=await Promise.all([et.notes.toArray(),et.files_meta.toArray(),et.files_blob.toArray()]),i=Lt().labels.labelsCache,o=p=>p?.map(g=>i[g]?.name).filter(g=>!!g),s=Object.values(i??{}).reduce((p,g)=>(p[g.name]=g.hue,p),{}),l=Object.fromEntries(r.map(p=>[p.id,p.blob])),u={notes:e.map(p=>({id:p.id,title:p.title,txt:p.type==="note"?p.txt:void 0,todos:p.type==="todo"?p.todos:void 0,created_at:p.created_at,updated_at:p.updated_at,archived:p.archived===1,labels:o(p.labels)})),files_meta:n.map(p=>({id:p.id,title:p.title,ext:p.ext,mime:p.mime,size:p.size,created_at:p.created_at,updated_at:p.updated_at,deleted_at:p.deleted_at,archived:p.archived===1,labels:o(p.labels)})),labelColors:s};FM.parse(u),t.file("notes.json",JSON.stringify(u,null,2),{createFolders:!1});for(const p of n){const g=l[p.id];if(!g)continue;const v=`${p.id}${p.ext??""}`;t.file(v,g)}const f=new Date().toISOString().replace(/\..+/,"").replace(/:/g,"-"),h=await t.generateAsync({type:"blob"});kR(h,`${f}_ciphernotes.zip`)},MG=async()=>{const e=Lt().import.importDialog.file;if(e)try{const n=await new d_().loadAsync(e),r=n.file("notes.json");if(!r)throw new Error("notes.json not found in archive");const i=FM.parse(JSON.parse(await r.async("string"))),o=Date.now(),{labelsCache:s}=Lt().labels,l=Object.values(s),u=tr.fromItr(l,_=>_.name),h=tr.fromItr([...i.notes.flatMap(_=>_.labels??[]),...i.files_meta.flatMap(_=>_.labels??[])]).without(u).toArray(),p=[];for(const _ of h)p.push(await Lp(_,i.labelColors?.[_]??null));const g=Object.fromEntries([...l,...p].map(_=>[_.name,_.id])),v=[];for(const _ of i.notes??[]){const E=_.id??crypto.randomUUID(),A=await et.notes.get(E);if(!(!A||A.deleted_at!==0||(_.updated_at??0)>A.updated_at))continue;const T=Math.max(_.updated_at??0,A?.updated_at??0),R=A?.created_at??_.created_at??o,N=A?A.state==="dirty"?A.version:A.version+1:1,j=(_.labels??[]).map(Z=>g[Z]).filter(Z=>!!Z),U=_.todos,H=_.txt;if(U!==void 0){const Z=tr.fromItr(U,te=>te.id);v.push({id:E,title:_.title??"",type:"todo",todos:U?.map(te=>({...te,id:te.id??crypto.randomUUID(),updated_at:te.updated_at??T,parent:Z.has(te.parent)?te.parent:void 0})),created_at:R,updated_at:T,version:N,state:"dirty",deleted_at:0,archived:_.archived?1:0,labels:j})}else H!==void 0&&v.push({id:E,title:_.title??"",type:"note",txt:H,created_at:R,updated_at:T,version:N,state:"dirty",deleted_at:0,archived:_.archived?1:0,labels:j})}const b=[],y=[];for(const _ of i.files_meta??[]){const E=await et.files_meta.get(_.id);if(!(!E||E.deleted_at!==0||(_.updated_at??0)>E.updated_at))continue;const O=E?E.state==="dirty"?E.version:E.version+1:1,T=n.file(`${_.id}${_.ext??""}`),R=T?await T.async("blob"):null;if(R)y.push({id:_.id,blob:new Blob([R],{type:_.mime})});else continue;b.push({id:_.id,type:"file",title:_.title,ext:_.ext,mime:_.mime,size:R.size,created_at:_.created_at??o,updated_at:_.updated_at??o,deleted_at:_.deleted_at??0,labels:(_.labels??[]).map(N=>g[N]).filter(N=>!!N),archived:_.archived?1:0,has_thumb:0,state:"dirty",version:O,blob_state:"local"})}await et.transaction("rw",et.notes,et.files_meta,et.files_blob,async _=>{v.length&&await _.notes.bulkPut(v),b.length&&await _.files_meta.bulkPut(b),y.length&&await _.files_blob.bulkPut(y)}),t0.generateThumbnails().then(()=>console.log("thumbnails generated")).catch(console.error),ze(_=>{dx(_)}),Dt.show({title:"Success",message:"Backup imported"})}catch(n){console.error(n),ze(r=>{r.import.importDialog.error=n instanceof Error?n.message:"Invalid file format"})}},NG=async()=>{const t=Lt(),{file:e,importArchived:n}=t.import.keepImportDialog,{labelsCache:r}=t.labels,i=Object.values(r),o=tr.fromItr(i,s=>s.name);if(e)try{const l=await new d_().loadAsync(e),u=[],f=[],h=[],p=/Keep\/[^/]+\.json$/,g=[];for(const[E,A]of Object.entries(l.files))if(p.test(E))try{const O=nG.parse(JSON.parse(await A.async("string")));!O.isTrashed&&(!O.isArchived||n)&&g.push(O)}catch(O){console.error("Error parsing keep note",O);continue}const b=tr.fromItr(g.flatMap(E=>E.labels??[]),E=>E.name).without(o).toArray(),y=[];for(const E of b)y.push(await Lp(E));const _=Object.fromEntries([...i,...y].map(E=>[E.name,E.id]));for(const E of g){const A={id:crypto.randomUUID(),created_at:E.createdTimestampUsec/1e3,updated_at:E.userEditedTimestampUsec/1e3,title:E.title,deleted_at:0,state:"dirty",version:1,labels:E.labels?.map(T=>_[T.name]),archived:E.isArchived?1:0},O=E.attachments?.map(T=>({id:crypto.randomUUID(),created_at:A.created_at,updated_at:A.updated_at,title:A.title,deleted_at:A.deleted_at,state:A.state,version:A.version,labels:A.labels??[],archived:A.archived,type:"file",ext:OR(T.filePath)[1],mime:T.mimetype,has_thumb:0,size:0,blob_state:"local"}))??[];for(let T=O.length-1;T>=0;--T){const R=O[T],N=E.attachments[T],j=await l.file(`Takeout/Keep/${N.filePath}`)?.async("blob");if(j){const U=new Blob([j],{type:N.mimetype});h.push({id:R.id,blob:U}),O[T].size=j.size}else O.splice(T,1),console.warn(`File ${N.filePath} not found in zip`)}if(f.push(...O),"textContent"in E){const T={...A,type:"note",txt:E.textContent};u.push(T)}else if("listContent"in E){const T={...A,type:"todo",todos:E.listContent.map(R=>({id:crypto.randomUUID(),txt:R.text,done:R.isChecked,updated_at:E.userEditedTimestampUsec/1e3}))};u.push(T)}}if(u.length===0){Dt.show({title:"No notes imported",message:"No valid notes found"});return}await et.notes.bulkPut(u),await et.files_meta.bulkPut(f),await et.files_blob.bulkPut(h),t0.generateThumbnails().then(()=>console.log("thumbnails generated")).catch(console.error),hx(),Dt.show({title:"Success",message:"Keep notes imported"})}catch(s){console.error(s),ze(l=>{l.import.keepImportDialog.error=s instanceof Error?s.message:"Unknown error"})}},jG={selected:{},bulkLabelOpen:!1,currentNotes:[[],[]]},zG=(t,e)=>ze(n=>{n.selection.currentNotes=[t,e]}),_O=(t,e)=>ze(n=>{const r=n.selection.selected;r[t]?delete r[t]:r[t]=e,n.selection.bulkLabelOpen=!1}),J1=()=>ze(t=>{t.selection.selected={},t.selection.bulkLabelOpen=!1}),ld=t=>{for(const e in t.selection.selected)if(t.selection.selected[e])return!0;return!1},PG=()=>{const t=Object.keys(Lt().selection.selected);if(t.length===0)return;Na({id:"archive-selected",title:`Archive ${t.length} selected items?`,labels:{confirm:"Archive",cancel:"Cancel"},confirmProps:{color:"blue"},onConfirm:e});function e(){et.transaction("rw",et.notes,et.files_meta,async r=>{r.notes.where("id").anyOf(t).modify(n),r.files_meta.where("id").anyOf(t).modify(n),ze(i=>{i.selection.selected={}})})}function n(r){r.archived!==1&&(r.archived=1,r.updated_at=Date.now(),r.state==="synced"&&(r.state="dirty",r.version=r.version+1))}},LG=()=>ze(t=>{const e={},[n,r]=t.selection.currentNotes;for(const i of n)e[i.id]=i.type==="file"?"file":"note";for(const i of r)e[i.id]=i.type==="file"?"file":"note";t.selection.selected=e}),BG=()=>{const t=Object.keys(Lt().selection.selected);if(t.length===0)return;Na({id:"unarchive-selected",title:`Unarchive ${t.length} selected items?`,labels:{confirm:"Unarchive",cancel:"Cancel"},confirmProps:{color:"green"},onConfirm:e});function e(){et.transaction("rw",et.notes,et.files_meta,async r=>{r.notes.where("id").anyOf(t).modify(n),r.files_meta.where("id").anyOf(t).modify(n),ze(i=>{i.selection.selected={}})})}function n(r){r.archived!==0&&(r.archived=0,r.updated_at=Date.now(),r.state==="synced"&&(r.state="dirty",r.version=r.version+1))}},IG=()=>{const t=Object.keys(Lt().selection.selected);if(t.length===0)return;Na({id:"delete-selected",title:`Delete ${t.length} selected items?`,labels:{confirm:"Delete",cancel:"Cancel"},confirmProps:{color:"red"},onConfirm:e});function e(){et.transaction("rw",et.notes,et.files_meta,async r=>{r.notes.where("id").anyOf(t).modify(n),r.files_meta.where("id").anyOf(t).modify(n),ze(i=>{i.selection.selected={}})})}function n(r,i){if(!r.deleted_at){if(r.state==="dirty"&&r.version===1){delete i.value;return}r.deleted_at=Date.now(),r.updated_at=Date.now(),r.state==="synced"&&(r.state="dirty",r.version=r.version+1)}}},$G=()=>ze(t=>{t.selection.bulkLabelOpen=!t.selection.bulkLabelOpen}),ew=()=>ze(t=>{t.selection.bulkLabelOpen=!1}),CO=async t=>{const e=Lt(),n=Object.keys(e.selection.selected),r=[],i=[];for(const u in t)t[u]===!0?r.push(u):t[u]===!1&&i.push(u);if(n.length===0||r.length===0&&i.length===0)return;const o=tr.fromItr(r),s=tr.fromItr(i);et.transaction("rw",et.notes,et.files_meta,async u=>{u.notes.where("id").anyOf(n).modify(l),u.files_meta.where("id").anyOf(n).modify(l)});function l(u){const f=tr.fromItr(u.labels??[]),h=f.union(o).without(s);f.isEqualTo(h)||(u.updated_at=Date.now(),u.state==="synced"&&(u.state="dirty",u.version=u.version+1),u.labels=h.toArray())}ze(u=>{u.selection.bulkLabelOpen=!1,u.selection.selected={}})},FG={open:!1,fetching:!1,calculating:!1,local:null,remote:null},UG=async()=>{ze(n=>{n.storageUsage.calculating=!0});const{quota:t,usage:e}=await navigator.storage.estimate();ze(n=>{n.storageUsage.calculating=!1}),!(t===void 0||e===void 0)&&ze(n=>{n.storageUsage.local={used:e,limit:t}})},HG=async()=>{ze(e=>{e.storageUsage.fetching=!0});const t=await bV();t.success?ze(e=>{e.storageUsage.remote=t.data}):(Dt.show({title:"Failed to fetch storage usage",message:t.error,color:"red"}),au(t)&&ze(e=>{e.user.user.loggedIn=!1})),ze(e=>{e.storageUsage.fetching=!1})},qG=()=>{const t=Lt();t.storageUsage.open||(ze(e=>{e.storageUsage.open=!0}),queueMicrotask(UG),t.user.user.loggedIn&&queueMicrotask(HG))},kO=()=>{ze(t=>{t.storageUsage.open=!1})},KG={notes:AX,user:l_,conflicts:WX,admin:XX,import:up,labels:gG,history:RZ,files:yX,commandCenterOpen:!1,selection:jG,storageUsage:FG},bt=pF()(AF(VX(()=>KG))),Lt=bt.getState,ze=bt.setState,ga=bt.subscribe,VM=t=>ze(e=>{e.commandCenterOpen=t});rX();qX();kG();EX();const WM=t=>t.conflicts.conflicts.length>0||t.notes.openNote!==null||t.import.importDialog.open||t.import.keepImportDialog.open||t.notes.sync.dialogOpen||t.user.registerDialog.open||t.user.loginDialog.open||t.user.encryptionKeyDialog.open||t.user.imprintOpen||t.admin.open||t.labels.labelSelectorOpen||t.labels.dialog.open||t.files.openFile!==null||t.storageUsage.open,VG=t=>WM(t)||ld(t),WG=t=>WM(t)||t.commandCenterOpen||ld(t),YG="modulepreload",ZG=function(t,e){return new URL(t,e).href},EO={},YM=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=f(n.map(h=>{if(h=ZG(h,r),h in EO)return;EO[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(r)for(let b=s.length-1;b>=0;b--){const y=s[b];if(y.href===h&&(!p||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":YG,p||(v.as="script"),v.crossOrigin="",v.href=h,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((b,y)=>{v.addEventListener("load",b),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};function XG(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:s}=t;let l,u;const f=async(p=!0)=>{await u};async function h(){if("serviceWorker"in navigator){if(l=await YM(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:p}},[],import.meta.url).then(({Workbox:p})=>new p("./sw.js",{scope:"./",type:"classic"})).catch(p=>{s?.(p)}),!l)return;l.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),l.addEventListener("installed",p=>{p.isUpdate||r?.()}),l.register({immediate:e}).then(p=>{o?o("./sw.js",p):i?.(p)}).catch(p=>{s?.(p)})}}return u=h(),f}function GG(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:s}=t,[l,u]=P.useState(!1),[f,h]=P.useState(!1),[p]=P.useState(()=>XG({immediate:e,onOfflineReady(){h(!0),r?.()},onNeedRefresh(){u(!0),n?.()},onRegistered:i,onRegisteredSW:o,onRegisterError:s}));return{needRefresh:[l,u],offlineReady:[f,h],updateServiceWorker:p}}const QG=()=>{const t=gt.c(7);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={onRegisteredSW(u,f){f?.active?.state==="activated"?AO(36e5,u,f):f?.installing&&f.installing.addEventListener("statechange",h=>{h.target.state==="activated"&&AO(36e5,u,f)})}},t[0]=e):e=t[0];const{needRefresh:n,updateServiceWorker:r}=GG(e),[i,o]=n;let s;t[1]!==i||t[2]!==o||t[3]!==r?(s=i&&S.jsxs("div",{className:"PWABadge-toast",children:[S.jsx("div",{className:"PWABadge-message",children:S.jsx("span",{id:"toast-message",children:"New content available, click on reload button to update."})}),S.jsxs("div",{className:"PWABadge-buttons",children:[S.jsx("button",{className:"PWABadge-toast-button",onClick:()=>r(!0),children:"Reload"}),S.jsx("button",{className:"PWABadge-toast-button",onClick:()=>o(!1),children:"Close"})]})]}),t[1]=i,t[2]=o,t[3]=r,t[4]=s):s=t[4];let l;return t[5]!==s?(l=S.jsx("div",{className:"PWABadge",role:"alert","aria-labelledby":"toast-message",children:s}),t[5]=s,t[6]=l):l=t[6],l};function AO(t,e,n){setInterval(async()=>{if("onLine"in navigator&&!navigator.onLine)return;(await fetch(e,{cache:"no-store",headers:{cache:"no-store","cache-control":"no-cache"}}))?.status===200&&await n.update()},t)}const JG=()=>lM({opened:!1,empty:!1,selected:-1,listId:"",query:"",registeredActions:new Set}),eQ=t=>cM(t);function zf(t,e){const n=e.getState();e.setState({...n,...t(e.getState())})}function ZM(t){zf(()=>({opened:!0,selected:-1}),t)}function XM(t){zf(()=>({opened:!1}),t)}function GM(t){zf(e=>({opened:!e.opened,selected:e.opened?e.selected:-1}),t)}function QM(t,e){e.updateState(n=>({...n,selected:t}))}function tQ(t,e){e.updateState(n=>({...n,listId:t}))}function Fv(t,e=document){const n=e.querySelector(t);if(n)return n;const r=e instanceof ShadowRoot?e.host.children:e.children;for(let i=0;i<r.length;i+=1){const o=r[i];if(o.shadowRoot){const l=Fv(t,o.shadowRoot);if(l)return l}const s=Fv(t,o);if(s)return s}return null}function r0(t,e){const n=e.getState(),r=n.listId?Fv(`#${n.listId}`):null,i=r?.querySelector("[data-selected]"),o=r?.querySelectorAll("[data-action]")??[],s=t===-1?o.length-1:t===o.length?0:t,l=NP(s,0,o.length-1);return i?.removeAttribute("data-selected"),o[l]?.scrollIntoView({block:"nearest"}),o[l]?.setAttribute("data-selected","true"),QM(l,e),l}function nQ(t){return r0(t.getState().selected+1,t)}function rQ(t){return r0(t.getState().selected-1,t)}function iQ(t){const e=t.getState();Fv(`#${e.listId} [data-selected]`)?.click()}function oQ(t,e){const n=e.getState();return n.registeredActions.add(t),()=>{n.registeredActions.delete(t)}}function sQ(t,e){zf(()=>({query:t}),e),Promise.resolve().then(()=>{r0(0,e),zf(n=>({empty:n.query.trim().length>0&&n.registeredActions.size===0||!1}),e)})}function aQ({clearQuery:t},e){e.updateState(n=>({...n,selected:-1,query:t?"":n.query,empty:t?!1:n.empty}))}const As={open:ZM,close:XM,toggle:GM,updateState:zf,setSelectedAction:QM,setListId:tQ,selectAction:r0,selectNextAction:nQ,selectPreviousAction:rQ,triggerSelectedAction:iQ,registerAction:oQ,setQuery:sQ,clearSpotlightState:aQ};function lQ(){const t=JG();return[t,{open:()=>ZM(t),close:()=>XM(t),toggle:()=>GM(t)}]}const[JM,Yo]=lQ(),{open:hue,close:pue,toggle:mue}=Yo;function e6(t){const e=t;return e.group!==void 0&&Array.isArray(e.actions)}function cQ(t){return Array.isArray(t)?t.map(e=>e.trim()).join(",").toLowerCase().trim():typeof t=="string"?t.toLowerCase().trim():""}function uQ(t){return t.reduce((e,n)=>"actions"in n?[...e,...n.actions.map(r=>({...r,group:n.group}))]:[...e,n],[])}function fQ(t){const e={},n=[];return t.forEach(r=>{r.group?(e[r.group]||(e[r.group]={pushed:!1,data:{group:r.group,actions:[]}}),e[r.group].data.actions.push(r),e[r.group].pushed||(e[r.group].pushed=!0,n.push(e[r.group].data))):n.push(r)}),n}const dQ=(t,e)=>{const n=t.trim().toLowerCase(),r=[[],[]];return uQ(e).forEach(o=>{o.label?.toLowerCase().includes(n)?r[0].push(o):(o.description?.toLowerCase().includes(n)||cQ(o.keywords).includes(n))&&r[1].push(o)}),fQ(r.flat())};function t6(t,e){if(!Array.isArray(t))return[];let n=0;return t.reduce((r,i)=>{if(n>=e)return r;if(e6(i)){const o=t6(i.actions,e-n);r.push({group:i.group,actions:o}),n+=o.length}else r.push(i),n+=1;return r},[])}const[hQ,cd]=Wo("Spotlight component was not found in tree");var Ns={root:"m_d2b315db",content:"m_3cd250e0",body:"m_d2abce9b",search:"m_f366a061",actionsList:"m_6e463822",action:"m_d49bb8ef",actionBody:"m_3d475731",actionSection:"m_832642f6",actionLabel:"m_6c2a1345",actionDescription:"m_a6d9d78d",empty:"m_82f78f74",footer:"m_ddcaf054",actionsGroup:"m_5a3e5f7b"};const pQ={dimmedSections:!0,highlightQuery:!1},fp=ft((t,e)=>{const n=Ze("SpotlightAction",pQ,t),{className:r,style:i,classNames:o,styles:s,id:l,description:u,label:f,leftSection:h,rightSection:p,children:g,dimmedSections:v,highlightQuery:b,highlightColor:y,closeSpotlightOnTrigger:_,onClick:E,onMouseDown:A,keywords:O,vars:T,...R}=n,N=cd(),j={classNames:o,styles:s},U=b&&typeof f=="string"?S.jsx(_2,{component:"span",highlight:N.query,color:y,...N.getStyles("actionLabel",j),children:f}):S.jsx("span",{...N.getStyles("actionLabel",j),children:f});return S.jsx(ir,{ref:e,"data-action":!0,...N.getStyles("action",{className:r,style:i,...j}),...R,onMouseDown:H=>{H.preventDefault(),A?.(H)},onClick:H=>{E?.(H),(_??N.closeOnActionTrigger)&&As.close(N.store)},tabIndex:-1,children:g||S.jsxs(S.Fragment,{children:[h&&S.jsx(ut,{component:"span",mod:{position:"left",dimmed:v},...N.getStyles("actionSection",j),children:h}),S.jsxs("span",{...N.getStyles("actionBody",j),children:[U,S.jsx("span",{...N.getStyles("actionDescription",j),children:u})]}),p&&S.jsx(ut,{component:"span",mod:{position:"right",dimmed:v},...N.getStyles("actionSection",j),children:p})]})})});fp.classes=Ns;fp.displayName="@mantine/spotlight/SpotlightAction";const i0=ft((t,e)=>{const{className:n,style:r,styles:i,classNames:o,label:s,children:l,...u}=Ze("SpotlightActionsGroup",null,t),f=cd();return S.jsx(ut,{...f.getStyles("actionsGroup",{className:n,style:r,classNames:o,styles:i}),ref:e,...u,__vars:{"--spotlight-label":`'${s?.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`},children:l})});i0.classes=Ns;i0.displayName="@mantine/core/SpotlightActionsGroup";const o0=ft((t,e)=>{const{className:n,style:r,id:i,children:o,vars:s,classNames:l,styles:u,...f}=Ze("SpotlightActionsList",null,t),h=cd(),p=`mantine-${P.useId().replace(/:/g,"")}`,g=i||p;return P.useEffect(()=>(As.setListId(g,h.store),()=>As.setListId("",h.store)),[]),S.jsx(Kl.Autosize,{...h.getStyles("actionsList",{className:n,style:r,classNames:l,styles:u}),ref:e,type:"scroll",scrollbarSize:"var(--spotlight-actions-list-padding)",offsetScrollbars:"y",id:g,...f,children:o})});o0.classes=Ns;o0.displayName="@mantine/spotlight/SpotlightActionsList";const s0=ft((t,e)=>{const{className:n,style:r,classNames:i,styles:o,...s}=Ze("SpotlightEmpty",null,t),l=cd();return S.jsx(ut,{ref:e,...l.getStyles("empty",{classNames:i,styles:o,className:n,style:r}),...s})});s0.classes=Ns;s0.displayName="@mantine/spotlight/SpotlightEmpty";const h_=ft((t,e)=>{const{className:n,style:r,classNames:i,styles:o,...s}=Ze("SpotlightFooter",null,t),l=cd();return S.jsx(ut,{ref:e,...l.getStyles("footer",{className:n,classNames:i,style:r,styles:o}),...s})});h_.classes=Ns;h_.displayName="@mantine/spotlight/SpotlightFooter";function mQ(t,e){if(!t)return[];const n=()=>As.open(e);return Array.isArray(t)?t.map(r=>[r,n]):[[t,n]]}const gQ={size:600,yOffset:80,zIndex:Or("max"),overlayProps:{backgroundOpacity:.35,blur:7},transitionProps:{duration:200,transition:"pop"},store:JM,clearQueryOnClose:!0,closeOnActionTrigger:!0,shortcut:"mod + K",maxHeight:400},a0=ft((t,e)=>{const n=Ze("SpotlightRoot",gQ,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,store:f,children:h,query:p,onQueryChange:g,transitionProps:v,clearQueryOnClose:b,shortcut:y,tagsToIgnore:_,triggerOnContentEditable:E,disabled:A,onSpotlightOpen:O,onSpotlightClose:T,forceOpened:R,closeOnActionTrigger:N,maxHeight:j,scrollable:U,attributes:H,...Z}=n,te=ui(),{opened:I,query:Y}=eQ(f),M=typeof p=="string"?p:Y,J=X=>{g?.(X),As.setQuery(X,f)},V=jt({name:"Spotlight",classes:Ns,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:H});return Gf(mQ(y,f),_,E),Dl(()=>{I?O?.():T?.()},[I]),A?null:S.jsx(hQ,{value:{getStyles:V,query:M,setQuery:J,store:f,closeOnActionTrigger:N},children:S.jsx(Nn,{ref:e,...Z,withCloseButton:!1,opened:I||!!R,padding:0,onClose:()=>As.close(f),className:i,style:o,classNames:Cp({theme:te,classNames:[Ns,r],props:n,stylesCtx:void 0}),styles:ep({theme:te,styles:s,props:n,stylesCtx:void 0}),transitionProps:{...v,onExited:()=>{b&&J(""),As.clearSpotlightState({clearQuery:b},f),v?.onExited?.()}},__vars:{"--spotlight-max-height":U?Ke(j):void 0},__staticSelector:"Spotlight","data-scrollable":U||void 0,children:h})})});a0.classes=Ns;a0.displayName="@mantine/spotlight/SpotlightRoot";const vQ={size:"lg"},l0=ft((t,e)=>{const{classNames:n,styles:r,onKeyDown:i,onChange:o,vars:s,value:l,...u}=Ze("SpotlightSearch",vQ,t),f=cd(),h=f.getStyles("search"),[p,g]=P.useState(!1),v=b=>{i?.(b),!p&&(b.nativeEvent.code==="ArrowDown"&&(b.preventDefault(),As.selectNextAction(f.store)),b.nativeEvent.code==="ArrowUp"&&(b.preventDefault(),As.selectPreviousAction(f.store)),(b.nativeEvent.code==="Enter"||b.nativeEvent.code==="NumpadEnter")&&(b.preventDefault(),As.triggerSelectedAction(f.store)))};return S.jsx(sr,{ref:e,classNames:[{input:h.className},n],styles:[{input:h.style},r],...u,value:l??f.query,onChange:b=>{f.setQuery(b.currentTarget.value),o?.(b)},onKeyDown:v,onCompositionStart:()=>g(!0),onCompositionEnd:()=>g(!1)})});l0.classes=Ns;l0.displayName="@mantine/spotlight/SpotlightSearch";const yQ={size:600,yOffset:80,limit:1/0,zIndex:Or("max"),overlayProps:{backgroundOpacity:.35,blur:7},transitionProps:{duration:200,transition:"pop"},store:JM,filter:dQ,clearQueryOnClose:!0,closeOnActionTrigger:!0,shortcut:"mod + K"},Ji=ft((t,e)=>{const n=Ze("Spotlight",yQ,t),{searchProps:r,filter:i,query:o,onQueryChange:s,actions:l,nothingFound:u,highlightQuery:f,limit:h,scrollAreaProps:p,...g}=n,[v,b]=Os({value:o,defaultValue:"",finalValue:"",onChange:s}),y=t6(i(v,l),h).map(_=>{if(e6(_)){const E=_.actions.map(({id:A,...O})=>S.jsx(fp,{highlightQuery:f,...O},A));return S.jsx(i0,{label:_.group,children:E},_.group)}return S.jsx(fp,{highlightQuery:f,..._},_.id)});return S.jsxs(a0,{...g,query:v,onQueryChange:b,ref:e,children:[S.jsx(l0,{...r}),S.jsxs(o0,{...p,children:[y,y.length===0&&u&&S.jsx(s0,{children:u})]})]})});Ji.classes=Ns;Ji.displayName="@mantine/spotlight/Spotlight";Ji.Search=l0;Ji.ActionsList=o0;Ji.Action=fp;Ji.Empty=s0;Ji.ActionsGroup=i0;Ji.Footer=h_;Ji.Root=a0;Ji.open=Yo.open;Ji.close=Yo.close;Ji.toggle=Yo.toggle;function bQ(t,e,n){var r,i;typeof t=="function"?(r=e||[],i=n):(r=[],i=e);var o=Tt.useRef({hasResult:!1,result:i,error:null}),s=Tt.useReducer(function(f){return f+1},0);s[0];var l=s[1],u=Tt.useMemo(function(){var f=typeof t=="function"?t():t;if(!f||typeof f.subscribe!="function")throw t===f?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof f.hasValue!="function"||f.hasValue()))if(typeof f.getValue=="function")o.current.result=f.getValue(),o.current.hasResult=!0;else{var h=f.subscribe(function(p){o.current.result=p,o.current.hasResult=!0});typeof h=="function"?h():h.unsubscribe()}return f},r);if(Tt.useDebugValue(o.current.result),Tt.useEffect(function(){var f=u.subscribe(function(h){var p=o.current;(p.error!==null||p.result!==h)&&(p.error=null,p.result=h,p.hasResult=!0,l())},function(h){var p=o.current;p.error!==h&&(p.error=h,l())});return typeof f=="function"?f:f.unsubscribe.bind(f)},r),o.current.error)throw o.current.error;return o.current.result}function Xl(t,e,n){return bQ(function(){return jf.liveQuery(t)},e||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(t){var e=jf.DexieYProvider;e&&e.release(t)});const wQ=()=>{const t=gt.c(90),{toggleColorScheme:e}=DS(),n=bt(SQ),r=bt(_Q),i=bt(CQ),o=bt(kQ),s=bt(VG);let l,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],u=[],t[0]=l,t[1]=u):(l=t[0],u=t[1]);const f=Xl(EQ,l,u),h=bt(n0),p=bt(AQ);let g;t[2]!==e?(g={id:"toggleColorScheme",label:"Toggle Dark Mode",onClick:e,shortcut:"alt+shift+d"},t[2]=e,t[3]=g):g=t[3];let v,b;t[4]===Symbol.for("react.memo_cache_sentinel")?(v={id:"newNote",label:"New note",onClick:PM,shortcut:"alt+shift+n"},b={id:"searchContent",label:"Search notes content",onClick:OQ,shortcut:"alt+shift+f"},t[4]=v,t[5]=b):(v=t[4],b=t[5]);const y=p==="all";let _;t[6]!==y?(_={id:"select-all",label:"Show all notes (un-archived)",onClick:TQ,shortcut:"alt+shift+a",disabled:y},t[6]=y,t[7]=_):_=t[7];const E=p==="unlabeled";let A;t[8]!==E?(A={id:"select-unlabeled",label:"Show unlabeled notes",onClick:DQ,shortcut:"alt+shift+u",disabled:E},t[8]=E,t[9]=A):A=t[9];const O=p==="archived";let T;t[10]!==O?(T={id:"select-archived",label:"Show archived notes",onClick:RQ,shortcut:"alt+shift+h",disabled:O},t[10]=O,t[11]=T):T=t[11];const R=n||Vh==="self";let N;t[12]!==R?(N={id:"register",label:"Register",onClick:PZ,disabled:R},t[12]=R,t[13]=N):N=t[13];let j;t[14]!==n?(j={id:"login",label:"Login",onClick:BZ,disabled:n},t[14]=n,t[15]=j):j=t[15];let U,H,Z,te;t[16]===Symbol.for("react.memo_cache_sentinel")?(U={id:"agb",label:"Allgemeine Geschftsbedingungen (AGB)",onClick:MQ},H={id:"datenschutz",label:"Datenschutzerklrung",onClick:NQ},Z={id:"terms",label:"Terms and Conditions",onClick:jQ},te={id:"privacy",label:"Privacy Policy",onClick:zQ},t[16]=U,t[17]=H,t[18]=Z,t[19]=te):(U=t[16],H=t[17],Z=t[18],te=t[19]);const I=`${r?"Export":"New"} Encryption-Key`,Y=!n;let M;t[20]!==I||t[21]!==Y?(M={id:"encryptionKey",label:I,onClick:PQ,disabled:Y},t[20]=I,t[21]=Y,t[22]=M):M=t[22];const J=!n||!r;let V;t[23]!==J?(V={id:"importEncryptionKey",label:"Import Encryption-Key",onClick:LQ,disabled:J},t[23]=J,t[24]=V):V=t[24];const X=!n;let Q;t[25]!==X?(Q={id:"sync",label:"Manual server sync (and view sync error)",onClick:IM,disabled:X},t[25]=X,t[26]=Q):Q=t[26];let ne,ue,$,q,se,le;t[27]===Symbol.for("react.memo_cache_sentinel")?(ne={id:"issues",label:"Bug Reports & Feature Requests",onClick:BQ},ue={id:"storageUsage",label:"Show storage limits",onClick:qG},$={id:"imprint",label:"Imprint",onClick:lx},q={id:"exportNotes",label:"Export notes",onClick:RG},se={id:"importNotes",label:"Import notes",onClick:EG},le={id:"keepImportNotes",label:"Import notes from Keep",onClick:OG},t[27]=ne,t[28]=ue,t[29]=$,t[30]=q,t[31]=se,t[32]=le):(ne=t[27],ue=t[28],$=t[29],q=t[30],se=t[31],le=t[32]);const me=!n;let je;t[33]!==me?(je={id:"logout",label:"Logout",onClick:eX,disabled:me},t[33]=me,t[34]=je):je=t[34];const We=!n;let Xe;t[35]!==We?(Xe={id:"logoutAllDevices",label:"Logout from all devices",onClick:IQ,disabled:We},t[35]=We,t[36]=Xe):Xe=t[36];const Ae=!i||Vh==="central";let ht;t[37]!==Ae?(ht={id:"adminPanel",label:"Admin Panel",onClick:GX,disabled:Ae},t[37]=Ae,t[38]=ht):ht=t[38];const Ye=!n||!r;let Je;t[39]!==Ye?(Je={id:"generateNewEncryptionKeyAndResync",label:"Generate new Encryption-Key and resync notes",onClick:bM,disabled:Ye},t[39]=Ye,t[40]=Je):Je=t[40];const ct=!o||Vh==="self";let B;t[41]!==ct?(B={id:"changeEmail",label:"Change Email",onClick:YZ,disabled:ct},t[41]=ct,t[42]=B):B=t[42];const Ee=!n;let be;t[43]!==Ee?(be={id:"deleteAccount",label:"Delete Account",onClick:wM,disabled:Ee},t[43]=Ee,t[44]=be):be=t[44];let ee,G;t[45]===Symbol.for("react.memo_cache_sentinel")?(ee={id:"licenses",label:"Third Party Licenses",onClick:$Q},G={id:"resetApp",label:"Reset App (delete all local data)",onClick:nX},t[45]=ee,t[46]=G):(ee=t[45],G=t[46]);let ae;t[47]!==T||t[48]!==N||t[49]!==j||t[50]!==g||t[51]!==M||t[52]!==V||t[53]!==Q||t[54]!==je||t[55]!==Xe||t[56]!==ht||t[57]!==Je||t[58]!==B||t[59]!==be||t[60]!==_||t[61]!==A?(ae=[g,v,b,_,A,T,N,j,U,H,Z,te,M,V,Q,ne,ue,$,q,se,le,je,Xe,ht,Je,B,be,ee,G].filter(FQ),t[47]=T,t[48]=N,t[49]=j,t[50]=g,t[51]=M,t[52]=V,t[53]=Q,t[54]=je,t[55]=Xe,t[56]=ht,t[57]=Je,t[58]=B,t[59]=be,t[60]=_,t[61]=A,t[62]=ae):ae=t[62];const Ne=ae;let Me;t[63]!==Ne?(Me=Ne.filter(UQ),t[63]=Ne,t[64]=Me):Me=t[64];let pe;t[65]!==s||t[66]!==Me?(pe=Me.map(jn=>[jn.shortcut,async()=>{s||(Yo.close(),await Mp(100),jn.onClick())},{preventDefault:!0,usePhysicalKeys:!0}]),t[65]=s,t[66]=Me,t[67]=pe):pe=t[67];const Ue=pe;let ge;t[68]===Symbol.for("react.memo_cache_sentinel")?(ge=[],t[68]=ge):ge=t[68],Gf(Ue,ge,!0);let Oe;t[69]!==Ne?(Oe=Ne.map(HQ),t[69]=Ne,t[70]=Oe):Oe=t[70];const Ge=Oe;let tt;t[71]!==f?(tt=f.map(qQ),t[71]=f,t[72]=tt):tt=t[72];const vt=tt;let zt;t[73]!==h?(zt=h.map(KQ),t[73]=h,t[74]=zt):zt=t[74];const ln=zt;let Qt;t[75]===Symbol.for("react.memo_cache_sentinel")?(Qt=[],t[75]=Qt):Qt=t[75],P.useEffect(WQ,Qt);let Ct;t[76]!==Ge?(Ct={group:"Actions",actions:Ge},t[76]=Ge,t[77]=Ct):Ct=t[77];let St;t[78]!==vt?(St={group:"Notes",actions:vt},t[78]=vt,t[79]=St):St=t[79];let $t;t[80]!==ln?($t={group:"Labels",actions:ln},t[80]=ln,t[81]=$t):$t=t[81];let Ut;t[82]!==Ct||t[83]!==St||t[84]!==$t?(Ut=[Ct,St,$t],t[82]=Ct,t[83]=St,t[84]=$t,t[85]=Ut):Ut=t[85];let nt;return t[86]!==Ge.length||t[87]!==s||t[88]!==Ut?(nt=S.jsx(Ji,{shortcut:"mod + k",tagsToIgnore:xQ,triggerOnContentEditable:!0,scrollable:!0,maxHeight:"100%",disabled:s,limit:Ge.length,actions:Ut,onSpotlightOpen:YQ,onSpotlightClose:ZQ}),t[86]=Ge.length,t[87]=s,t[88]=Ut,t[89]=nt):nt=t[89],nt},xQ=[];function SQ(t){return t.user.user.loggedIn}function _Q(t){return!!t.user.user.keyTokenPair}function CQ(t){return t.user.user.isAdmin}function kQ(t){return t.user.user.email}function EQ(){return et.notes.where("deleted_at").equals(0).toArray()}function AQ(t){return t.labels.activeLabel}function OQ(){document.getElementById("searchInput")?.select()}function TQ(){return ja("all")}function DQ(){return ja("unlabeled")}function RQ(){return ja("archived")}function MQ(){return window.open("/agb.html","_blank")}function NQ(){return window.open("/datenschutz.html","_blank")}function jQ(){return window.open("/terms.html","_blank")}function zQ(){return window.open("/privacy.html","_blank")}function PQ(){return yM("export/generate")}function LQ(){return yM("update")}function BQ(){return window.open("https://github.com/rapnuss/ciphernotes/issues","_blank")}function IQ(){Na({id:"logoutAllDevices",title:"Logout from all devices",children:"Are you sure you want to logout from all devices?",labels:{confirm:"Logout",cancel:"Cancel"},onConfirm:tX})}function $Q(){return window.open("/licenses.html","_blank")}function FQ(t){return!t.disabled}function UQ(t){return!!t.shortcut&&!!t.onClick}function HQ(t){const{shortcut:e,onClick:n,...r}=t;return{...r,rightSection:e,onClick:async()=>{Yo.close(),await Mp(100),n()}}}function qQ(t){return{id:t.id,label:t.title,onClick:async()=>{Yo.close(),await Mp(100),u_(t.id)}}}function KQ(t){return{id:t.id,label:t.name,onClick:async()=>{Yo.close(),await Mp(100),ja(t.id)}}}function VQ(){return window.removeEventListener("popstate",Yo.close)}function WQ(){return window.addEventListener("popstate",Yo.close),VQ}function YQ(){VM(!0),history.pushState(null,"",location.href)}function ZQ(){VM(!1),history.back()}const XQ=()=>{const t=gt.c(11),{open:e,file:n,error:r}=bt(GQ);let i;t[0]!==e?(i={id:"import-notes-dialog",open:e,onClose:dx},t[0]=e,t[1]=i):i=t[1],ci(i);let o;t[2]!==r||t[3]!==n?(o=S.jsx(j5,{value:n,onChange:AG,label:"Select backup .zip",accept:".zip,application/zip,application/x-zip-compressed",error:r}),t[2]=r,t[3]=n,t[4]=o):o=t[4];const s=!n;let l;t[5]!==s?(l=S.jsx(Pr,{justify:"end",mt:"lg",children:S.jsx(fn,{onClick:MG,disabled:s,children:"Import"})}),t[5]=s,t[6]=l):l=t[6];let u;return t[7]!==e||t[8]!==o||t[9]!==l?(u=S.jsxs(Nn,{opened:e,onClose:dx,title:"Import notes",children:[o,l]}),t[7]=e,t[8]=o,t[9]=l,t[10]=u):u=t[10],u};function GQ(t){return t.import.importDialog}const QQ=()=>{const{open:t,email:e,code:n,loading:r,status:i}=bt(p=>p.user.loginDialog);ci({id:"login-dialog",open:t,onClose:sO});const[o,s]=P.useState(""),[l,u]=P.useState(""),[f,h]=P.useState(!1);return S.jsxs(Nn,{opened:t,onClose:sO,title:"Login",children:[i==="email"&&S.jsxs(mr,{gap:"md",children:[S.jsx(gr,{label:"Email",type:"email",name:"email",value:e,onChange:p=>aO(p.target.value),onKeyDown:p=>{p.key==="Enter"&&!r&&e&&cO()}}),S.jsx(fn,{loading:r,onClick:cO,disabled:r||!e,children:"Request login code"}),S.jsxs(or,{gap:"md",align:"center",children:[S.jsx("p",{children:"Already have a code?"}),S.jsx(fn,{onClick:lO,size:"xs",children:"Enter code"})]})]}),i==="code"&&S.jsxs(mr,{gap:"md",children:[S.jsx(gr,{label:"Email",type:"email",name:"email",value:e,onChange:p=>aO(p.target.value)}),S.jsx(gr,{label:"Code",value:n,onKeyDown:p=>{p.key==="Enter"&&!r&&n.length===6&&uO()},onChange:p=>IZ(p.target.value)}),S.jsx(fn,{loading:r,onClick:uO,disabled:r||n.length!==6,children:"Login"}),S.jsxs(or,{gap:"md",align:"center",children:[S.jsx("p",{children:"Need a new code?"}),S.jsx(fn,{onClick:lO,size:"xs",children:"Request code"})]})]})]})};var JQ=Object.defineProperty,eJ=Object.defineProperties,tJ=Object.getOwnPropertyDescriptors,Uv=Object.getOwnPropertySymbols,n6=Object.prototype.hasOwnProperty,r6=Object.prototype.propertyIsEnumerable,px=(t,e,n)=>e in t?JQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qi=(t,e)=>{for(var n in e||(e={}))n6.call(e,n)&&px(t,n,e[n]);if(Uv)for(var n of Uv(e))r6.call(e,n)&&px(t,n,e[n]);return t},i6=(t,e)=>eJ(t,tJ(e)),nJ=(t,e)=>{var n={};for(var r in t)n6.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Uv)for(var r of Uv(t))e.indexOf(r)<0&&r6.call(t,r)&&(n[r]=t[r]);return n},jr=(t,e,n)=>(px(t,typeof e!="symbol"?e+"":e,n),n),Pf=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{l(n.next(u))}catch(f){i(f)}},s=u=>{try{l(n.throw(u))}catch(f){i(f)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);l((n=n.apply(t,e)).next())}),rJ="hCaptcha-script",uv="hCaptchaOnLoad",OO="script-error",zc="@hCaptcha/loader";function iJ(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,n])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`).join("&")}function o6(t){let e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function s6(t){return t||document.head}function oJ(t){var e;t.setTag("source",zc),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",qi({},sJ())),t.setContext("device",i6(qi({},aJ()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function sJ(){var t,e,n,r,i,o;let s=navigator.userAgent,l,u;return s.indexOf("Firefox")!==-1?(l="Firefox",u=(t=s.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):s.indexOf("Edg")!==-1?(l="Microsoft Edge",u=(e=s.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):s.indexOf("Chrome")!==-1&&s.indexOf("Safari")!==-1?(l="Chrome",u=(n=s.match(/Chrome\/([\d.]+)/))==null?void 0:n[1]):s.indexOf("Safari")!==-1&&s.indexOf("Chrome")===-1?(l="Safari",u=(r=s.match(/Version\/([\d.]+)/))==null?void 0:r[1]):s.indexOf("Opera")!==-1||s.indexOf("OPR")!==-1?(l="Opera",u=(i=s.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:i[2]):s.indexOf("MSIE")!==-1||s.indexOf("Trident")!==-1?(l="Internet Explorer",u=(o=s.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:o[2]):(l="Unknown",u="Unknown"),{name:l,version:u}}function aJ(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let n;return/Mobile|iPhone|iPod|Android/i.test(t)?n="Mobile":/Tablet|iPad/i.test(t)?n="Tablet":n="Desktop",{model:e,family:e,device:n}}var lJ=class a6{constructor(e){jr(this,"_parent"),jr(this,"breadcrumbs",[]),jr(this,"context",{}),jr(this,"extra",{}),jr(this,"tags",{}),jr(this,"request"),jr(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new a6(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,n){return this.extra[e]=n,this}removeExtra(e){return delete this.extra[e],this}setContext(e,n){return typeof n.type>"u"&&(n.type=e),this.context[e]=n,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=qi(qi({},this.tags),e),this}setTag(e,n){return this.tags[e]=n,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],n=this;for(;n;)e.push(n),n=n.parent;return e.reverse().reduce((r,i)=>{var o;return r.breadcrumbs=[...(o=r.breadcrumbs)!=null?o:[],...i.breadcrumbs],r.extra=qi(qi({},r.extra),i.extra),r.contexts=qi(qi({},r.contexts),i.context),r.tags=qi(qi({},r.tags),i.tags),i.user&&(r.user=i.user),i.request&&(r.request=i.request),r},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},cJ=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,uJ=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,fJ=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,dJ=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,kg="?",TO="An unknown error occurred",hJ="0.0.4";function pJ(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function ni(t){return(t+256).toString(16).substring(1)}function mJ(){let t=pJ(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,ni(t[0])+ni(t[1])+ni(t[2])+ni(t[3])+"-"+ni(t[4])+ni(t[5])+"-"+ni(t[6])+ni(t[7])+"-"+ni(t[8])+ni(t[9])+"-"+ni(t[10])+ni(t[11])+ni(t[12])+ni(t[13])+ni(t[14])+ni(t[15])}var gJ=[[cJ,"chrome"],[fJ,"winjs"],[uJ,"gecko"]];function vJ(t){var e,n,r,i;if(!t.stack)return null;let o=[],s=(r=(n=(e=t.stack).split)==null?void 0:n.call(e,`
`))!=null?r:[];for(let l=0;l<s.length;++l){let u=null,f=null,h=null;for(let[p,g]of gJ)if(f=p.exec(s[l]),f){h=g;break}if(!(!f||!h)){if(h==="chrome")u={filename:(i=f[2])!=null&&i.startsWith("address at ")?f[2].substring(11):f[2],function:f[1]||kg,lineno:f[3]?+f[3]:null,colno:f[4]?+f[4]:null};else if(h==="winjs")u={filename:f[2],function:f[1]||kg,lineno:+f[3],colno:f[4]?+f[4]:null};else if(h==="gecko")l===0&&!f[5]&&t.columnNumber!==void 0&&o.length>0&&(o[0].column=t.columnNumber+1),u={filename:f[3],function:f[1]||kg,lineno:f[4]?+f[4]:null,colno:f[5]?+f[5]:null};else continue;!u.function&&u.lineno&&(u.function=kg),o.push(u)}}return o.length?o.reverse():null}function yJ(t){let e=vJ(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function bJ(t){let e=dJ.exec(t),n=e?e.slice(1):[];if(n.length!==6)throw new Error("Invalid DSN");let r=n[5].split("/"),i=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(i?"/"+i:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}function wJ(t,e,n){var r,i;let o=qi({event_id:mJ().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:hJ},environment:e,release:n,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){o.message=(i=(r=t.error)==null?void 0:r.message)!=null?i:"Unknown error",o.fingerprint=[o.message];let s=[],l=t.error;for(let u=0;u<5&&l&&(s.push(yJ(l)),!(!l.cause||!(l.cause instanceof Error)));u++)l=l.cause;o.exception={values:s.reverse()}}return t.type==="message"&&(o.message=t.message,o.level=t.level),o}function xJ(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=t,{message:r}=n,i=nJ(n,["message"]),o=new Error(typeof r=="string"?r:TO);return Object.assign(o,i)}let e=new Error(TO);return Object.assign(e,{cause:t})}function SJ(t,e,n){return Pf(this,null,function*(){var r,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let o;if(n){let u=new AbortController;o=u.signal,setTimeout(()=>u.abort(),n)}let s=yield fetch(t,i6(qi({},e),{signal:o})),l=yield s.text();return{status:s.status,body:l}}return yield new Promise((o,s)=>{var l,u;let f=new XMLHttpRequest;if(f.open((l=e?.method)!=null?l:"GET",t),f.onload=()=>o({status:f.status,body:f.responseText}),f.onerror=()=>s(new Error("XHR Network Error")),e?.headers)for(let[h,p]of Object.entries(e.headers))f.setRequestHeader(h,p);if(n){let h=setTimeout(()=>{f.abort(),s(new Error("Request timed out"))},n);f.onloadend=()=>{clearTimeout(h)}}f.send((u=e?.body)==null?void 0:u.toString())})}catch(o){return{status:0,body:(i=(r=o?.toString)==null?void 0:r.call(o))!=null?i:"Unknown error"}}})}var ki,mx=(ki=class{constructor(t){jr(this,"apiURL"),jr(this,"dsn"),jr(this,"environment"),jr(this,"release"),jr(this,"sampleRate"),jr(this,"debug"),jr(this,"_scope"),jr(this,"shouldBuffer",!1),jr(this,"bufferlimit",20),jr(this,"buffer",[]);var e,n,r,i,o;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(n=t.debug)!=null?n:!1,this._scope=(r=t.scope)!=null?r:new lJ,this.apiURL=bJ(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(i=t.buffer)!=null?i:!1,this.bufferlimit=(o=t.bufferLimit)!=null?o:20}static init(t){ki._instance||(ki._instance=new ki(t))}static get instance(){if(!ki._instance)throw new Error("Sentry has not been initialized");return ki._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return ki.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){ki.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:xJ(t),scope:e??this._scope})}static captureException(t,e){ki.instance.captureException(t,e)}captureMessage(t,e="info",n){this.captureEvent({type:"message",level:e,message:t,scope:n??this._scope})}static captureMessage(t,e="info",n){ki.instance.captureMessage(t,e,n)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return Pf(this,null,function*(){try{this.log("Sending sentry event",t);let n=wJ(t,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},i={type:"event"},o=JSON.stringify(r)+`
`+JSON.stringify(i)+`
`+JSON.stringify(n),s=yield SJ(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:o},e);this.log("Sentry response",s.status),s.status!==200&&(console.log(s.body),console.error("Failed to send event to Sentry",s))}catch(n){console.error("Failed to send event",n)}})}flush(t=5e3){return Pf(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(n=>this.sendEvent(n,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return ki.instance.flush(t)}static reset(){ki._instance=void 0}},jr(ki,"_instance"),ki),_J="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",CJ="2.1.0",kJ="production";function EJ(t=!0){if(!t)return DO();mx.init({dsn:_J,release:CJ,environment:kJ});let e=mx.scope;return oJ(e),DO(e)}function DO(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&mx.captureException(e,t)}}}function AJ({scriptLocation:t,query:e,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:o=!1,secureApi:s=!1,scriptSource:l=""}={},u){let f=s6(t),h=o6(f);return new Promise((p,g)=>{let v=h.document.createElement("script");v.id=rJ,l?v.src=`${l}?onload=${uv}`:s?v.src=`${i}/1/secure-api.js?onload=${uv}`:v.src=`${i}/1/api.js?onload=${uv}`,v.crossOrigin=r,v.async=n;let b=(y,_)=>{try{!s&&o&&f.removeChild(v),_(y)}catch(E){g(E)}};v.onload=y=>b(y,p),v.onerror=y=>{u&&u(v.src),b(y,g)},v.src+=e!==""?`&${e}`:"",f.appendChild(v)})}var Eg=[];function OJ(t={cleanup:!1},e){try{e.addBreadcrumb({category:zc,message:"hCaptcha loader params",data:t});let n=s6(t.scriptLocation),r=o6(n),i=Eg.find(({scope:s})=>s===r.window);if(i)return e.addBreadcrumb({category:zc,message:"hCaptcha already loaded"}),i.promise;let o=new Promise((s,l)=>Pf(this,null,function*(){try{r.window[uv]=()=>{e.addBreadcrumb({category:zc,message:"hCaptcha script called onload function"}),s(r.window.hcaptcha)};let u=iJ({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});yield AJ(qi({query:u},t),f=>{e.captureRequest({url:f,method:"GET"})}),e.addBreadcrumb({category:zc,message:"hCaptcha loaded",data:i})}catch{e.addBreadcrumb({category:zc,message:"hCaptcha failed to load"});let f=Eg.findIndex(h=>h.scope===r.window);f!==-1&&Eg.splice(f,1),l(new Error(OO))}}));return Eg.push({promise:o,scope:r.window}),o}catch(n){return e.captureException(n),Promise.reject(new Error(OO))}}function l6(t,e,n=0){return Pf(this,null,function*(){let r=n<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield OJ(t,e)}catch(i){return e.addBreadcrumb({category:zc,message:r}),n>=2?(e.captureException(i),Promise.reject(i)):(n+=1,l6(t,e,n))}})}function TJ(){return Pf(this,arguments,function*(t={}){let e=EJ(t.sentry);return yield l6(t,e)})}function RO(t){var e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function MO(t){return t||document.head}var DJ=(function(t){s_(e,t);function e(r){var i;return i=t.call(this,r)||this,i._hcaptcha=void 0,i.renderCaptcha=i.renderCaptcha.bind(Hi(i)),i.resetCaptcha=i.resetCaptcha.bind(Hi(i)),i.removeCaptcha=i.removeCaptcha.bind(Hi(i)),i.isReady=i.isReady.bind(Hi(i)),i._onReady=null,i.loadCaptcha=i.loadCaptcha.bind(Hi(i)),i.handleOnLoad=i.handleOnLoad.bind(Hi(i)),i.handleSubmit=i.handleSubmit.bind(Hi(i)),i.handleExpire=i.handleExpire.bind(Hi(i)),i.handleError=i.handleError.bind(Hi(i)),i.handleOpen=i.handleOpen.bind(Hi(i)),i.handleClose=i.handleClose.bind(Hi(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(Hi(i)),i.ref=P.createRef(),i.apiScriptRequested=!1,i.sentryHub=null,i.captchaId="",i.state={isApiReady:!1,isRemoved:!1,elementId:r.id},i}var n=e.prototype;return n.componentDidMount=function(){var i=this,o=MO(this.props.scriptLocation),s=RO(o);this._hcaptcha=s.window.hcaptcha||void 0;var l=typeof this._hcaptcha<"u";if(l){this.setState({isApiReady:!0},function(){i.renderCaptcha()});return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&(i.reset(o),i.remove(o))},n.shouldComponentUpdate=function(i,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},n.componentDidUpdate=function(i){var o=this,s=["sitekey","size","theme","tabindex","languageOverride","endpoint"],l=s.every(function(u){return i[u]===o.props[u]});l||this.removeCaptcha(function(){o.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,o=i.apihost,s=i.assethost,l=i.endpoint,u=i.host,f=i.imghost,h=i.languageOverride,p=i.reCaptchaCompat,g=i.reportapi,v=i.sentry,b=i.custom,y=i.loadAsync,_=i.scriptLocation,E=i.scriptSource,A=i.secureApi,O=i.cleanup,T=O===void 0?!0:O,R={render:"explicit",apihost:o,assethost:s,endpoint:l,hl:h,host:u,imghost:f,recaptchacompat:p===!1?"off":null,reportapi:g,sentry:v,custom:b,loadAsync:y,scriptLocation:_,scriptSource:E,secureApi:A,cleanup:T};TJ(R).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var o=this,s=this.props.onReady,l=this.state.isApiReady,u=this.captchaId;if(!(!l||u)){var f=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),h=this._hcaptcha,p=h.render(this.ref.current,f);this.captchaId=p,this.setState({isRemoved:!1},function(){i&&i(),s&&s(),o._onReady&&o._onReady(p)})}},n.resetCaptcha=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&i.reset(o)},n.removeCaptcha=function(i){var o=this,s=this._hcaptcha,l=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){o.captchaId="",s.remove(l),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){var o=MO(i.props.scriptLocation),s=RO(o);i._hcaptcha=s.window.hcaptcha,i.renderCaptcha(function(){var l=i.props.onLoad;l&&l()})})},n.handleSubmit=function(i){var o=this.props.onVerify,s=this.state.isRemoved,l=this._hcaptcha,u=this.captchaId;if(!(typeof l>"u"||s)){var f=l.getResponse(u),h=l.getRespKey(u);o&&o(f,h)}},n.handleExpire=function(){var i=this.props.onExpire,o=this._hcaptcha,s=this.captchaId;this.isReady()&&(o.reset(s),i&&i())},n.handleError=function(i){var o=this.props.onError,s=this._hcaptcha,l=this.captchaId;this.isReady()&&s.reset(l),o&&o(i)},n.isReady=function(){var i=this.state,o=i.isApiReady,s=i.isRemoved;return o&&!s},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){var o=this;i===void 0&&(i=null),i=typeof i=="object"?i:null;try{var s=this._hcaptcha,l=this.captchaId;if(!this.isReady()){var u,f=new Promise(function(h,p){o._onReady=function(g){try{var v=o._hcaptcha;i&&i.async?v.execute(g,i).then(h).catch(p):h(v.execute(g,i))}catch(b){p(b)}}});return(u=i)!=null&&u.async?f:null}return s.execute(l,i)}catch(h){return i&&i.async?Promise.reject(h):null}},n.close=function(){var i=this._hcaptcha,o=this.captchaId;if(this.isReady())return i.close(o)},n.setData=function(i){var o=this._hcaptcha,s=this.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),o.setData(s,i))},n.getResponse=function(){var i=this._hcaptcha;return i.getResponse(this.captchaId)},n.getRespKey=function(){var i=this._hcaptcha;return i.getRespKey(this.captchaId)},n.render=function(){var i=this.state.elementId;return P.createElement("div",{ref:this.ref,id:i})},e})(P.Component);const RJ=()=>{const t=gt.c(28),{open:e,email:n,loading:r,agree:i}=bt(MJ),[o,s]=P.useState(null),l=P.useRef(null);let u;t[0]!==e?(u={id:"register-dialog",open:e,onClose:oO},t[0]=e,t[1]=u):u=t[1],ci(u);let f;t[2]!==o?(f=()=>{oO(),o&&(l.current?.resetCaptcha(),s(null))},t[2]=o,t[3]=f):f=t[3];let h;t[4]!==n?(h=S.jsx(gr,{label:"Email",type:"email",value:n,onChange:NJ}),t[4]=n,t[5]=h):h=t[5];let p,g,v,b;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx("a",{href:"/agb.html",target:"_blank",children:"AGB Deutsch"}),g=S.jsx("a",{href:"/datenschutz.html",target:"_blank",children:"Datenschutzerklrung Deutsch"}),v=S.jsx("a",{href:"/terms.html",target:"_blank",children:"Terms and Conditions English"}),b=S.jsx("a",{href:"/privacy.html",target:"_blank",children:"Privacy Policy English"}),t[6]=p,t[7]=g,t[8]=v,t[9]=b):(p=t[6],g=t[7],v=t[8],b=t[9]);let y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=S.jsxs(S.Fragment,{children:["Ich stimme den AGB und der Datenschutzerklrung zu.",S.jsx("br",{}),"I accept the Terms and Conditions and the Privacy Policy."]}),t[10]=y):y=t[10];let _;t[11]!==i?(_=S.jsx(Vl,{label:y,checked:i,onChange:jJ}),t[11]=i,t[12]=_):_=t[12];let E;t[13]===Symbol.for("react.memo_cache_sentinel")?(E=S.jsx(DJ,{ref:l,sitekey:rV,onVerify:s}),t[13]=E):E=t[13];const A=!n||!i||!o;let O;t[14]!==o?(O=async()=>{o&&(await LZ(o),o&&(l.current?.resetCaptcha(),s(null)))},t[14]=o,t[15]=O):O=t[15];let T;t[16]!==r||t[17]!==A||t[18]!==O?(T=S.jsx(fn,{loading:r,disabled:A,onClick:O,children:"Register"}),t[16]=r,t[17]=A,t[18]=O,t[19]=T):T=t[19];let R;t[20]!==T||t[21]!==h||t[22]!==_?(R=S.jsxs(mr,{gap:"md",children:[h,p,g,v,b,_,E,T]}),t[20]=T,t[21]=h,t[22]=_,t[23]=R):R=t[23];let N;return t[24]!==e||t[25]!==f||t[26]!==R?(N=S.jsx(Nn,{opened:e,onClose:f,title:"Register Email",children:R}),t[24]=e,t[25]=f,t[26]=R,t[27]=N):N=t[27],N};function MJ(t){return t.user.registerDialog}function NJ(t){return jZ(t.target.value)}function jJ(t){return zZ(t.target.checked)}const zJ=()=>{const t=gt.c(11),{syncing:e,dialogOpen:n}=bt(PJ),r=bt(LJ),i=bt(BJ);let o;t[0]!==n?(o={id:"sync-dialog",open:n,onClose:gO},t[0]=n,t[1]=o):o=t[1],ci(o);const s=i?"You need to generate or import an Encryption-Key first!":"Your notes are encrypted locally and stored on the server.";let l;t[2]!==s?(l=S.jsx(dn,{c:"dimmed",pb:"md",children:s}),t[2]=s,t[3]=l):l=t[3];const u=e||r;let f;t[4]!==i||t[5]!==u?(f=S.jsx(fn,{disabled:i,loading:u,onClick:Ms,children:"Synchronize"}),t[4]=i,t[5]=u,t[6]=f):f=t[6];let h;return t[7]!==n||t[8]!==l||t[9]!==f?(h=S.jsxs(Nn,{title:"Synchronize notes with the server",opened:n,onClose:gO,children:[l,f]}),t[7]=n,t[8]=l,t[9]=f,t[10]=h):h=t[10],h};function PJ(t){return t.notes.sync}function LJ(t){return t.files.upDownloading}function BJ(t){return t.user.user.keyTokenPair===null}var IJ=Object.defineProperty,Hv=Object.getOwnPropertySymbols,c6=Object.prototype.hasOwnProperty,u6=Object.prototype.propertyIsEnumerable,NO=(t,e,n)=>e in t?IJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gx=(t,e)=>{for(var n in e||(e={}))c6.call(e,n)&&NO(t,n,e[n]);if(Hv)for(var n of Hv(e))u6.call(e,n)&&NO(t,n,e[n]);return t},vx=(t,e)=>{var n={};for(var r in t)c6.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Hv)for(var r of Hv(t))e.indexOf(r)<0&&u6.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Xc;(t=>{const e=class Zt{constructor(u,f,h,p){if(this.version=u,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],u<Zt.MIN_VERSION||u>Zt.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let g=[];for(let b=0;b<this.size;b++)g.push(!1);for(let b=0;b<this.size;b++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(h);if(this.drawCodewords(v),p==-1){let b=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const _=this.getPenaltyScore();_<b&&(p=y,b=_),this.applyMask(y)}}i(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(u,f){const h=t.QrSegment.makeSegments(u);return Zt.encodeSegments(h,f)}static encodeBinary(u,f){const h=t.QrSegment.makeBytes(u);return Zt.encodeSegments([h],f)}static encodeSegments(u,f,h=1,p=40,g=-1,v=!0){if(!(Zt.MIN_VERSION<=h&&h<=p&&p<=Zt.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let b,y;for(b=h;;b++){const O=Zt.getNumDataCodewords(b,f)*8,T=s.getTotalBits(u,b);if(T<=O){y=T;break}if(b>=p)throw new RangeError("Data too long")}for(const O of[Zt.Ecc.MEDIUM,Zt.Ecc.QUARTILE,Zt.Ecc.HIGH])v&&y<=Zt.getNumDataCodewords(b,O)*8&&(f=O);let _=[];for(const O of u){n(O.mode.modeBits,4,_),n(O.numChars,O.mode.numCharCountBits(b),_);for(const T of O.getData())_.push(T)}i(_.length==y);const E=Zt.getNumDataCodewords(b,f)*8;i(_.length<=E),n(0,Math.min(4,E-_.length),_),n(0,(8-_.length%8)%8,_),i(_.length%8==0);for(let O=236;_.length<E;O^=253)n(O,8,_);let A=[];for(;A.length*8<_.length;)A.push(0);return _.forEach((O,T)=>A[T>>>3]|=O<<7-(T&7)),new Zt(b,f,A,g)}getModule(u,f){return 0<=u&&u<this.size&&0<=f&&f<this.size&&this.modules[f][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),f=u.length;for(let h=0;h<f;h++)for(let p=0;p<f;p++)h==0&&p==0||h==0&&p==f-1||h==f-1&&p==0||this.drawAlignmentPattern(u[h],u[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const f=this.errorCorrectionLevel.formatBits<<3|u;let h=f;for(let g=0;g<10;g++)h=h<<1^(h>>>9)*1335;const p=(f<<10|h)^21522;i(p>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(p,g));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(p,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(p,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(p,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let h=0;h<12;h++)u=u<<1^(u>>>11)*7973;const f=this.version<<12|u;i(f>>>18==0);for(let h=0;h<18;h++){const p=r(f,h),g=this.size-11+h%3,v=Math.floor(h/3);this.setFunctionModule(g,v,p),this.setFunctionModule(v,g,p)}}drawFinderPattern(u,f){for(let h=-4;h<=4;h++)for(let p=-4;p<=4;p++){const g=Math.max(Math.abs(p),Math.abs(h)),v=u+p,b=f+h;0<=v&&v<this.size&&0<=b&&b<this.size&&this.setFunctionModule(v,b,g!=2&&g!=4)}}drawAlignmentPattern(u,f){for(let h=-2;h<=2;h++)for(let p=-2;p<=2;p++)this.setFunctionModule(u+p,f+h,Math.max(Math.abs(p),Math.abs(h))!=1)}setFunctionModule(u,f,h){this.modules[f][u]=h,this.isFunction[f][u]=!0}addEccAndInterleave(u){const f=this.version,h=this.errorCorrectionLevel;if(u.length!=Zt.getNumDataCodewords(f,h))throw new RangeError("Invalid argument");const p=Zt.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f],g=Zt.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f],v=Math.floor(Zt.getNumRawDataModules(f)/8),b=p-v%p,y=Math.floor(v/p);let _=[];const E=Zt.reedSolomonComputeDivisor(g);for(let O=0,T=0;O<p;O++){let R=u.slice(T,T+y-g+(O<b?0:1));T+=R.length;const N=Zt.reedSolomonComputeRemainder(R,E);O<b&&R.push(0),_.push(R.concat(N))}let A=[];for(let O=0;O<_[0].length;O++)_.forEach((T,R)=>{(O!=y-g||R>=b)&&A.push(T[O])});return i(A.length==v),A}drawCodewords(u){if(u.length!=Math.floor(Zt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let p=0;p<this.size;p++)for(let g=0;g<2;g++){const v=h-g,y=(h+1&2)==0?this.size-1-p:p;!this.isFunction[y][v]&&f<u.length*8&&(this.modules[y][v]=r(u[f>>>3],7-(f&7)),f++)}}i(f==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let h=0;h<this.size;h++){let p;switch(u){case 0:p=(h+f)%2==0;break;case 1:p=f%2==0;break;case 2:p=h%3==0;break;case 3:p=(h+f)%3==0;break;case 4:p=(Math.floor(h/3)+Math.floor(f/2))%2==0;break;case 5:p=h*f%2+h*f%3==0;break;case 6:p=(h*f%2+h*f%3)%2==0;break;case 7:p=((h+f)%2+h*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][h]&&p&&(this.modules[f][h]=!this.modules[f][h])}}getPenaltyScore(){let u=0;for(let g=0;g<this.size;g++){let v=!1,b=0,y=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[g][_]==v?(b++,b==5?u+=Zt.PENALTY_N1:b>5&&u++):(this.finderPenaltyAddHistory(b,y),v||(u+=this.finderPenaltyCountPatterns(y)*Zt.PENALTY_N3),v=this.modules[g][_],b=1);u+=this.finderPenaltyTerminateAndCount(v,b,y)*Zt.PENALTY_N3}for(let g=0;g<this.size;g++){let v=!1,b=0,y=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][g]==v?(b++,b==5?u+=Zt.PENALTY_N1:b>5&&u++):(this.finderPenaltyAddHistory(b,y),v||(u+=this.finderPenaltyCountPatterns(y)*Zt.PENALTY_N3),v=this.modules[_][g],b=1);u+=this.finderPenaltyTerminateAndCount(v,b,y)*Zt.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let v=0;v<this.size-1;v++){const b=this.modules[g][v];b==this.modules[g][v+1]&&b==this.modules[g+1][v]&&b==this.modules[g+1][v+1]&&(u+=Zt.PENALTY_N2)}let f=0;for(const g of this.modules)f=g.reduce((v,b)=>v+(b?1:0),f);const h=this.size*this.size,p=Math.ceil(Math.abs(f*20-h*10)/h)-1;return i(0<=p&&p<=9),u+=p*Zt.PENALTY_N4,i(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let h=[6];for(let p=this.size-7;h.length<u;p-=f)h.splice(1,0,p);return h}}static getNumRawDataModules(u){if(u<Zt.MIN_VERSION||u>Zt.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*u+128)*u+64;if(u>=2){const h=Math.floor(u/7)+2;f-=(25*h-10)*h-55,u>=7&&(f-=36)}return i(208<=f&&f<=29648),f}static getNumDataCodewords(u,f){return Math.floor(Zt.getNumRawDataModules(u)/8)-Zt.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u]*Zt.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let f=[];for(let p=0;p<u-1;p++)f.push(0);f.push(1);let h=1;for(let p=0;p<u;p++){for(let g=0;g<f.length;g++)f[g]=Zt.reedSolomonMultiply(f[g],h),g+1<f.length&&(f[g]^=f[g+1]);h=Zt.reedSolomonMultiply(h,2)}return f}static reedSolomonComputeRemainder(u,f){let h=f.map(p=>0);for(const p of u){const g=p^h.shift();h.push(0),f.forEach((v,b)=>h[b]^=Zt.reedSolomonMultiply(v,g))}return h}static reedSolomonMultiply(u,f){if(u>>>8||f>>>8)throw new RangeError("Byte out of range");let h=0;for(let p=7;p>=0;p--)h=h<<1^(h>>>7)*285,h^=(f>>>p&1)*u;return i(h>>>8==0),h}finderPenaltyCountPatterns(u){const f=u[1];i(f<=this.size*3);const h=f>0&&u[2]==f&&u[3]==f*3&&u[4]==f&&u[5]==f;return(h&&u[0]>=f*4&&u[6]>=f?1:0)+(h&&u[6]>=f*4&&u[0]>=f?1:0)}finderPenaltyTerminateAndCount(u,f,h){return u&&(this.finderPenaltyAddHistory(f,h),f=0),f+=this.size,this.finderPenaltyAddHistory(f,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(u,f){f[0]==0&&(u+=this.size),f.pop(),f.unshift(u)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,u,f){if(u<0||u>31||l>>>u)throw new RangeError("Value out of range");for(let h=u-1;h>=0;h--)f.push(l>>>h&1)}function r(l,u){return(l>>>u&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const o=class er{constructor(u,f,h){if(this.mode=u,this.numChars=f,this.bitData=h,f<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(u){let f=[];for(const h of u)n(h,8,f);return new er(er.Mode.BYTE,u.length,f)}static makeNumeric(u){if(!er.isNumeric(u))throw new RangeError("String contains non-numeric characters");let f=[];for(let h=0;h<u.length;){const p=Math.min(u.length-h,3);n(parseInt(u.substring(h,h+p),10),p*3+1,f),h+=p}return new er(er.Mode.NUMERIC,u.length,f)}static makeAlphanumeric(u){if(!er.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],h;for(h=0;h+2<=u.length;h+=2){let p=er.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h))*45;p+=er.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h+1)),n(p,11,f)}return h<u.length&&n(er.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h)),6,f),new er(er.Mode.ALPHANUMERIC,u.length,f)}static makeSegments(u){return u==""?[]:er.isNumeric(u)?[er.makeNumeric(u)]:er.isAlphanumeric(u)?[er.makeAlphanumeric(u)]:[er.makeBytes(er.toUtf8ByteArray(u))]}static makeEci(u){let f=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)n(u,8,f);else if(u<16384)n(2,2,f),n(u,14,f);else if(u<1e6)n(6,3,f),n(u,21,f);else throw new RangeError("ECI assignment value out of range");return new er(er.Mode.ECI,0,f)}static isNumeric(u){return er.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return er.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,f){let h=0;for(const p of u){const g=p.mode.numCharCountBits(f);if(p.numChars>=1<<g)return 1/0;h+=4+g+p.bitData.length}return h}static toUtf8ByteArray(u){u=encodeURI(u);let f=[];for(let h=0;h<u.length;h++)u.charAt(h)!="%"?f.push(u.charCodeAt(h)):(f.push(parseInt(u.substring(h+1,h+3),16)),h+=2);return f}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=o;t.QrSegment=o})(Xc||(Xc={}));(t=>{(e=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Xc||(Xc={}));(t=>{(e=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Xc||(Xc={}));var hf=Xc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $J={L:hf.QrCode.Ecc.LOW,M:hf.QrCode.Ecc.MEDIUM,Q:hf.QrCode.Ecc.QUARTILE,H:hf.QrCode.Ecc.HIGH},f6=128,d6="L",h6="#FFFFFF",p6="#000000",m6=!1,g6=1,FJ=4,UJ=0,HJ=.1;function v6(t,e=0){const n=[];return t.forEach(function(r,i){let o=null;r.forEach(function(s,l){if(!s&&o!==null){n.push(`M${o+e} ${i+e}h${l-o}v1H${o+e}z`),o=null;return}if(l===r.length-1){if(!s)return;o===null?n.push(`M${l+e},${i+e} h1v1H${l+e}z`):n.push(`M${o+e},${i+e} h${l+1-o}v1H${o+e}z`);return}s&&o===null&&(o=l)})}),n.join("")}function y6(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,o)=>o<e.x||o>=e.x+e.w?i:!1))}function qJ(t,e,n,r){if(r==null)return null;const i=t.length+n*2,o=Math.floor(e*HJ),s=i/e,l=(r.width||o)*s,u=(r.height||o)*s,f=r.x==null?t.length/2-l/2:r.x*s,h=r.y==null?t.length/2-u/2:r.y*s,p=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let b=Math.floor(f),y=Math.floor(h),_=Math.ceil(l+f-b),E=Math.ceil(u+h-y);g={x:b,y,w:_,h:E}}const v=r.crossOrigin;return{x:f,y:h,h:u,w:l,excavation:g,opacity:p,crossOrigin:v}}function KJ(t,e){return e!=null?Math.max(Math.floor(e),0):t?FJ:UJ}function b6({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:s,boostLevel:l}){let u=Tt.useMemo(()=>{const b=(Array.isArray(t)?t:[t]).reduce((y,_)=>(y.push(...hf.QrSegment.makeSegments(_)),y),[]);return hf.QrCode.encodeSegments(b,$J[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:f,margin:h,numCells:p,calculatedImageSettings:g}=Tt.useMemo(()=>{let v=u.getModules();const b=KJ(r,i),y=v.length+b*2,_=qJ(v,s,b,o);return{cells:v,margin:b,numCells:y,calculatedImageSettings:_}},[u,s,o,r,i]);return{qrcode:u,margin:h,cells:f,numCells:p,calculatedImageSettings:g}}var VJ=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),WJ=Tt.forwardRef(function(e,n){const r=e,{value:i,size:o=f6,level:s=d6,bgColor:l=h6,fgColor:u=p6,includeMargin:f=m6,minVersion:h=g6,boostLevel:p,marginSize:g,imageSettings:v}=r,y=vx(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:_}=y,E=vx(y,["style"]),A=v?.src,O=Tt.useRef(null),T=Tt.useRef(null),R=Tt.useCallback(M=>{O.current=M,typeof n=="function"?n(M):n&&(n.current=M)},[n]),[N,j]=Tt.useState(!1),{margin:U,cells:H,numCells:Z,calculatedImageSettings:te}=b6({value:i,level:s,minVersion:h,boostLevel:p,includeMargin:f,marginSize:g,imageSettings:v,size:o});Tt.useEffect(()=>{if(O.current!=null){const M=O.current,J=M.getContext("2d");if(!J)return;let V=H;const X=T.current,Q=te!=null&&X!==null&&X.complete&&X.naturalHeight!==0&&X.naturalWidth!==0;Q&&te.excavation!=null&&(V=y6(H,te.excavation));const ne=window.devicePixelRatio||1;M.height=M.width=o*ne;const ue=o/Z*ne;J.scale(ue,ue),J.fillStyle=l,J.fillRect(0,0,Z,Z),J.fillStyle=u,VJ?J.fill(new Path2D(v6(V,U))):H.forEach(function($,q){$.forEach(function(se,le){se&&J.fillRect(le+U,q+U,1,1)})}),te&&(J.globalAlpha=te.opacity),Q&&J.drawImage(X,te.x+U,te.y+U,te.w,te.h)}}),Tt.useEffect(()=>{j(!1)},[A]);const I=gx({height:o,width:o},_);let Y=null;return A!=null&&(Y=Tt.createElement("img",{src:A,key:A,style:{display:"none"},onLoad:()=>{j(!0)},ref:T,crossOrigin:te?.crossOrigin})),Tt.createElement(Tt.Fragment,null,Tt.createElement("canvas",gx({style:I,height:o,width:o,ref:R,role:"img"},E)),Y)});WJ.displayName="QRCodeCanvas";var w6=Tt.forwardRef(function(e,n){const r=e,{value:i,size:o=f6,level:s=d6,bgColor:l=h6,fgColor:u=p6,includeMargin:f=m6,minVersion:h=g6,boostLevel:p,title:g,marginSize:v,imageSettings:b}=r,y=vx(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:_,cells:E,numCells:A,calculatedImageSettings:O}=b6({value:i,level:s,minVersion:h,boostLevel:p,includeMargin:f,marginSize:v,imageSettings:b,size:o});let T=E,R=null;b!=null&&O!=null&&(O.excavation!=null&&(T=y6(E,O.excavation)),R=Tt.createElement("image",{href:b.src,height:O.h,width:O.w,x:O.x+_,y:O.y+_,preserveAspectRatio:"none",opacity:O.opacity,crossOrigin:O.crossOrigin}));const N=v6(T,_);return Tt.createElement("svg",gx({height:o,width:o,viewBox:`0 0 ${A} ${A}`,ref:n,role:"img"},y),!!g&&Tt.createElement("title",null,g),Tt.createElement("path",{fill:l,d:`M0,0 h${A}v${A}H0z`,shapeRendering:"crispEdges"}),Tt.createElement("path",{fill:u,d:N,shapeRendering:"crispEdges"}),R)});w6.displayName="QRCodeSVG";class Kt{constructor(e,n,r,i,o){this._legacyCanvasSize=Kt.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),r&&typeof r=="object"?this._onDecode=n:(console.warn(r||i||o?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=n),n=typeof r=="object"?r:{},this._onDecodeError=n.onDecodeError||(typeof r=="function"?r:this._onDecodeError),this._calculateScanRegion=n.calculateScanRegion||(typeof i=="function"?i:this._calculateScanRegion),this._preferredCamera=n.preferredCamera||o||this._preferredCamera,this._legacyCanvasSize=typeof r=="number"?r:typeof i=="number"?i:this._legacyCanvasSize,this._maxScansPerSecond=n.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let s=!1;if(e.hidden&&(e.hidden=!1,s=!0),document.body.contains(e)||(document.body.appendChild(e),s=!0),r=e.parentElement,n.highlightScanRegion||n.highlightCodeOutline){if(i=!!n.overlay,this.$overlay=n.overlay||document.createElement("div"),o=this.$overlay.style,o.position="absolute",o.display="none",o.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&n.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}r.insertBefore(this.$overlay,this.$video.nextSibling)}n.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let l=window.getComputedStyle(e);l.display==="none"&&(e.style.setProperty("display","block","important"),s=!0),l.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),s=!0),s&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=Kt.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await Kt.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="videoinput"),r;try{e&&(await n()).every(i=>!i.label)&&(r=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await n()).map((i,o)=>({id:i.deviceId,label:i.label||(o===0?"Default Camera":`Camera ${o+1}`)}))}finally{r&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),Kt._stopVideoStream(r))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),Kt._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),Kt._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:n}=await this._getCameraStream();!this._active||this._paused?Kt._stopVideoStream(e):(this._setVideoMirror(n),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let n=()=>{this.$video.srcObject instanceof MediaStream&&(Kt._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(n(),!0):(await new Promise(r=>setTimeout(r,300)),this._paused?(n(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,n,r,i,o=!1,s=!1){let l,u=!1;n&&("scanRegion"in n||"qrEngine"in n||"canvas"in n||"disallowCanvasResizing"in n||"alsoTryWithoutScanRegion"in n||"returnDetailedScanResult"in n)?(l=n.scanRegion,r=n.qrEngine,i=n.canvas,o=n.disallowCanvasResizing||!1,s=n.alsoTryWithoutScanRegion||!1,u=!0):console.warn(n||r||i||o||s?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),n=!!r;try{let f,h;[r,f]=await Promise.all([r||Kt.createQrEngine(),Kt._loadImage(e)]),[i,h]=Kt._drawToCanvas(f,l,i,o);let p;if(r instanceof Worker){let g=r;n||Kt._postWorkerMessageSync(g,"inversionMode","both"),p=await new Promise((v,b)=>{let y,_,E,A=-1;_=T=>{T.data.id===A&&(g.removeEventListener("message",_),g.removeEventListener("error",E),clearTimeout(y),T.data.data!==null?v({data:T.data.data,cornerPoints:Kt._convertPoints(T.data.cornerPoints,l)}):b(Kt.NO_QR_CODE_FOUND))},E=T=>{g.removeEventListener("message",_),g.removeEventListener("error",E),clearTimeout(y),b("Scanner error: "+(T?T.message||T:"Unknown Error"))},g.addEventListener("message",_),g.addEventListener("error",E),y=setTimeout(()=>E("timeout"),1e4);let O=h.getImageData(0,0,i.width,i.height);A=Kt._postWorkerMessageSync(g,"decode",O,[O.data.buffer])})}else p=await Promise.race([new Promise((g,v)=>window.setTimeout(()=>v("Scanner error: timeout"),1e4)),(async()=>{try{var[g]=await r.detect(i);if(!g)throw Kt.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:Kt._convertPoints(g.cornerPoints,l)}}catch(v){if(g=v.message||v,/not implemented|service unavailable/.test(g))return Kt._disableBarcodeDetector=!0,Kt.scanImage(e,{scanRegion:l,canvas:i,disallowCanvasResizing:o,alsoTryWithoutScanRegion:s});throw`Scanner error: ${g}`}})()]);return u?p:p.data}catch(f){if(!l||!s)throw f;let h=await Kt.scanImage(e,{qrEngine:r,canvas:i,disallowCanvasResizing:o});return u?h:h.data}finally{n||Kt._postWorkerMessage(r,"close")}}setGrayscaleWeights(e,n,r,i=!0){Kt._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:n,blue:r,useIntegerApproximation:i})}setInversionMode(e){Kt._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>YM(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[],import.meta.url).then(r=>r.createWorker()),!(!Kt._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let n=navigator.userAgentData;return n&&n.brands.some(({brand:r})=>/Chromium/i.test(r))&&/mac ?OS/i.test(n.platform)&&await n.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:r,platformVersion:i})=>/arm/i.test(r||"arm")&&13<=parseInt(i||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let n=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-n)/2),y:Math.round((e.videoHeight-n)/2),width:n,height:n,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,n=e.videoWidth,r=e.videoHeight,i=e.offsetWidth,o=e.offsetHeight,s=e.offsetLeft,l=e.offsetTop,u=window.getComputedStyle(e),f=u.objectFit,h=n/r,p=i/o;switch(f){case"none":var g=n,v=r;break;case"fill":g=i,v=o;break;default:(f==="cover"?h>p:h<p)?(v=o,g=v*h):(g=i,v=g/h),f==="scale-down"&&(g=Math.min(g,n),v=Math.min(v,r))}var[b,y]=u.objectPosition.split(" ").map((E,A)=>{const O=parseFloat(E);return E.endsWith("%")?(A?o-v:i-g)*O/100:O});u=this._scanRegion.width||n,p=this._scanRegion.height||r,f=this._scanRegion.x||0;var _=this._scanRegion.y||0;h=this.$overlay.style,h.width=`${u/n*g}px`,h.height=`${p/r*v}px`,h.top=`${l+y+_/r*v}px`,r=/scaleX\(-1\)/.test(e.style.transform),h.left=`${s+(r?i-b-g:b)+(r?n-f-u:f)/n*g}px`,h.transform=e.style.transform}})}static _convertPoints(e,n){if(!n)return e;let r=n.x||0,i=n.y||0,o=n.width&&n.downScaledWidth?n.width/n.downScaledWidth:1;n=n.height&&n.downScaledHeight?n.height/n.downScaledHeight:1;for(let s of e)s.x=s.x*o+r,s.y=s.y*n+i;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,n=1e3/this._maxScansPerSecond;e<n&&await new Promise(i=>setTimeout(i,n-e)),this._lastScanTimestamp=Date.now();try{var r=await Kt.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(i){if(!this._active)return;this._onDecodeError(i)}!Kt._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=Kt.createQrEngine()),r?(this._onDecode?this._onDecode(r):this._legacyOnDecode&&this._legacyOnDecode(r.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(({x:i,y:o})=>`${i},${o}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==Kt.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",n=[{width:{min:1024}},{width:{min:768}},{}],r=n.map(i=>Object.assign({},i,{[e]:{exact:this._preferredCamera}}));for(let i of[...r,...n])try{let o=await navigator.mediaDevices.getUserMedia({video:i,audio:!1}),s=this._getFacingMode(o)||(i.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:o,facingMode:s}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let n of e.getTracks())n.stop(),e.removeTrack(n)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,n,r,i=!1){r=r||document.createElement("canvas");let o=n&&n.x?n.x:0,s=n&&n.y?n.y:0,l=n&&n.width?n.width:e.videoWidth||e.width,u=n&&n.height?n.height:e.videoHeight||e.height;return i||(i=n&&n.downScaledWidth?n.downScaledWidth:l,n=n&&n.downScaledHeight?n.downScaledHeight:u,r.width!==i&&(r.width=i),r.height!==n&&(r.height=n)),n=r.getContext("2d",{alpha:!1}),n.imageSmoothingEnabled=!1,n.drawImage(e,o,s,l,u,0,0,r.width,r.height),[r,n]}static async _loadImage(e){if(e instanceof Image)return await Kt._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let n=new Image;n.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await Kt._awaitImageLoad(n),n}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(n.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((n,r)=>{let i=o=>{e.removeEventListener("load",i),e.removeEventListener("error",i),o instanceof ErrorEvent?r("Image load error"):n()};e.addEventListener("load",i),e.addEventListener("error",i)})}static async _postWorkerMessage(e,n,r,i){return Kt._postWorkerMessageSync(await e,n,r,i)}static _postWorkerMessageSync(e,n,r,i){if(!(e instanceof Worker))return-1;let o=Kt._workerMessageId++;return e.postMessage({id:o,type:n,data:r},i),o}}Kt.DEFAULT_CANVAS_SIZE=400;Kt.NO_QR_CODE_FOUND="No QR code found";Kt._disableBarcodeDetector=!1;Kt._workerMessageId=0;const YJ=t=>{const e=gt.c(8);let n,r;e[0]!==t?({onScan:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const i=P.useRef(null);let o,s;e[3]!==n?(o=()=>{let u=null;return i.current&&(u=new Kt(i.current,f=>n(f.data),{}),u.start()),()=>{u&&(u.stop(),u.destroy(),u=null)}},s=[n],e[3]=n,e[4]=o,e[5]=s):(o=e[4],s=e[5]),P.useEffect(o,s);let l;return e[6]!==r?(l=S.jsx("video",{ref:i,...r}),e[6]=r,e[7]=l):l=e[7],l},nr=P.forwardRef((t,e)=>{const n=gt.c(27);let r,i,o,s,l,u,f,h,p,g;n[0]!==t?({children:r,title:g,text:p,disabled:o,style:h,onClick:u,id:s,className:i,loading:l,...f}=t,n[0]=t,n[1]=r,n[2]=i,n[3]=o,n[4]=s,n[5]=l,n[6]=u,n[7]=f,n[8]=h,n[9]=p,n[10]=g):(r=n[1],i=n[2],o=n[3],s=n[4],l=n[5],u=n[6],f=n[7],h=n[8],p=n[9],g=n[10]);let v;n[11]===Symbol.for("react.memo_cache_sentinel")?(v={icon:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},n[11]=v):v=n[11];let b;n[12]===Symbol.for("react.memo_cache_sentinel")?(b={fontSize:"0.75rem",color:"var(--mantine-color-dimmed)"},n[12]=b):b=n[12];let y;n[13]!==p?(y=S.jsx("div",{style:b,children:p}),n[13]=p,n[14]=y):y=n[14];let _;return n[15]!==r||n[16]!==i||n[17]!==o||n[18]!==s||n[19]!==l||n[20]!==u||n[21]!==e||n[22]!==f||n[23]!==h||n[24]!==y||n[25]!==g?(_=S.jsxs(Yr,{ref:e,id:s,className:i,variant:"default",size:"input-md",title:g,disabled:o,style:h,onClick:u,loading:l,styles:v,...f,children:[r,y]}),n[15]=r,n[16]=i,n[17]=o,n[18]=s,n[19]=l,n[20]=u,n[21]=e,n[22]=f,n[23]=h,n[24]=y,n[25]=g,n[26]=_):_=n[26],_});P.forwardRef((t,e)=>{const n=gt.c(12),{children:r,title:i,text:o,href:s,filename:l,target:u}=t;let f;n[0]===Symbol.for("react.memo_cache_sentinel")?(f={icon:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},n[0]=f):f=n[0];let h;n[1]===Symbol.for("react.memo_cache_sentinel")?(h={fontSize:"0.75rem",color:"var(--mantine-color-dimmed)"},n[1]=h):h=n[1];let p;n[2]!==o?(p=S.jsx("div",{style:h,children:o}),n[2]=o,n[3]=p):p=n[3];let g;return n[4]!==r||n[5]!==l||n[6]!==s||n[7]!==e||n[8]!==p||n[9]!==u||n[10]!==i?(g=S.jsxs(Yr,{component:"a",href:s,download:l,ref:e,variant:"default",size:"input-md",title:i,target:u,styles:f,children:[r,p]}),n[4]=r,n[5]=l,n[6]=s,n[7]=e,n[8]=p,n[9]=u,n[10]=i,n[11]=g):g=n[11],g});const p_=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),i=S.jsx("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o},ZJ=()=>{const t=gt.c(53),e=bt(XJ),{open:n,keyTokenPair:r,qrMode:i,mode:o}=bt(GJ),s=bt(QJ);let l;t[0]!==r?(l=Gw(r),t[0]=r,t[1]=l):l=t[1];const u=l;let f;t[2]!==n?(f={id:"encryption-key-dialog",open:n,onClose:Z1},t[2]=n,t[3]=f):f=t[3],ci(f);let h;t[4]!==s?(h=!s&&S.jsx(dn,{mb:"md",children:"Generate a new key or import from a different device to sync notes."}),t[4]=s,t[5]=h):h=t[5];const p=r&&!u?"Invalid key token pair":void 0,g=e!==0&&o!=="update";let v;t[6]!==r||t[7]!==p||t[8]!==g?(v=S.jsx(M2,{size:"md",flex:1,value:r,onChange:JJ,error:p,readOnly:g}),t[6]=r,t[7]=p,t[8]=g,t[9]=v):v=t[9];let b;t[10]!==r?(b=()=>navigator.clipboard.writeText(r),t[10]=r,t[11]=b):b=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=S.jsx(p_,{}),t[12]=y):y=t[12];let _;t[13]!==b?(_=S.jsx(nr,{title:"Copy to Clipboard",text:"copy",onClick:b,children:y}),t[13]=b,t[14]=_):_=t[14];let E;t[15]!==v||t[16]!==_?(E=S.jsxs(or,{align:"start",children:[v,_]}),t[15]=v,t[16]=_,t[17]=E):E=t[17];let A;t[18]!==e||t[19]!==o?(A=o==="export/generate"&&e===0&&S.jsx(fn,{onClick:$Z,children:"Generate new key"}),t[18]=e,t[19]=o,t[20]=A):A=t[20];let O;t[21]!==s||t[22]!==o||t[23]!==i||t[24]!==u?(O=u&&s&&o==="export/generate"&&S.jsx(fn,{onClick:()=>Y1(i==="show"?"hide":"show"),children:i==="show"?"Hide QR":"Show QR"}),t[21]=s,t[22]=o,t[23]=i,t[24]=u,t[25]=O):O=t[25];let T;t[26]!==e||t[27]!==o||t[28]!==i?(T=(e===0||o==="update")&&S.jsx(fn,{onClick:()=>Y1(i==="scan"?"hide":"scan"),children:i==="scan"?"Stop scan":"Scan QR"}),t[26]=e,t[27]=o,t[28]=i,t[29]=T):T=t[29];let R;t[30]!==r||t[31]!==e||t[32]!==o||t[33]!==u?(R=(e===0||o==="update")&&u&&S.jsx(fn,{onClick:()=>fO(r),disabled:!u,children:o==="update"?"Update key":"Save new key"}),t[30]=r,t[31]=e,t[32]=o,t[33]=u,t[34]=R):R=t[34];let N;t[35]!==A||t[36]!==O||t[37]!==T||t[38]!==R?(N=S.jsxs(Pr,{my:"md",children:[A,O,T,R]}),t[35]=A,t[36]=O,t[37]=T,t[38]=R,t[39]=N):N=t[39];let j;t[40]!==r||t[41]!==i||t[42]!==u?(j=i==="show"&&u&&S.jsx(w6,{style:{width:"100%",height:"auto",padding:"1rem",background:"white"},value:r}),t[40]=r,t[41]=i,t[42]=u,t[43]=j):j=t[43];let U;t[44]!==i?(U=i==="scan"&&S.jsx(YJ,{style:{width:"100%",height:"auto"},onScan:Z=>{i==="scan"&&Gw(Z)&&(Y1("hide"),fO(Z),Z1())}}),t[44]=i,t[45]=U):U=t[45];let H;return t[46]!==n||t[47]!==N||t[48]!==j||t[49]!==U||t[50]!==h||t[51]!==E?(H=S.jsxs(Nn,{title:"Encryption key",opened:n,onClose:Z1,children:[h,E,N,j,U]}),t[46]=n,t[47]=N,t[48]=j,t[49]=U,t[50]=h,t[51]=E,t[52]=H):H=t[52],H};function XJ(t){return t.user.user.lastSyncedTo}function GJ(t){return t.user.encryptionKeyDialog}function QJ(t){return!!t.user.user.keyTokenPair}function JJ(t){return FZ(t.target.value)}const eee=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Lf(t,e,n){const r=tee(t),{webkitRelativePath:i}=t,o=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&jO(r,"path",o),jO(r,"relativePath",o),r}function tee(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=eee.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function jO(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const nee=[".DS_Store","Thumbs.db"];function ree(t){return tu(this,void 0,void 0,function*(){return qv(t)&&iee(t.dataTransfer)?lee(t.dataTransfer,t.type):oee(t)?see(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?aee(t):[]})}function iee(t){return qv(t)}function oee(t){return qv(t)&&qv(t.target)}function qv(t){return typeof t=="object"&&t!==null}function see(t){return yx(t.target.files).map(e=>Lf(e))}function aee(t){return tu(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Lf(n))})}function lee(t,e){return tu(this,void 0,void 0,function*(){if(t.items){const n=yx(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(cee));return zO(x6(r))}return zO(yx(t.files).map(n=>Lf(n)))})}function zO(t){return t.filter(e=>nee.indexOf(e.name)===-1)}function yx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function cee(t){if(typeof t.webkitGetAsEntry!="function")return PO(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?S6(e):PO(t,e)}function x6(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?x6(n):[n]],[])}function PO(t,e){return tu(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,Lf(s)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Lf(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function uee(t){return tu(this,void 0,void 0,function*(){return t.isDirectory?S6(t):fee(t)})}function S6(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function o(){e.readEntries(s=>tu(this,void 0,void 0,function*(){if(s.length){const l=Promise.all(s.map(uee));i.push(l),o()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),s=>{r(s)})}o()})}function fee(t){return tu(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Lf(r,t.fullPath);e(i)},r=>{n(r)})})})}var Ag={},LO;function dee(){return LO||(LO=1,Ag.__esModule=!0,Ag.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0}),Ag}var hee=dee();const tw=eu(hee);function BO(t){return gee(t)||mee(t)||C6(t)||pee()}function pee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gee(t){if(Array.isArray(t))return bx(t)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){_6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dp(t,e){return bee(t)||yee(t,e)||C6(t,e)||vee()}function vee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6(t,e){if(t){if(typeof t=="string")return bx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bx(t,e)}}function bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function bee(t){if(Array.isArray(t))return t}var wee=typeof tw=="function"?tw:tw.default,xee="file-invalid-type",See="file-too-large",_ee="file-too-small",Cee="too-many-files",kee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:xee,message:"File type must be ".concat(r)}},FO=function(e){return{code:See,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},UO=function(e){return{code:_ee,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Eee={code:Cee,message:"Too many files"};function k6(t,e){var n=t.type==="application/x-moz-file"||wee(t,e);return[n,n?null:kee(e)]}function E6(t,e,n){if(Pc(t.size))if(Pc(e)&&Pc(n)){if(t.size>n)return[!1,FO(n)];if(t.size<e)return[!1,UO(e)]}else{if(Pc(e)&&t.size<e)return[!1,UO(e)];if(Pc(n)&&t.size>n)return[!1,FO(n)]}return[!0,null]}function Pc(t){return t!=null}function Aee(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,s=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(u){var f=k6(u,n),h=dp(f,1),p=h[0],g=E6(u,r,i),v=dp(g,1),b=v[0],y=l?l(u):null;return p&&b&&!y})}function Kv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Og(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function HO(t){t.preventDefault()}function Oee(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Tee(t){return t.indexOf("Edge/")!==-1}function Dee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Oee(t)||Tee(t)}function ds(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(l){return!Kv(r)&&l&&l.apply(void 0,[r].concat(o)),Kv(r)})}}function Ree(){return"showOpenFilePicker"in window}function Mee(t){if(Pc(t)){var e=Object.entries(t).filter(function(n){var r=dp(n,2),i=r[0],o=r[1],s=!0;return A6(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(O6))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=dp(r,2),o=i[0],s=i[1];return $O($O({},n),{},_6({},o,s))},{});return[{description:"Files",accept:e}]}return t}function Nee(t){if(Pc(t))return Object.entries(t).reduce(function(e,n){var r=dp(n,2),i=r[0],o=r[1];return[].concat(BO(e),[i],BO(o))},[]).filter(function(e){return A6(e)||O6(e)}).join(",")}function jee(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function zee(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function A6(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function O6(t){return/^.*\.[\w]+$/.test(t)}var Pee=["children"],Lee=["open"],Bee=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Iee=["refKey","onChange","onClick"];function $ee(t){return Hee(t)||Uee(t)||T6(t)||Fee()}function Fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hee(t){if(Array.isArray(t))return wx(t)}function nw(t,e){return Vee(t)||Kee(t,e)||T6(t,e)||qee()}function qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T6(t,e){if(t){if(typeof t=="string")return wx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wx(t,e)}}function wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function Vee(t){if(Array.isArray(t))return t}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vv(t,e){if(t==null)return{};var n=Wee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var m_=P.forwardRef(function(t,e){var n=t.children,r=Vv(t,Pee),i=R6(r),o=i.open,s=Vv(i,Lee);return P.useImperativeHandle(e,function(){return{open:o}},[o]),Tt.createElement(P.Fragment,null,n(Yn(Yn({},s),{},{open:o})))});m_.displayName="Dropzone";var D6={disabled:!1,getFilesFromEvent:ree,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};m_.defaultProps=D6;m_.propTypes={children:En.func,accept:En.objectOf(En.arrayOf(En.string)),multiple:En.bool,preventDropOnDocument:En.bool,noClick:En.bool,noKeyboard:En.bool,noDrag:En.bool,noDragEventsBubbling:En.bool,minSize:En.number,maxSize:En.number,maxFiles:En.number,disabled:En.bool,getFilesFromEvent:En.func,onFileDialogCancel:En.func,onFileDialogOpen:En.func,useFsAccessApi:En.bool,autoFocus:En.bool,onDragEnter:En.func,onDragLeave:En.func,onDragOver:En.func,onDrop:En.func,onDropAccepted:En.func,onDropRejected:En.func,onError:En.func,validator:En.func};var Sx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function R6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Yn(Yn({},D6),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,l=e.multiple,u=e.maxFiles,f=e.onDragEnter,h=e.onDragLeave,p=e.onDragOver,g=e.onDrop,v=e.onDropAccepted,b=e.onDropRejected,y=e.onFileDialogCancel,_=e.onFileDialogOpen,E=e.useFsAccessApi,A=e.autoFocus,O=e.preventDropOnDocument,T=e.noClick,R=e.noKeyboard,N=e.noDrag,j=e.noDragEventsBubbling,U=e.onError,H=e.validator,Z=P.useMemo(function(){return Nee(n)},[n]),te=P.useMemo(function(){return Mee(n)},[n]),I=P.useMemo(function(){return typeof _=="function"?_:KO},[_]),Y=P.useMemo(function(){return typeof y=="function"?y:KO},[y]),M=P.useRef(null),J=P.useRef(null),V=P.useReducer(Yee,Sx),X=nw(V,2),Q=X[0],ne=X[1],ue=Q.isFocused,$=Q.isFileDialogActive,q=P.useRef(typeof window<"u"&&window.isSecureContext&&E&&Ree()),se=function(){!q.current&&$&&setTimeout(function(){if(J.current){var Oe=J.current.files;Oe.length||(ne({type:"closeDialog"}),Y())}},300)};P.useEffect(function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}},[J,$,Y,q]);var le=P.useRef([]),me=function(Oe){M.current&&M.current.contains(Oe.target)||(Oe.preventDefault(),le.current=[])};P.useEffect(function(){return O&&(document.addEventListener("dragover",HO,!1),document.addEventListener("drop",me,!1)),function(){O&&(document.removeEventListener("dragover",HO),document.removeEventListener("drop",me))}},[M,O]),P.useEffect(function(){return!r&&A&&M.current&&M.current.focus(),function(){}},[M,A,r]);var je=P.useCallback(function(ge){U?U(ge):console.error(ge)},[U]),We=P.useCallback(function(ge){ge.preventDefault(),ge.persist(),Ne(ge),le.current=[].concat($ee(le.current),[ge.target]),Og(ge)&&Promise.resolve(i(ge)).then(function(Oe){if(!(Kv(ge)&&!j)){var Ge=Oe.length,tt=Ge>0&&Aee({files:Oe,accept:Z,minSize:s,maxSize:o,multiple:l,maxFiles:u,validator:H}),vt=Ge>0&&!tt;ne({isDragAccept:tt,isDragReject:vt,isDragActive:!0,type:"setDraggedFiles"}),f&&f(ge)}}).catch(function(Oe){return je(Oe)})},[i,f,je,j,Z,s,o,l,u,H]),Xe=P.useCallback(function(ge){ge.preventDefault(),ge.persist(),Ne(ge);var Oe=Og(ge);if(Oe&&ge.dataTransfer)try{ge.dataTransfer.dropEffect="copy"}catch{}return Oe&&p&&p(ge),!1},[p,j]),Ae=P.useCallback(function(ge){ge.preventDefault(),ge.persist(),Ne(ge);var Oe=le.current.filter(function(tt){return M.current&&M.current.contains(tt)}),Ge=Oe.indexOf(ge.target);Ge!==-1&&Oe.splice(Ge,1),le.current=Oe,!(Oe.length>0)&&(ne({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Og(ge)&&h&&h(ge))},[M,h,j]),ht=P.useCallback(function(ge,Oe){var Ge=[],tt=[];ge.forEach(function(vt){var zt=k6(vt,Z),ln=nw(zt,2),Qt=ln[0],Ct=ln[1],St=E6(vt,s,o),$t=nw(St,2),Ut=$t[0],nt=$t[1],jn=H?H(vt):null;if(Qt&&Ut&&!jn)Ge.push(vt);else{var Vt=[Ct,nt];jn&&(Vt=Vt.concat(jn)),tt.push({file:vt,errors:Vt.filter(function(Vn){return Vn})})}}),(!l&&Ge.length>1||l&&u>=1&&Ge.length>u)&&(Ge.forEach(function(vt){tt.push({file:vt,errors:[Eee]})}),Ge.splice(0)),ne({acceptedFiles:Ge,fileRejections:tt,isDragReject:tt.length>0,type:"setFiles"}),g&&g(Ge,tt,Oe),tt.length>0&&b&&b(tt,Oe),Ge.length>0&&v&&v(Ge,Oe)},[ne,l,Z,s,o,u,g,v,b,H]),Ye=P.useCallback(function(ge){ge.preventDefault(),ge.persist(),Ne(ge),le.current=[],Og(ge)&&Promise.resolve(i(ge)).then(function(Oe){Kv(ge)&&!j||ht(Oe,ge)}).catch(function(Oe){return je(Oe)}),ne({type:"reset"})},[i,ht,je,j]),Je=P.useCallback(function(){if(q.current){ne({type:"openDialog"}),I();var ge={multiple:l,types:te};window.showOpenFilePicker(ge).then(function(Oe){return i(Oe)}).then(function(Oe){ht(Oe,null),ne({type:"closeDialog"})}).catch(function(Oe){jee(Oe)?(Y(Oe),ne({type:"closeDialog"})):zee(Oe)?(q.current=!1,J.current?(J.current.value=null,J.current.click()):je(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):je(Oe)});return}J.current&&(ne({type:"openDialog"}),I(),J.current.value=null,J.current.click())},[ne,I,Y,E,ht,je,te,l]),ct=P.useCallback(function(ge){!M.current||!M.current.isEqualNode(ge.target)||(ge.key===" "||ge.key==="Enter"||ge.keyCode===32||ge.keyCode===13)&&(ge.preventDefault(),Je())},[M,Je]),B=P.useCallback(function(){ne({type:"focus"})},[]),Ee=P.useCallback(function(){ne({type:"blur"})},[]),be=P.useCallback(function(){T||(Dee()?setTimeout(Je,0):Je())},[T,Je]),ee=function(Oe){return r?null:Oe},G=function(Oe){return R?null:ee(Oe)},ae=function(Oe){return N?null:ee(Oe)},Ne=function(Oe){j&&Oe.stopPropagation()},Me=P.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Oe=ge.refKey,Ge=Oe===void 0?"ref":Oe,tt=ge.role,vt=ge.onKeyDown,zt=ge.onFocus,ln=ge.onBlur,Qt=ge.onClick,Ct=ge.onDragEnter,St=ge.onDragOver,$t=ge.onDragLeave,Ut=ge.onDrop,nt=Vv(ge,Bee);return Yn(Yn(xx({onKeyDown:G(ds(vt,ct)),onFocus:G(ds(zt,B)),onBlur:G(ds(ln,Ee)),onClick:ee(ds(Qt,be)),onDragEnter:ae(ds(Ct,We)),onDragOver:ae(ds(St,Xe)),onDragLeave:ae(ds($t,Ae)),onDrop:ae(ds(Ut,Ye)),role:typeof tt=="string"&&tt!==""?tt:"presentation"},Ge,M),!r&&!R?{tabIndex:0}:{}),nt)}},[M,ct,B,Ee,be,We,Xe,Ae,Ye,R,N,r]),pe=P.useCallback(function(ge){ge.stopPropagation()},[]),Ue=P.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Oe=ge.refKey,Ge=Oe===void 0?"ref":Oe,tt=ge.onChange,vt=ge.onClick,zt=Vv(ge,Iee),ln=xx({accept:Z,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ee(ds(tt,Ye)),onClick:ee(ds(vt,pe)),tabIndex:-1},Ge,J);return Yn(Yn({},ln),zt)}},[J,n,l,Ye,r]);return Yn(Yn({},Q),{},{isFocused:ue&&!r,getRootProps:Me,getInputProps:Ue,rootRef:M,inputRef:J,open:ee(Je)})}function Yee(t,e){switch(e.type){case"focus":return Yn(Yn({},t),{},{isFocused:!0});case"blur":return Yn(Yn({},t),{},{isFocused:!1});case"openDialog":return Yn(Yn({},Sx),{},{isFileDialogActive:!0});case"closeDialog":return Yn(Yn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Yn(Yn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Yn(Yn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Yn({},Sx);default:return t}}function KO(){}const[Zee,Xee]=Wo("Dropzone component was not found in tree");function g_(t){const e=n=>{const{children:r,...i}=Ze(`Dropzone${hA(t)}`,{},n),o=Xee(),s=zs(r)?r:S.jsx("span",{children:r});return o[t]?P.cloneElement(s,i):null};return e.displayName=`@mantine/dropzone/${hA(t)}`,e}const Gee=g_("accept"),Qee=g_("reject"),Jee=g_("idle");var hp={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};const ete={multiple:!0,maxSize:1/0,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},tte=(t,{radius:e,variant:n,acceptColor:r,rejectColor:i})=>{const o=t.variantColorResolver({color:r||t.primaryColor,theme:t,variant:n}),s=t.variantColorResolver({color:i||"red",theme:t,variant:n});return{root:{"--dropzone-radius":Lr(e),"--dropzone-accept-color":o.color,"--dropzone-accept-bg":o.background,"--dropzone-reject-color":s.color,"--dropzone-reject-bg":s.background}}},Gl=ft((t,e)=>{const n=Ze("Dropzone",ete,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,radius:f,disabled:h,loading:p,multiple:g,maxSize:v,accept:b,children:y,onDropAny:_,onDrop:E,onReject:A,openRef:O,name:T,maxFiles:R,autoFocus:N,activateOnClick:j,activateOnDrag:U,dragEventsBubbling:H,activateOnKeyboard:Z,onDragEnter:te,onDragLeave:I,onDragOver:Y,onFileDialogCancel:M,onFileDialogOpen:J,preventDropOnDocument:V,useFsAccessApi:X,getFilesFromEvent:Q,validator:ne,rejectColor:ue,acceptColor:$,enablePointerEvents:q,loaderProps:se,inputProps:le,mod:me,attributes:je,...We}=n,Xe=jt({name:"Dropzone",classes:hp,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:je,vars:u,varsResolver:tte}),{getRootProps:Ae,getInputProps:ht,isDragAccept:Ye,isDragReject:Je,isDragActive:ct,open:B}=R6({onDrop:_,onDropAccepted:E,onDropRejected:A,disabled:h||p,accept:Array.isArray(b)?b.reduce((G,ae)=>({...G,[ae]:[]}),{}):b,multiple:g,maxSize:v,maxFiles:R,autoFocus:N,noClick:!j,noDrag:!U,noDragEventsBubbling:!H,noKeyboard:!Z,onDragEnter:te,onDragLeave:I,onDragOver:Y,onFileDialogCancel:M,onFileDialogOpen:J,preventDropOnDocument:V,useFsAccessApi:X,validator:ne,...Q?{getFilesFromEvent:Q}:null});Jh(O,B);const Ee=ct&&Ye,be=ct&&Je,ee=!Ee&&!be;return S.jsx(Zee,{value:{accept:Ee,reject:be,idle:ee},children:S.jsxs(ut,{...Ae(),...Xe("root",{focusable:!0}),...We,mod:[{accept:Ee,reject:be,idle:ee,disabled:h,loading:p,"activate-on-click":j},me],children:[S.jsx(C2,{visible:p,overlayProps:{radius:f},unstyled:l,loaderProps:se}),S.jsx("input",{...ht(le),name:T}),S.jsx("div",{...Xe("inner"),ref:e,"data-enable-pointer-events":q||void 0,children:y})]})})});Gl.classes=hp;Gl.displayName="@mantine/dropzone/Dropzone";Gl.Accept=Gee;Gl.Idle=Jee;Gl.Reject=Qee;const nte={maxSize:1/0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Or("max"),withinPortal:!0},v_=ft((t,e)=>{const n=Ze("DropzoneFullScreen",nte,t),{classNames:r,className:i,style:o,styles:s,unstyled:l,vars:u,active:f,onDrop:h,onReject:p,zIndex:g,withinPortal:v,portalProps:b,attributes:y,..._}=n,E=jt({name:"DropzoneFullScreen",classes:hp,props:n,className:i,style:o,classNames:r,styles:s,unstyled:l,attributes:y,rootSelector:"fullScreen"}),{resolvedClassNames:A,resolvedStyles:O}=ql({classNames:r,styles:s,props:n}),[T,R]=P.useState(0),[N,{open:j,close:U}]=eD(!1),H=te=>{te.dataTransfer?.types.includes("Files")&&(R(I=>I+1),j())},Z=()=>{R(te=>te-1)};return P.useEffect(()=>{T===0&&U()},[T]),P.useEffect(()=>{if(f)return document.addEventListener("dragenter",H,!1),document.addEventListener("dragleave",Z,!1),()=>{document.removeEventListener("dragenter",H,!1),document.removeEventListener("dragleave",Z,!1)}},[f]),S.jsx(ka,{...b,withinPortal:v,children:S.jsx(ut,{ref:e,...E("fullScreen",{style:{opacity:N?1:0,pointerEvents:N?"all":"none",zIndex:g}}),children:S.jsx(Gl,{activateOnClick:!1,..._,classNames:A,styles:O,unstyled:l,className:hp.dropzone,onDrop:te=>{h?.(te),U(),R(0)},onReject:te=>{p?.(te),U(),R(0)}})})})});v_.classes=hp;v_.displayName="@mantine/dropzone/DropzoneFullScreen";Gl.FullScreen=v_;const rte=Gl,y_=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),i=S.jsx("path",{d:"M21 21l-6 -6"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o},uu=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M18 6l-12 12"}),i=S.jsx("path",{d:"M6 6l12 12"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o},ite=()=>{const t=gt.c(6),e=bt(ote),n=bt(ste),r=bt(ate),i="Search "+(n==="all"?"all notes":n==="unlabeled"?"unlabeled":n==="archived"?"archived":r[n]?.name);let o;t[0]!==e.length?(o=e.length===0?S.jsx(y_,{}):S.jsx(ir,{display:"flex",onClick:cte,children:S.jsx(uu,{})}),t[0]=e.length,t[1]=o):o=t[1];let s;return t[2]!==e||t[3]!==i||t[4]!==o?(s=S.jsx(gr,{flex:"0 1 auto",value:e,onChange:lte,id:"searchInput",placeholder:i,rightSection:o}),t[2]=e,t[3]=i,t[4]=o,t[5]=s):s=t[5],s};function ote(t){return t.notes.query}function ste(t){return t.labels.activeLabel}function ate(t){return t.labels.labelsCache}function lte(t){return zM(t.target.value)}function cte(){return zM("")}const b_=t=>{const e=gt.c(3);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e[0]=n):n=e[0];let r;return e[1]!==t?(r=S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:n}),e[1]=t,e[2]=r):r=e[2],r},c0=t=>{const e=gt.c(4);let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("polyline",{points:"9 11 12 14 22 4"}),r=S.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let i;return e[2]!==t?(i=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r]}),e[2]=t,e[3]=i):i=e[3],i},VO=window.matchMedia("(prefers-color-scheme: dark)"),ute=()=>{const t=gt.c(7),{colorScheme:e,setColorScheme:n}=DS(),r=e==="auto";let i,o;t[0]!==r||t[1]!==n?(i=()=>{r&&n(AR())},o=[r,n],t[0]=r,t[1]=n,t[2]=i,t[3]=o):(i=t[2],o=t[3]),P.useEffect(i,o);let s,l;t[4]!==n?(s=()=>{const u=f=>{f.matches?n("dark"):n("light")};return VO.addEventListener("change",u),()=>VO.removeEventListener("change",u)},l=[n],t[4]=n,t[5]=s,t[6]=l):(s=t[5],l=t[6]),P.useEffect(s,l)},ud=()=>{const t=gt.c(1),{colorScheme:e}=DS();if(e==="auto"){let r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=AR(),t[0]=r):r=t[0],r}return e},w_=t=>{const e=gt.c(6);let n,r,i,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i=S.jsx("path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),o=S.jsx("path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o):(n=e[0],r=e[1],i=e[2],o=e[3]);let s;return e[4]!==t?(s=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o]}),e[4]=t,e[5]=s):s=e[5],s},fte=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),i=S.jsx("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o},M6=t=>{const e=gt.c(9),{ext:n,size:r}=t,i=r===void 0?100:r;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={position:"relative",display:"flex"},e[0]=o):o=e[0];let s;e[1]!==i?(s=S.jsx(fte,{style:{width:i,height:"auto"}}),e[1]=i,e[2]=s):s=e[2];let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l={position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold"},e[3]=l):l=e[3];let u;e[4]!==n?(u=S.jsx("div",{style:l,children:n}),e[4]=n,e[5]=u):u=e[5];let f;return e[6]!==s||e[7]!==u?(f=S.jsxs("div",{style:o,children:[s,u]}),e[6]=s,e[7]=u,e[8]=f):f=e[8],f},x_=t=>{const e=gt.c(4);let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r=S.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let i;return e[2]!==t?(i=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r]}),e[2]=t,e[3]=i):i=e[3],i},dte=()=>{const t=gt.c(35),e=bt(pte),n=bt(mte),r=bt(gte);let i;t[0]!==r||t[1]!==e||t[2]!==n.desc||t[3]!==n.prop?(i=async()=>{const H=e.toLocaleLowerCase(),Z=await et.notes.where("deleted_at").equals(0).toArray(),te=await et.files_meta.where("deleted_at").equals(0).toArray(),I=[...Z,...te].filter(Y=>(r==="archived"?Y.archived===1:r==="all"?Y.archived===0:!0)&&(r!=="unlabeled"||!Y.labels||Y.labels.length===0)&&(!Y2(r)||Y.labels?.includes(r))&&(!e||Y.title.toLocaleLowerCase().includes(H)||(Y.type==="note"?Y.txt.toLocaleLowerCase().includes(H):Y.type==="todo"?Y.todos.some(M=>M.txt.toLocaleLowerCase().includes(H)):Y.type==="file"&&Y.ext.toLocaleLowerCase().includes(H)))).sort(CR(n.prop,n.desc));return eV(I??[],vte)},t[0]=r,t[1]=e,t[2]=n.desc,t[3]=n.prop,t[4]=i):i=t[4];let o;t[5]!==r||t[6]!==e||t[7]!==n?(o=[e,n,r],t[5]=r,t[6]=e,t[7]=n,t[8]=o):o=t[8];const s=Xl(i,o);let l;t[9]!==s?(l=s??[],t[9]=s,t[10]=l):l=t[10];const[u,f]=l;let h;t[11]!==u?(h=u===void 0?[]:u,t[11]=u,t[12]=h):h=t[12];const p=h;let g;t[13]!==f?(g=f===void 0?[]:f,t[13]=f,t[14]=g):g=t[14];const v=g;zG(v,p);let b,y,_;t[15]===Symbol.for("react.memo_cache_sentinel")?(b={padding:"1rem",overflowY:"auto",height:"100%"},y=S.jsx("style",{children:`button:focus {
          outline: 1px solid var(--mantine-primary-color-5);
        }`,scoped:!0}),_={alignContent:"start",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},t[15]=b,t[16]=y,t[17]=_):(b=t[15],y=t[16],_=t[17]);let E;t[18]!==v?(E=v.map(yte),t[18]=v,t[19]=E):E=t[19];let A;t[20]!==E?(A=S.jsx("div",{style:_,children:E}),t[20]=E,t[21]=A):A=t[21];let O;t[22]!==r||t[23]!==p.length?(O=p.length>0&&r!=="archived"&&S.jsx(Op,{my:"md",label:"Archived",styles:{label:{fontSize:"1rem"}},size:"md"}),t[22]=r,t[23]=p.length,t[24]=O):O=t[24];let T;t[25]===Symbol.for("react.memo_cache_sentinel")?(T={alignContent:"start",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},t[25]=T):T=t[25];let R;t[26]!==p?(R=p.map(bte),t[26]=p,t[27]=R):R=t[27];let N;t[28]!==R?(N=S.jsx("div",{style:T,children:R}),t[28]=R,t[29]=N):N=t[29];let j;t[30]===Symbol.for("react.memo_cache_sentinel")?(j=S.jsx("div",{style:{height:"3.5rem"}}),t[30]=j):j=t[30];let U;return t[31]!==A||t[32]!==O||t[33]!==N?(U=S.jsxs("div",{style:b,children:[y,A,O,N,j]}),t[31]=A,t[32]=O,t[33]=N,t[34]=U):U=t[34],U},N6=t=>{const e=gt.c(53),{note:n}=t,r=ud(),i=bt(wte),o=n.labels?.[0]?i[n.labels[0]]:null;let s;e[0]!==n.id?(s=Q=>!!Q.selection.selected[n.id],e[0]=n.id,e[1]=s):s=e[1];const l=bt(s),u=bt(ld),f=bt(xte),h=n.archived&&!l&&!f?.5:1,p=l?"2px solid var(--mantine-color-bright)":void 0;let g;e[2]!==h||e[3]!==p?(g={display:"flex",flexDirection:"column",color:"var(--mantine-color-text)",opacity:h,outline:p},e[2]=h,e[3]=p,e[4]=g):g=e[4];const v=o?.hue??null,b=r==="dark";let y;e[5]!==v||e[6]!==b?(y=zp(v,b),e[5]=v,e[6]=b,e[7]=y):y=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_={flex:"1 1 auto",padding:"1rem 1rem 0 1rem",whiteSpace:"pre-wrap",wordBreak:"break-word",cursor:"pointer",border:"none",textAlign:"left",color:"inherit",display:"flex",flexDirection:"column",alignItems:"stretch"},e[8]=_):_=e[8];let E;e[9]!==n.id||e[10]!==n.type||e[11]!==u?(E=()=>u?_O(n.id,n.type==="file"?"file":"note"):n.type==="file"?DM(n.id):u_(n.id),e[9]=n.id,e[10]=n.type,e[11]=u,e[12]=E):E=e[12];let A;e[13]===Symbol.for("react.memo_cache_sentinel")?(A={fontSize:"1.5rem",fontWeight:"bold"},e[13]=A):A=e[13];let O;e[14]!==n?(O=n.type==="file"?Pv(n):n.title,e[14]=n,e[15]=O):O=e[15];let T;e[16]!==O?(T=S.jsx("div",{style:A,children:O}),e[16]=O,e[17]=T):T=e[17];let R;e[18]!==n?(R=n.type==="note"?ER(n.txt):n.type==="todo"?S.jsx(hte,{todos:n.todos}):n.type==="file"&&n.has_thumb?S.jsx("img",{alt:Pv(n),src:`/thumbnails/${n.id}`,style:{maxHeight:200,objectFit:"contain"}}):n.type==="file"?S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:"1 1 0"},children:S.jsx(M6,{ext:n.ext,size:100})}):null,e[18]=n,e[19]=R):R=e[19];let N;e[20]!==T||e[21]!==R||e[22]!==E?(N=S.jsxs(ir,{style:_,onClick:E,children:[T,R]}),e[20]=T,e[21]=R,e[22]=E,e[23]=N):N=e[23];const j=u?0:1;let U;e[24]===Symbol.for("react.memo_cache_sentinel")?(U=S.jsx(w_,{}),e[24]=U):U=e[24];let H;e[25]!==u||e[26]!==j?(H=S.jsx(nn.Target,{children:S.jsx(ir,{disabled:u,px:".5rem",display:"flex",title:"note options",opacity:j,children:U})}),e[25]=u,e[26]=j,e[27]=H):H=e[27];let Z;e[28]!==n.id||e[29]!==n.type?(Z=S.jsx(nn.Item,{onClick:()=>_O(n.id,n.type==="file"?"file":"note"),children:"Select"}),e[28]=n.id,e[29]=n.type,e[30]=Z):Z=e[30];let te;e[31]!==n.archived||e[32]!==n.id||e[33]!==n.type?(te=()=>n.type==="file"?wX(n.id,!n.archived):FX(n.id,!n.archived),e[31]=n.archived,e[32]=n.id,e[33]=n.type,e[34]=te):te=e[34];const I=n.archived?"Unarchive":"Archive";let Y;e[35]!==te||e[36]!==I?(Y=S.jsx(nn.Item,{onClick:te,children:I}),e[35]=te,e[36]=I,e[37]=Y):Y=e[37];let M;e[38]!==n.id||e[39]!==n.type?(M=S.jsx(nn.Item,{onClick:()=>Na({id:"delete-note-from-grid",title:"Delete note",onConfirm:()=>n.type==="file"?TM(n.id):$X(n.id),labels:{confirm:"Delete",cancel:"Cancel"}}),children:"Delete"}),e[38]=n.id,e[39]=n.type,e[40]=M):M=e[40];let J;e[41]!==Z||e[42]!==Y||e[43]!==M?(J=S.jsxs(nn.Dropdown,{children:[Z,Y,M]}),e[41]=Z,e[42]=Y,e[43]=M,e[44]=J):J=e[44];let V;e[45]!==H||e[46]!==J?(V=S.jsx(or,{justify:"flex-end",children:S.jsxs(nn,{shadow:"md",children:[H,J]})}),e[45]=H,e[46]=J,e[47]=V):V=e[47];let X;return e[48]!==N||e[49]!==V||e[50]!==g||e[51]!==y?(X=S.jsxs(Af,{style:g,shadow:"sm",bg:y,children:[N,V]}),e[48]=N,e[49]=V,e[50]=g,e[51]=y,e[52]=X):X=e[52],X},hte=({todos:t})=>{const{idToTodo:e,visualOrderUndone:n,visualOrderDone:r}=Pp(t),i=[],o=Math.min(5,n.length);for(let l=0;l<o;l++){const u=n[l],f=e[u];i.push({id:u,indent:!!f.parent,done:!1,txt:f.txt,translucent:!1})}const s=Math.max(0,5-o);for(let l=0;l<s&&l<r.length;l++){const u=r[l],f=e[u];i.push({id:u,indent:!!f.parent,done:f.done?!0:"indeterminate",txt:f.txt,translucent:!0})}return i.map(l=>S.jsxs(or,{align:"center",gap:"xs",ml:l.indent?"1rem":0,style:{textDecoration:l.done===!0?"line-through":"none"},opacity:l.translucent?.5:1,children:[l.done===!0?S.jsx(c0,{style:{flex:"0 0 auto"}}):l.done==="indeterminate"?S.jsx(x_,{style:{flex:"0 0 auto"}}):S.jsx(b_,{style:{flex:"0 0 auto"}}),ER(l.txt,1,50)]},l.done+l.id))};function pte(t){return t.notes.query}function mte(t){return t.notes.sort}function gte(t){return t.labels.activeLabel}function vte(t){return t.archived===1}function yte(t){return S.jsx(N6,{note:t},t.id)}function bte(t){return S.jsx(N6,{note:t},t.id)}function wte(t){return t.labels.labelsCache}function xte(t){return t.labels.activeLabel==="archived"}const Ste=t=>{const e=gt.c(8);let n,r,i,o,s,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M4 6l7 0"}),i=S.jsx("path",{d:"M4 12l7 0"}),o=S.jsx("path",{d:"M4 18l9 0"}),s=S.jsx("path",{d:"M15 9l3 -3l3 3"}),l=S.jsx("path",{d:"M18 6l0 12"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o,e[4]=s,e[5]=l):(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5]);let u;return e[6]!==t?(u=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o,s,l]}),e[6]=t,e[7]=u):u=e[7],u},_te=t=>{const e=gt.c(8);let n,r,i,o,s,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M4 6l9 0"}),i=S.jsx("path",{d:"M4 12l7 0"}),o=S.jsx("path",{d:"M4 18l7 0"}),s=S.jsx("path",{d:"M15 15l3 3l3 -3"}),l=S.jsx("path",{d:"M18 6l0 12"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o,e[4]=s,e[5]=l):(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5]);let u;return e[6]!==t?(u=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o,s,l]}),e[6]=t,e[7]=u):u=e[7],u},Cte=()=>{const t=gt.c(10),{prop:e,desc:n}=bt(kte);let r;t[0]!==e?(r=S.jsx(P2,{flex:"0 0 auto",w:"7rem",data:HK,value:e,title:"Sort notes by",onChange:Ete}),t[0]=e,t[1]=r):r=t[1];const i=n?"Sort ascending":"Sort descending";let o;t[2]!==n?(o=n?S.jsx(Ste,{}):S.jsx(_te,{}),t[2]=n,t[3]=o):o=t[3];let s;t[4]!==i||t[5]!==o?(s=S.jsx(Yr,{size:"input-sm",title:i,onClick:IX,children:o}),t[4]=i,t[5]=o,t[6]=s):s=t[6];let l;return t[7]!==r||t[8]!==s?(l=S.jsxs(S.Fragment,{children:[r,s]}),t[7]=r,t[8]=s,t[9]=l):l=t[9],l};function kte(t){return t.notes.sort}function Ete(t){return t&&BX(t)}const fd=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M12 5l0 14"}),i=S.jsx("path",{d:"M5 12l14 0"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o},Ate=()=>{const t=gt.c(11),{email:e,loggedIn:n}=bt(Ote),r=bt(Tte),i=bt(Dte),o=bt(Rte),s=bt(Mte),l=!!e,u=Xl(Nte);if(!l)return null;const f=r===!0?"connected":r===null&&n?"connecting...":n?"offline":"logged out";let h;t[0]!==e||t[1]!==f?(h=S.jsxs(dn,{size:"xs",children:[e," ",f]}),t[0]=e,t[1]=f,t[2]=h):h=t[2];let p;t[3]!==u||t[4]!==s||t[5]!==i||t[6]!==o?(p=i||o?S.jsx(xa,{label:i&&o?"Syncing notes and files":i?"Syncing notes":"Syncing files",children:S.jsx($o,{color:i?void 0:"cyan",style:{margin:"-10px 0"},type:"dots"})}):s?S.jsx(xa,{label:s,children:S.jsx(ir,{onClick:IM,style:{fontSize:"var(--mantine-font-size-xs)"},children:"sync failed"})}):u?S.jsxs(dn,{size:"xs",children:[u," unsynced notes"]}):null,t[3]=u,t[4]=s,t[5]=i,t[6]=o,t[7]=p):p=t[7];let g;return t[8]!==h||t[9]!==p?(g=S.jsxs(or,{px:"xs",py:".25rem",justify:"space-between",align:"center",bg:"rgba(0,0,0,.1)",children:[h,p]}),t[8]=h,t[9]=p,t[10]=g):g=t[10],g};function Ote(t){return t.user.user}function Tte(t){return t.user.connected}function Dte(t){return t.notes.sync.syncing}function Rte(t){return t.files.upDownloading}function Mte(t){return t.notes.sync.error}function Nte(){return et.notes.where("state").equals("dirty").count()}const u0=t=>{const e=gt.c(4);let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M16.52 7h-10.52a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h10.52a1 1 0 0 0 .78 -.375l3.7 -4.625l-3.7 -4.625a1 1 0 0 0 -.78 -.375"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let i;return e[2]!==t?(i=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r]}),e[2]=t,e[3]=i):i=e[3],i},jte=t=>{const e=gt.c(6);let n,r,i,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M4 6l16 0"}),i=S.jsx("path",{d:"M4 12l16 0"}),o=S.jsx("path",{d:"M4 18l16 0"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o):(n=e[0],r=e[1],i=e[2],o=e[3]);let s;return e[4]!==t?(s=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o]}),e[4]=t,e[5]=s):s=e[5],s},zte=t=>{const e=gt.c(7);let n,r,i,o,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M15 8h.01"}),i=S.jsx("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),o=S.jsx("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),s=S.jsx("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o,e[4]=s):(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4]);let l;return e[5]!==t?(l=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o,s]}),e[5]=t,e[6]=l):l=e[6],l},S_=t=>{const e=gt.c(6);let n,r,i,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),i=S.jsx("path",{d:"M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10"}),o=S.jsx("path",{d:"M10 12l4 0"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o):(n=e[0],r=e[1],i=e[2],o=e[3]);let s;return e[4]!==t?(s=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o]}),e[4]=t,e[5]=s):s=e[5],s},Pte=t=>{const e=gt.c(7);let n,r,i,o,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M8 4h11a2 2 0 1 1 0 4h-7m-4 0h-3a2 2 0 0 1 -.826 -3.822"}),i=S.jsx("path",{d:"M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 1.824 -1.18m.176 -3.82v-7"}),o=S.jsx("path",{d:"M10 12h2"}),s=S.jsx("path",{d:"M3 3l18 18"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o,e[4]=s):(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4]);let l;return e[5]!==t?(l=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o,s]}),e[5]=t,e[6]=l):l=e[6],l},Bp=t=>{const e=gt.c(8);let n,r,i,o,s,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M4 7l16 0"}),i=S.jsx("path",{d:"M10 11l0 6"}),o=S.jsx("path",{d:"M14 11l0 6"}),s=S.jsx("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),l=S.jsx("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o,e[4]=s,e[5]=l):(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5]);let u;return e[6]!==t?(u=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o,s,l]}),e[6]=t,e[7]=u):u=e[7],u},WO=t=>{const e=gt.c(4);let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M12 6l4 6l5 -4l-2 10h-14l-2 -10l5 4z"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let i;return e[2]!==t?(i=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r]}),e[2]=t,e[3]=i):i=e[3],i},Lte="_label_ls4bf_1",Bte="_input_ls4bf_9",Ite="_crazyCheckbox_ls4bf_20",_x={label:Lte,input:Bte,crazyCheckbox:Ite},$te=t=>{const e=gt.c(13),{checked:n,onChange:r,disabled:i,style:o,tabIndex:s,readOnly:l,"aria-labelledby":u}=t;let f;e[0]!==u||e[1]!==n||e[2]!==i||e[3]!==r||e[4]!==l||e[5]!==s?(f=S.jsx("input",{type:"checkbox",className:_x.input,checked:n,onChange:r,disabled:i,tabIndex:s,readOnly:l,"aria-labelledby":u}),e[0]=u,e[1]=n,e[2]=i,e[3]=r,e[4]=l,e[5]=s,e[6]=f):f=e[6];let h;e[7]!==n?(h=n?S.jsx(c0,{}):S.jsx(b_,{}),e[7]=n,e[8]=h):h=e[8];let p;return e[9]!==o||e[10]!==f||e[11]!==h?(p=S.jsxs("label",{className:_x.label,style:o,children:[f,h]}),e[9]=o,e[10]=f,e[11]=h,e[12]=p):p=e[12],p},Fte=t=>{const e=gt.c(26);let n,r,i,o,s,l,u;e[0]!==t?({initialChecked:n,updatedChecked:u,onChange:i,disabled:l,style:s,label:r,...o}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=l,e[7]=u):(n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7]);const f=l===void 0?!1:l,h=u==="unchanged"?n==="indeterminate"?"mixed":n:u;let p;e[8]!==f||e[9]!==n||e[10]!==i||e[11]!==u?(p=()=>{f||(n===!1&&u==="unchanged"?i(!0):n===!1&&u===!0?i("unchanged"):n===!1&&u===!1?i(!0):n===!0&&u==="unchanged"||n===!0&&u===!0?i(!1):n===!0&&u===!1?i("unchanged"):n==="indeterminate"&&u==="unchanged"?i(!0):n==="indeterminate"&&u===!0?i(!1):n==="indeterminate"&&u===!1&&i("unchanged"))},e[8]=f,e[9]=n,e[10]=i,e[11]=u,e[12]=p):p=e[12];const g=p;let v;h===!0?v=c0:h==="mixed"?v=x_:v=b_;const b=f||u==="unchanged"?.5:void 0;let y;e[13]!==s||e[14]!==b?(y={opacity:b,...s},e[13]=s,e[14]=b,e[15]=y):y=e[15];let _;e[16]!==v?(_=S.jsx(v,{"aria-hidden":"true"}),e[16]=v,e[17]=_):_=e[17];let E;return e[18]!==h||e[19]!==f||e[20]!==r||e[21]!==o||e[22]!==y||e[23]!==_||e[24]!==g?(E=S.jsxs(ir,{role:"checkbox","aria-checked":h,"aria-disabled":f,disabled:f,onClick:g,className:_x.crazyCheckbox,style:y,...o,children:[_,r]}),e[18]=h,e[19]=f,e[20]=r,e[21]=o,e[22]=y,e[23]=_,e[24]=g,e[25]=E):E=e[25],E},j6=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M7 12l5 5l10 -10"}),i=S.jsx("path",{d:"M2 12l5 5m5 -5l5 -5"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o},z6=t=>{const e=gt.c(40),{noteId:n,fileId:r}=t,[i,o]=P.useState(""),s=bt(n0),l=Xl(()=>n?et.notes.get(n).then(Hte):r?et.files_meta.get(r).then(qte):[],[n,r])??[];let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={display:"flex",alignItems:"center",justifyContent:"center"},e[0]=u):u=e[0];const f=i.length===0;let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=()=>o(""),e[1]=h):h=e[1];let p;e[2]!==i.length?(p=i.length===0?S.jsx(y_,{}):S.jsx(uu,{}),e[2]=i.length,e[3]=p):p=e[3];let g;e[4]!==f||e[5]!==p?(g=S.jsx(ir,{style:u,disabled:f,title:"Clear search",onClick:h,children:p}),e[4]=f,e[5]=p,e[6]=g):g=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=U=>o(U.target.value),e[7]=v):v=e[7];let b;e[8]!==i||e[9]!==g?(b=S.jsx(gr,{autoFocus:!0,flex:1,label:"Label",placeholder:"Search or create label",rightSection:g,value:i,onChange:v}),e[8]=i,e[9]=g,e[10]=b):b=e[10];const y=i.length===0;let _;e[11]!==r||e[12]!==n||e[13]!==i?(_=()=>{n?SO(n,i,"note"):r&&SO(r,i,"file"),o("")},e[11]=r,e[12]=n,e[13]=i,e[14]=_):_=e[14];let E;e[15]===Symbol.for("react.memo_cache_sentinel")?(E=S.jsx(fd,{}),e[15]=E):E=e[15];let A;e[16]!==y||e[17]!==_?(A=S.jsx(Yr,{size:"input-sm",disabled:y,onClick:_,title:"Apply new label",children:E}),e[16]=y,e[17]=_,e[18]=A):A=e[18];let O;e[19]!==A||e[20]!==b?(O=S.jsxs(Pr,{align:"end",gap:"xs",children:[b,A]}),e[19]=A,e[20]=b,e[21]=O):O=e[21];let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T={overflowY:"auto"},e[22]=T):T=e[22];let R;if(e[23]!==l||e[24]!==r||e[25]!==s||e[26]!==n||e[27]!==i){let U;e[29]!==i?(U=Z=>Z.name.toLowerCase().includes(i.toLowerCase()),e[29]=i,e[30]=U):U=e[30];let H;e[31]!==l||e[32]!==r||e[33]!==n?(H=Z=>S.jsx(Vl,{styles:{root:{display:"flex"},body:{flex:1,width:"100%",alignItems:"center"},labelWrapper:{flex:1},label:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"1.75rem"}},label:S.jsxs(S.Fragment,{children:[Z.name,!l.includes(Z.id)||l.length<=1?void 0:Z.id===l[0]?S.jsx(WO,{onClick:Kte}):S.jsx(Yr,{opacity:.5,size:"md",variant:"outline",color:"gray",onClick:()=>n?_G(n,Z.id):r?CG(r,Z.id):void 0,title:"Set as main label (effects color)",children:S.jsx(WO,{})})]}),checked:l.includes(Z.id),onChange:()=>n?qM(n,Z.id):r?KM(r,Z.id):void 0,size:"md"},Z.id),e[31]=l,e[32]=r,e[33]=n,e[34]=H):H=e[34],R=s.filter(U).map(H),e[23]=l,e[24]=r,e[25]=s,e[26]=n,e[27]=i,e[28]=R}else R=e[28];let N;e[35]!==R?(N=S.jsx(mr,{h:160,style:T,mt:"md",gap:"md",children:R}),e[35]=R,e[36]=N):N=e[36];let j;return e[37]!==O||e[38]!==N?(j=S.jsxs(S.Fragment,{children:[O,N]}),e[37]=O,e[38]=N,e[39]=j):j=e[39],j},Ute=t=>{const e=gt.c(53),{opened:n}=t,[r,i]=P.useState("");let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={},e[0]=o):o=e[0];const[s,l]=P.useState(o),u=bt(n0),f=bt(Vte),h=bt(ld);let p,g;e[1]!==u||e[2]!==f?(p=async()=>{const ue=Object.keys(f);if(ue.length===0)return{};const $=await et.notes.bulkGet(ue),q=await et.files_meta.bulkGet(ue),se=[...$,...q].filter(Wte),le={};for(const me of se){const je=new Set(me.labels);for(const We of u){const Xe=je.has(We.id);le[We.id]==="indeterminate"||(le[We.id]===!0&&!Xe||le[We.id]===!1&&Xe?le[We.id]="indeterminate":Xe?le[We.id]=!0:le[We.id]=!1)}}return le},g=[f,u],e[1]=u,e[2]=f,e[3]=p,e[4]=g):(p=e[3],g=e[4]);const v=Xl(p,g);let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{l({}),i("")},e[5]=b):b=e[5];let y;if(e[6]!==n||e[7]!==h?(y=[n,h],e[6]=n,e[7]=h,e[8]=y):y=e[8],P.useEffect(b,y),!v||!h)return null;let _;e[9]===Symbol.for("react.memo_cache_sentinel")?(_={display:"flex",alignItems:"center",justifyContent:"center"},e[9]=_):_=e[9];const E=r.length===0;let A;e[10]===Symbol.for("react.memo_cache_sentinel")?(A=()=>i(""),e[10]=A):A=e[10];let O;e[11]!==r.length?(O=r.length===0?S.jsx(y_,{}):S.jsx(uu,{}),e[11]=r.length,e[12]=O):O=e[12];let T;e[13]!==E||e[14]!==O?(T=S.jsx(ir,{style:_,disabled:E,title:"Clear search",onClick:A,children:O}),e[13]=E,e[14]=O,e[15]=T):T=e[15];let R;e[16]===Symbol.for("react.memo_cache_sentinel")?(R=ue=>i(ue.target.value),e[16]=R):R=e[16];let N;e[17]!==r||e[18]!==T?(N=S.jsx(gr,{autoFocus:!0,flex:1,label:"Label",placeholder:"Search or create label",rightSection:T,value:r,onChange:R}),e[17]=r,e[18]=T,e[19]=N):N=e[19];const j=r.length===0;let U;e[20]!==r||e[21]!==s?(U=async()=>{const ue=await Lp(r);CO({...s,[ue.id]:!0})},e[20]=r,e[21]=s,e[22]=U):U=e[22];let H;e[23]===Symbol.for("react.memo_cache_sentinel")?(H=S.jsx(fd,{}),e[23]=H):H=e[23];let Z;e[24]!==j||e[25]!==U?(Z=S.jsx(Yr,{size:"input-sm",disabled:j,onClick:U,title:"Create new label",children:H}),e[24]=j,e[25]=U,e[26]=Z):Z=e[26];let te;e[27]!==N||e[28]!==Z?(te=S.jsxs(Pr,{align:"end",gap:"xs",children:[N,Z]}),e[27]=N,e[28]=Z,e[29]=te):te=e[29];let I;e[30]===Symbol.for("react.memo_cache_sentinel")?(I={overflowY:"auto"},e[30]=I):I=e[30];let Y;if(e[31]!==v||e[32]!==u||e[33]!==r||e[34]!==s){let ue;e[36]!==r?(ue=q=>q.name.toLowerCase().includes(r.toLowerCase()),e[36]=r,e[37]=ue):ue=e[37];let $;e[38]!==v||e[39]!==s?($=q=>S.jsx(Fte,{initialChecked:v[q.id]??"indeterminate",updatedChecked:s[q.id]??"unchanged",onChange:se=>{l(le=>({...le,[q.id]:se}))},label:q.name},q.id),e[38]=v,e[39]=s,e[40]=$):$=e[40],Y=u.filter(ue).map($),e[31]=v,e[32]=u,e[33]=r,e[34]=s,e[35]=Y}else Y=e[35];let M;e[41]!==Y?(M=S.jsx(mr,{h:160,style:I,mt:"md",gap:"md",pos:"relative",children:Y}),e[41]=Y,e[42]=M):M=e[42];let J;e[43]===Symbol.for("react.memo_cache_sentinel")?(J={position:"absolute",right:".5rem",bottom:".5rem",zIndex:1},e[43]=J):J=e[43];let V;e[44]!==s?(V=()=>CO(s),e[44]=s,e[45]=V):V=e[45];let X;e[46]===Symbol.for("react.memo_cache_sentinel")?(X=S.jsx(j6,{}),e[46]=X):X=e[46];let Q;e[47]!==V?(Q=S.jsx(nr,{style:J,text:"apply",title:"Apply labels to selected items",onClick:V,children:X}),e[47]=V,e[48]=Q):Q=e[48];let ne;return e[49]!==te||e[50]!==M||e[51]!==Q?(ne=S.jsxs(S.Fragment,{children:[te,M,Q]}),e[49]=te,e[50]=M,e[51]=Q,e[52]=ne):ne=e[52],ne};function Hte(t){return t?.labels??[]}function qte(t){return t?.labels??[]}function Kte(t){t.stopPropagation(),t.preventDefault()}function Vte(t){return t.selection.selected}function Wte(t){return t!==void 0}const Yte=()=>{const t=gt.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsxs(S.Fragment,{children:[S.jsx(Xte,{}),S.jsxs("div",{style:{flex:"1 1 auto",overflow:"hidden",position:"relative"},children:[S.jsx(Zte,{}),S.jsx(dte,{})]}),S.jsx(Ate,{}),S.jsx(Qte,{})]}),t[0]=e):e=t[0],e},Zte=()=>{const t=gt.c(5);if(bt(ld))return null;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={position:"absolute",bottom:"1.25rem",left:"1.25rem",zIndex:1},t[0]=n):n=t[0];let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(nr,{onClick:Nl,style:n,title:"Open Label Selector",text:"labels",children:S.jsx(u0,{})}),t[1]=r):r=t[1];let i,o;t[2]===Symbol.for("react.memo_cache_sentinel")?(i={position:"absolute",bottom:"1.25rem",right:"1.25rem",zIndex:1},o=S.jsx(Gte,{}),t[2]=i,t[3]=o):(i=t[2],o=t[3]);let s;return t[4]===Symbol.for("react.memo_cache_sentinel")?(s=S.jsxs(S.Fragment,{children:[r,S.jsxs(Yr.Group,{orientation:"horizontal",style:i,children:[o,S.jsx(nr,{onClick:PM,title:"Create new note",text:"new",children:S.jsx(fd,{})})]})]}),t[4]=s):s=t[4],s},Xte=()=>{const t=gt.c(13),e=bt(ld),n=bt(Jte);let r;t[0]!==n?(r=Object.keys(n),t[0]=n,t[1]=r):r=t[1];const i=r.length,o=bt(ene);let s;t[2]!==e?(s={id:"selectionMode",open:e,onClose:J1},t[2]=e,t[3]=s):s=t[3],ci(s);let l;t[4]!==o?(l={id:"bulkLabelDropdown",open:o,onClose:ew},t[4]=o,t[5]=l):l=t[5],ci(l);let u;t[6]!==o?(u=[["esc",()=>o?ew():J1()]],t[6]=o,t[7]=u):u=t[7];let f;t[8]===Symbol.for("react.memo_cache_sentinel")?(f=[],t[8]=f):f=t[8],Gf(u,f,!0);let h;return t[9]!==o||t[10]!==i||t[11]!==e?(h=S.jsx(or,{gap:"xs",mih:"4rem",px:"md",bg:"rgba(0,0,0,.1)",justify:"space-between",align:"center",children:e?S.jsxs(S.Fragment,{children:[S.jsxs(dn,{fz:"sm",lh:"1.2",children:[i," ",i===1?"note":"notes"]}),S.jsxs(or,{gap:"4",children:[S.jsx(nr,{title:"Select all",text:"all",onClick:LG,children:S.jsx(j6,{})}),S.jsxs(Zn,{opened:o,onDismiss:ew,withArrow:!0,trapFocus:!0,closeOnEscape:!1,children:[S.jsx(Zn.Target,{children:S.jsx(nr,{title:"Label",text:"label",onClick:$G,children:S.jsx(u0,{})})}),S.jsx(Zn.Dropdown,{children:S.jsx(Ute,{opened:o})})]}),S.jsx(nr,{title:"Unarchive",text:"unarch",onClick:BG,children:S.jsx(Pte,{})}),S.jsx(nr,{title:"Archive",text:"archive",onClick:PG,children:S.jsx(S_,{})}),S.jsx(nr,{title:"Delete",text:"delete",onClick:IG,children:S.jsx(Bp,{})}),S.jsx(nr,{title:"Quit Selection",text:"quit",onClick:J1,children:S.jsx(uu,{})})]})]}):S.jsxs(S.Fragment,{children:[S.jsx(ite,{}),S.jsxs(or,{gap:"xs",flex:"0 1 auto",children:[S.jsx(Cte,{}),S.jsx(Yr,{title:"Menu",size:"input-sm",onClick:Yo.open,children:S.jsx(jte,{})})]})]})}),t[9]=o,t[10]=i,t[11]=e,t[12]=h):h=t[12],h},Gte=()=>{const t=gt.c(6),e=bt(tne),n=bt(nne);let r;t[0]!==n?(r={multiple:!0,resetOnOpen:!0,onChange:async l=>{l&&await RM(l,n)}},t[0]=n,t[1]=r):r=t[1];const{open:i}=sL(r);let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsx(zte,{}),t[2]=o):o=t[2];let s;return t[3]!==e||t[4]!==i?(s=S.jsx(nr,{onClick:i,title:"Add Files",text:"add",loading:e,children:o}),t[3]=e,t[4]=i,t[5]=s):s=t[5],s},Qte=()=>{const t=gt.c(5),e=bt(rne),n=bt(ine),i=!bt(WG)&&!e;let o;t[0]!==n?(o=async l=>{l.length!==0&&await RM(l,n)},t[0]=n,t[1]=o):o=t[1];let s;return t[2]!==i||t[3]!==o?(s=S.jsx(rte.FullScreen,{active:i,onDrop:o,children:"Drop Files anywhere to import them"}),t[2]=i,t[3]=o,t[4]=s):s=t[4],s};function Jte(t){return t.selection.selected}function ene(t){return t.selection.bulkLabelOpen}function tne(t){return t.files.importing}function nne(t){return t.labels.activeLabel}function rne(t){return t.files.importing}function ine(t){return t.labels.activeLabel}function one(t){if(Array.isArray(t))return t}function sne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],u=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function P6(t,e){if(t){if(typeof t=="string")return Cx(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cx(t,e):void 0}}function ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6(t,e){return one(t)||sne(t,e)||P6(t,e)||ane()}var rw={},Th={},YO;function B6(){if(YO)return Th;YO=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.bind=void 0;function t(e,n){var r=n.type,i=n.listener,o=n.options;return e.addEventListener(r,i,o),function(){e.removeEventListener(r,i,o)}}return Th.bind=t,Th}var Oc={},ZO;function lne(){if(ZO)return Oc;ZO=1;var t=Oc&&Oc.__assign||function(){return t=Object.assign||function(o){for(var s,l=1,u=arguments.length;l<u;l++){s=arguments[l];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(o[f]=s[f])}return o},t.apply(this,arguments)};Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.bindAll=void 0;var e=B6();function n(o){if(!(typeof o>"u"))return typeof o=="boolean"?{capture:o}:o}function r(o,s){if(s==null)return o;var l=t(t({},o),{options:t(t({},n(s)),n(o.options))});return l}function i(o,s,l){var u=s.map(function(f){var h=r(f,l);return(0,e.bind)(o,h)});return function(){u.forEach(function(h){return h()})}}return Oc.bindAll=i,Oc}var XO;function cne(){return XO||(XO=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=t.bind=void 0;var e=B6();Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return e.bind}});var n=lne();Object.defineProperty(t,"bindAll",{enumerable:!0,get:function(){return n.bindAll}})})(rw)),rw}var Bf=cne(),I6="data-pdnd-honey-pot";function $6(t){return t instanceof Element&&t.hasAttribute(I6)}function F6(t){var e=document.elementsFromPoint(t.x,t.y),n=L6(e,2),r=n[0],i=n[1];return r?$6(r)?i??null:r:null}function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function une(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fne(t){var e=une(t,"string");return pp(e)=="symbol"?e:e+""}function Ip(t,e,n){return(e=fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dne=2147483647;function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){Ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var mp=2,JO=mp/2;function hne(t){return{x:Math.floor(t.x),y:Math.floor(t.y)}}function pne(t){return{x:t.x-JO,y:t.y-JO}}function mne(t){return{x:Math.max(t.x,0),y:Math.max(t.y,0)}}function gne(t){return{x:Math.min(t.x,window.innerWidth-mp),y:Math.min(t.y,window.innerHeight-mp)}}function e4(t){var e=t.client,n=gne(mne(pne(hne(e))));return DOMRect.fromRect({x:n.x,y:n.y,width:mp,height:mp})}function t4(t){var e=t.clientRect;return{left:"".concat(e.left,"px"),top:"".concat(e.top,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}}function vne(t){var e=t.client,n=t.clientRect;return e.x>=n.x&&e.x<=n.x+n.width&&e.y>=n.y&&e.y<=n.y+n.height}function yne(t){var e=t.initial,n=document.createElement("div");n.setAttribute(I6,"true");var r=e4({client:e});Object.assign(n.style,QO(QO({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},t4({clientRect:r})),{},{pointerEvents:"auto",zIndex:dne})),document.body.appendChild(n);var i=Bf.bind(window,{type:"pointermove",listener:function(s){var l={x:s.clientX,y:s.clientY};r=e4({client:l}),Object.assign(n.style,t4({clientRect:r}))},options:{capture:!0}});return function(s){var l=s.current;if(i(),vne({client:l,clientRect:r})){n.remove();return}function u(){f(),n.remove()}var f=Bf.bindAll(window,[{type:"pointerdown",listener:u},{type:"pointermove",listener:u},{type:"focusin",listener:u},{type:"focusout",listener:u},{type:"dragstart",listener:u},{type:"dragenter",listener:u},{type:"dragover",listener:u}],{capture:!0})}}function bne(){var t=null;function e(){return t=null,Bf.bind(window,{type:"pointermove",listener:function(i){t={x:i.clientX,y:i.clientY}},options:{capture:!0}})}function n(){var r=null;return function(o){var s=o.eventName,l=o.payload;if(s==="onDragStart"){var u=l.location.initial.input,f=t??{x:u.clientX,y:u.clientY};r=yne({initial:f})}if(s==="onDrop"){var h,p=l.location.current.input;(h=r)===null||h===void 0||h({current:{x:p.clientX,y:p.clientY}}),r=null,t=null}}}return{bindEvents:e,getOnPostDispatch:n}}function wne(t){if(Array.isArray(t))return Cx(t)}function xne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U6(t){return wne(t)||xne(t)||P6(t)||Sne()}function dd(t){var e=null;return function(){if(!e){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=t.apply(this,i);e={result:s}}return e.result}}var _ne=dd(function(){return navigator.userAgent.includes("Firefox")}),__=dd(function(){var e=navigator,n=e.userAgent;return n.includes("AppleWebKit")&&!n.includes("Chrome")}),kx={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function Cne(t){var e=t.dragLeave;return __()?e.hasOwnProperty(kx.isLeavingWindow):!1}(function(){if(typeof window>"u"||!__())return;function e(){return{enterCount:0,isOverWindow:!1}}var n=e();function r(){n=e()}Bf.bindAll(window,[{type:"dragstart",listener:function(){n.enterCount=0,n.isOverWindow=!0}},{type:"drop",listener:r},{type:"dragend",listener:r},{type:"dragenter",listener:function(o){!n.isOverWindow&&n.enterCount===0&&(o[kx.isEnteringWindow]=!0),n.isOverWindow=!0,n.enterCount++}},{type:"dragleave",listener:function(o){n.enterCount--,n.isOverWindow&&n.enterCount===0&&(o[kx.isLeavingWindow]=!0,n.isOverWindow=!1)}}],{capture:!0})})();function kne(t){return"nodeName"in t}function Ene(t){return kne(t)&&t.ownerDocument!==document}function Ane(t){var e=t.dragLeave,n=e.type,r=e.relatedTarget;return n!=="dragleave"?!1:__()?Cne({dragLeave:e}):r==null?!0:_ne()?Ene(r):r instanceof HTMLIFrameElement}function One(t){var e=t.onDragEnd;return[{type:"pointermove",listener:(function(){var n=0;return function(){if(n<20){n++;return}e()}})()},{type:"pointerdown",listener:e}]}function Wh(t){return{altKey:t.altKey,button:t.button,buttons:t.buttons,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Tne=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i},iw=Tne(function(t){return t()}),Tg=(function(){var t=null;function e(r){var i=requestAnimationFrame(function(){t=null,r()});t={frameId:i,fn:r}}function n(){t&&(cancelAnimationFrame(t.frameId),t.fn(),t=null)}return{schedule:e,flush:n}})();function Dne(t){var e=t.source,n=t.initial,r=t.dispatchEvent,i={dropTargets:[]};function o(l){r(l),i={dropTargets:l.payload.location.current.dropTargets}}var s={start:function(u){var f=u.nativeSetDragImage,h={current:n,previous:i,initial:n};o({eventName:"onGenerateDragPreview",payload:{source:e,location:h,nativeSetDragImage:f}}),Tg.schedule(function(){o({eventName:"onDragStart",payload:{source:e,location:h}})})},dragUpdate:function(u){var f=u.current;Tg.flush(),iw.cancel(),o({eventName:"onDropTargetChange",payload:{source:e,location:{initial:n,previous:i,current:f}}})},drag:function(u){var f=u.current;iw(function(){Tg.flush();var h={initial:n,previous:i,current:f};o({eventName:"onDrag",payload:{source:e,location:h}})})},drop:function(u){var f=u.current,h=u.updatedSourcePayload;Tg.flush(),iw.cancel(),o({eventName:"onDrop",payload:{source:h??e,location:{current:f,previous:i,initial:n}}})}};return s}var Ex={isActive:!1};function H6(){return!Ex.isActive}function Rne(t){return t.dataTransfer?t.dataTransfer.setDragImage.bind(t.dataTransfer):null}function Mne(t){var e=t.current,n=t.next;if(e.length!==n.length)return!0;for(var r=0;r<e.length;r++)if(e[r].element!==n[r].element)return!0;return!1}function Nne(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,i=t.dispatchEvent;if(!H6())return;var o=jne({event:e,dragType:n,getDropTargetsOver:r});Ex.isActive=!0;var s={current:o};ow({event:e,current:o.dropTargets});var l=Dne({source:n.payload,dispatchEvent:i,initial:o});function u(v){var b=Mne({current:s.current.dropTargets,next:v.dropTargets});s.current=v,b&&l.dragUpdate({current:s.current})}function f(v){var b=Wh(v),y=$6(v.target)?F6({x:b.clientX,y:b.clientY}):v.target,_=r({target:y,input:b,source:n.payload,current:s.current.dropTargets});_.length&&(v.preventDefault(),ow({event:v,current:_})),u({dropTargets:_,input:b})}function h(){s.current.dropTargets.length&&u({dropTargets:[],input:s.current.input}),l.drop({current:s.current,updatedSourcePayload:null}),p()}function p(){Ex.isActive=!1,g()}var g=Bf.bindAll(window,[{type:"dragover",listener:function(b){f(b),l.drag({current:s.current})}},{type:"dragenter",listener:f},{type:"dragleave",listener:function(b){Ane({dragLeave:b})&&(u({input:s.current.input,dropTargets:[]}),n.startedFrom==="external"&&h())}},{type:"drop",listener:function(b){if(s.current={dropTargets:s.current.dropTargets,input:Wh(b)},!s.current.dropTargets.length){h();return}b.preventDefault(),ow({event:b,current:s.current.dropTargets}),l.drop({current:s.current,updatedSourcePayload:n.type==="external"?n.getDropPayload(b):null}),p()}},{type:"dragend",listener:function(b){s.current={dropTargets:s.current.dropTargets,input:Wh(b)},h()}}].concat(U6(One({onDragEnd:h}))),{capture:!0});l.start({nativeSetDragImage:Rne(e)})}function ow(t){var e,n=t.event,r=t.current,i=(e=r[0])===null||e===void 0?void 0:e.dropEffect;i!=null&&n.dataTransfer&&(n.dataTransfer.dropEffect=i)}function jne(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,i=Wh(e);if(n.startedFrom==="external")return{input:i,dropTargets:[]};var o=r({input:i,source:n.payload,target:e.target,current:[]});return{input:i,dropTargets:o}}var n4={canStart:H6,start:Nne},Ax=new Map;function zne(t){var e=t.typeKey,n=t.mount,r=Ax.get(e);if(r)return r.usageCount++,r;var i={typeKey:e,unmount:n(),usageCount:1};return Ax.set(e,i),i}function Pne(t){var e=zne(t);return function(){e.usageCount--,!(e.usageCount>0)&&(e.unmount(),Ax.delete(t.typeKey))}}function C_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){e.forEach(function(i){return i()})}}function q6(t,e){var n=e.attribute,r=e.value;return t.setAttribute(n,r),function(){return t.removeAttribute(n)}}function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){Ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sw(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Lne(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return s=f.done,f},e:function(f){l=!0,o=f},f:function(){try{s||n.return==null||n.return()}finally{if(l)throw o}}}}function Lne(t,e){if(t){if(typeof t=="string")return i4(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i4(t,e):void 0}}function i4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function aw(t){return t.slice(0).reverse()}function Bne(t){var e=t.typeKey,n=t.defaultDropEffect,r=new WeakMap,i="data-drop-target-for-".concat(e),o="[".concat(i,"]");function s(v){return r.set(v.element,v),function(){return r.delete(v.element)}}function l(v){var b=C_(q6(v.element,{attribute:i,value:"true"}),s(v));return dd(b)}function u(v){var b,y,_,E,A=v.source,O=v.target,T=v.input,R=v.result,N=R===void 0?[]:R;if(O==null)return N;if(!(O instanceof Element))return O instanceof Node?u({source:A,target:O.parentElement,input:T,result:N}):N;var j=O.closest(o);if(j==null)return N;var U=r.get(j);if(U==null)return N;var H={input:T,source:A,element:U.element};if(U.canDrop&&!U.canDrop(H))return u({source:A,target:U.element.parentElement,input:T,result:N});var Z=(b=(y=U.getData)===null||y===void 0?void 0:y.call(U,H))!==null&&b!==void 0?b:{},te=(_=(E=U.getDropEffect)===null||E===void 0?void 0:E.call(U,H))!==null&&_!==void 0?_:n,I={data:Z,element:U.element,dropEffect:te,isActiveDueToStickiness:!1};return u({source:A,target:U.element.parentElement,input:T,result:[].concat(U6(N),[I])})}function f(v){var b=v.eventName,y=v.payload,_=sw(y.location.current.dropTargets),E;try{for(_.s();!(E=_.n()).done;){var A,O=E.value,T=r.get(O.element),R=bl(bl({},y),{},{self:O});T==null||(A=T[b])===null||A===void 0||A.call(T,R)}}catch(N){_.e(N)}finally{_.f()}}var h={onGenerateDragPreview:f,onDrag:f,onDragStart:f,onDrop:f,onDropTargetChange:function(b){var y=b.payload,_=new Set(y.location.current.dropTargets.map(function(X){return X.element})),E=new Set,A=sw(y.location.previous.dropTargets),O;try{for(A.s();!(O=A.n()).done;){var T,R=O.value;E.add(R.element);var N=r.get(R.element),j=_.has(R.element),U=bl(bl({},y),{},{self:R});if(N==null||(T=N.onDropTargetChange)===null||T===void 0||T.call(N,U),!j){var H;N==null||(H=N.onDragLeave)===null||H===void 0||H.call(N,U)}}}catch(X){A.e(X)}finally{A.f()}var Z=sw(y.location.current.dropTargets),te;try{for(Z.s();!(te=Z.n()).done;){var I,Y,M=te.value;if(!E.has(M.element)){var J=bl(bl({},y),{},{self:M}),V=r.get(M.element);V==null||(I=V.onDropTargetChange)===null||I===void 0||I.call(V,J),V==null||(Y=V.onDragEnter)===null||Y===void 0||Y.call(V,J)}}}catch(X){Z.e(X)}finally{Z.f()}}};function p(v){h[v.eventName](v)}function g(v){var b=v.source,y=v.target,_=v.input,E=v.current,A=u({source:b,target:y,input:_});if(A.length>=E.length)return A;for(var O=aw(E),T=aw(A),R=[],N=0;N<O.length;N++){var j,U=O[N],H=T[N];if(H!=null){R.push(H);continue}var Z=R[N-1],te=O[N-1];if(Z?.element!==te?.element)break;var I=r.get(U.element);if(!I)break;var Y={input:_,source:b,element:I.element};if(I.canDrop&&!I.canDrop(Y)||!((j=I.getIsSticky)!==null&&j!==void 0&&j.call(I,Y)))break;R.push(bl(bl({},U),{},{isActiveDueToStickiness:!0}))}return aw(R)}return{dropTargetForConsumers:l,getIsOver:g,dispatchEvent:p}}function Ine(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=$ne(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return s=f.done,f},e:function(f){l=!0,o=f},f:function(){try{s||n.return==null||n.return()}finally{if(l)throw o}}}}function $ne(t,e){if(t){if(typeof t=="string")return o4(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o4(t,e):void 0}}function o4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){Ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Une(){var t=new Set,e=null;function n(o){e&&(!o.canMonitor||o.canMonitor(e.canMonitorArgs))&&e.active.add(o)}function r(o){var s=Fne({},o);t.add(s),n(s);function l(){t.delete(s),e&&e.active.delete(s)}return dd(l)}function i(o){var s=o.eventName,l=o.payload;if(s==="onGenerateDragPreview"){e={canMonitorArgs:{initial:l.location.initial,source:l.source},active:new Set};var u=Ine(t),f;try{for(u.s();!(f=u.n()).done;){var h=f.value;n(h)}}catch(_){u.e(_)}finally{u.f()}}if(e){for(var p=Array.from(e.active),g=0,v=p;g<v.length;g++){var b=v[g];if(e.active.has(b)){var y;(y=b[s])===null||y===void 0||y.call(b,l)}}s==="onDrop"&&(e.active.clear(),e=null)}}return{dispatchEvent:i,monitorForConsumers:r}}function Hne(t){var e=t.typeKey,n=t.mount,r=t.dispatchEventToSource,i=t.onPostDispatch,o=t.defaultDropEffect,s=Une(),l=Bne({typeKey:e,defaultDropEffect:o});function u(p){r?.(p),l.dispatchEvent(p),s.dispatchEvent(p),i?.(p)}function f(p){var g=p.event,v=p.dragType;n4.start({event:g,dragType:v,getDropTargetsOver:l.getIsOver,dispatchEvent:u})}function h(){function p(){var g={canStart:n4.canStart,start:f};return n(g)}return Pne({typeKey:e,mount:p})}return{registerUsage:h,dropTarget:l.dropTargetForConsumers,monitor:s.monitorForConsumers}}var qne=dd(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),Kne="pdnd:android-fallback",a4="text/plain",Vne="text/uri-list",Wne="application/vnd.pdnd",Wv=new WeakMap;function Yne(t){return Wv.set(t.element,t),function(){Wv.delete(t.element)}}var l4=bne(),K6=Hne({typeKey:"element",defaultDropEffect:"move",mount:function(e){return C_(l4.bindEvents(),Bf.bind(document,{type:"dragstart",listener:function(r){var i,o,s,l,u,f;if(e.canStart(r)&&!r.defaultPrevented&&r.dataTransfer){var h=r.target;if(h instanceof HTMLElement){var p=Wv.get(h);if(p){var g=Wh(r),v={element:p.element,dragHandle:(i=p.dragHandle)!==null&&i!==void 0?i:null,input:g};if(p.canDrag&&!p.canDrag(v)){r.preventDefault();return}if(p.dragHandle){var b=F6({x:g.clientX,y:g.clientY});if(!p.dragHandle.contains(b)){r.preventDefault();return}}var y=(o=(s=p.getInitialDataForExternal)===null||s===void 0?void 0:s.call(p,v))!==null&&o!==void 0?o:null;if(y)for(var _=0,E=Object.entries(y);_<E.length;_++){var A=L6(E[_],2),O=A[0],T=A[1];r.dataTransfer.setData(O,T??"")}qne()&&!r.dataTransfer.types.includes(a4)&&!r.dataTransfer.types.includes(Vne)&&r.dataTransfer.setData(a4,Kne),r.dataTransfer.setData(Wne,"");var R={element:p.element,dragHandle:(l=p.dragHandle)!==null&&l!==void 0?l:null,data:(u=(f=p.getInitialData)===null||f===void 0?void 0:f.call(p,v))!==null&&u!==void 0?u:{}},N={type:"element",payload:R,startedFrom:"internal"};e.start({event:r,dragType:N})}}}}}))},dispatchEventToSource:function(e){var n,r,i=e.eventName,o=e.payload;(n=Wv.get(o.source.element))===null||n===void 0||(r=n[i])===null||r===void 0||r.call(n,o)},onPostDispatch:l4.getOnPostDispatch()}),Zne=K6.dropTarget;function Xne(t){var e=C_(K6.registerUsage(),Yne(t),q6(t.element,{attribute:"draggable",value:"true"}));return dd(e)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){Ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Gne={top:function(e,n){return Math.abs(n.y-e.top)},right:function(e,n){return Math.abs(e.right-n.x)},bottom:function(e,n){return Math.abs(e.bottom-n.y)},left:function(e,n){return Math.abs(n.x-e.left)}},V6=Symbol("closestEdge");function Qne(t,e){var n,r,i=e.element,o=e.input,s=e.allowedEdges,l={x:o.clientX,y:o.clientY},u=i.getBoundingClientRect(),f=s.map(function(p){return{edge:p,value:Gne[p](u,l)}}),h=(n=(r=f.sort(function(p,g){return p.value-g.value})[0])===null||r===void 0?void 0:r.edge)!==null&&n!==void 0?n:null;return u4(u4({},t),{},Ip({},V6,h))}function lw(t){var e;return(e=t[V6])!==null&&e!==void 0?e:null}const Jne=t=>{const e=gt.c(12);let n,r,i,o,s,l,u,f,h,p;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i=S.jsx("path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),o=S.jsx("path",{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),s=S.jsx("path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l=S.jsx("path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),u=S.jsx("path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),f=S.jsx("path",{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),h=S.jsx("path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),p=S.jsx("path",{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=f,e[8]=h,e[9]=p):(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],h=e[8],p=e[9]);let g;return e[10]!==t?(g=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o,s,l,u,f,h,p]}),e[10]=t,e[11]=g):g=e[11],g},ere="_growWrap_80hol_1",tre="_textarea_80hol_9",f4={growWrap:ere,textarea:tre},nre=t=>{const e=gt.c(19);let n,r,i,o,s;e[0]!==t?({onInput:r,textareaStyles:s,style:o,autoFocus:n,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s):(n=e[1],r=e[2],i=e[3],o=e[4],s=e[5]);const l=P.useRef(null),u=P.useRef(null);let f,h;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{l.current&&u.current&&(l.current.dataset.replicatedValue=u.current.value+" ")},h=[],e[6]=f,e[7]=h):(f=e[6],h=e[7]),P.useLayoutEffect(f,h);let p;e[8]!==r?(p=_=>{const E=_.currentTarget.value+" ";l.current&&(l.current.dataset.replicatedValue=E),r?.(_)},e[8]=r,e[9]=p):p=e[9];const g=p,v=n?!0:void 0;let b;e[10]!==n||e[11]!==g||e[12]!==i||e[13]!==v||e[14]!==s?(b=S.jsx("textarea",{...i,ref:u,onInput:g,className:f4.textarea,style:s,autoFocus:n,"data-autofocus":v}),e[10]=n,e[11]=g,e[12]=i,e[13]=v,e[14]=s,e[15]=b):b=e[15];let y;return e[16]!==o||e[17]!==b?(y=S.jsx("div",{ref:l,className:f4.growWrap,style:o,children:b}),e[16]=o,e[17]=b,e[18]=y):y=e[18],y},Ox=t=>{const e=gt.c(18),{todos:n,onTodoChecked:r,onTodoChanged:i,onInsertTodo:o,onTodoDeleted:s,onUndo:l,onRedo:u,onUp:f,onMoveTodo:h,onMoveTodoByOne:p,autoFocus:g}=t;let v;if(e[0]!==g||e[1]!==o||e[2]!==h||e[3]!==p||e[4]!==u||e[5]!==i||e[6]!==r||e[7]!==s||e[8]!==l||e[9]!==f||e[10]!==n){const{idToTodo:b,visualOrderUndone:y,visualOrderDone:_}=Pp(n);let E;e[12]===Symbol.for("react.memo_cache_sentinel")?(E={overflowY:"auto",paddingTop:"1px"},e[12]=E):E=e[12];let A;e[13]===Symbol.for("react.memo_cache_sentinel")?(A=S.jsx("style",{scoped:!0,children:`
        textarea:disabled {
          color: var(--mantine-color-text);
          opacity: 0.5;
        }
      `}),e[13]=A):A=e[13];let O;e[14]!==o||e[15]!==n?(O=!!o&&S.jsx(or,{justify:"end",children:S.jsx(ir,{title:"Add todo",onClick:()=>{o(Z2(n)?.id),queueMicrotask(ire)},children:S.jsx(fd,{})})}),e[14]=o,e[15]=n,e[16]=O):O=e[16];let T;e[17]===Symbol.for("react.memo_cache_sentinel")?(T=S.jsx(Op,{m:"5px 0"}),e[17]=T):T=e[17],v=S.jsxs(mr,{flex:1,style:E,gap:0,children:[A,y.map((R,N)=>S.jsx(d4,{todo:b[R],visualIndex:N,onTodoChecked:r,onTodoChanged:i,onInsertTodo:o,onTodoDeleted:s,onUndo:l,onRedo:u,onUp:f,onMoveTodo:h,onMoveTodoByOne:p,autoFocus:g&&N===0},`${R}undone`)),O,T,_.map(R=>{const N=b[R];return S.jsx(d4,{todo:N,onTodoChecked:r,onTodoDeleted:N.done?s:void 0,ghost:!N.done&&!N.parent},`${R}done`)})]}),e[0]=g,e[1]=o,e[2]=h,e[3]=p,e[4]=u,e[5]=i,e[6]=r,e[7]=s,e[8]=l,e[9]=f,e[10]=n,e[11]=v}else v=e[11];return v},d4=t=>{const e=gt.c(70),{todo:n,visualIndex:r,ghost:i,onTodoChecked:o,onTodoChanged:s,onInsertTodo:l,onTodoDeleted:u,onUndo:f,onRedo:h,onUp:p,onMoveTodo:g,onMoveTodoByOne:v,autoFocus:b}=t,y=P.useRef(null),_=P.useRef(null),[E,A]=P.useState(null);let O;e[0]!==n.id||e[1]!==r?(O={id:n.id,visualIndex:r},e[0]=n.id,e[1]=r,e[2]=O):O=e[2];const T=O;let R,N;e[3]!==T||e[4]!==i||e[5]!==g||e[6]!==n.done||e[7]!==n.id||e[8]!==n.parent||e[9]!==r?(R=()=>{const Ye=Xne({element:y.current,dragHandle:_.current,getInitialData:()=>T,canDrag:()=>!n.done&&!i}),Je=Zne({element:y.current,canDrop:()=>!n.done&&!i,getData(ct){const{input:B,element:Ee,source:be}=ct,ee=Qne(T,{element:y.current,input:B,allowedEdges:["top","bottom"]}),G=Ee.getBoundingClientRect(),ae=B.clientX-G.left,Ne=lw(ee),Me=Number(be.data.visualIndex);return{...ee,indented:(r!==0||Ne==="bottom")&&ae>32,insertInSameSlot:be.data.id===n.id||r===void 0||(Ne==="top"?Me===r-1:Me===r+1)}},onDrag(ct){const{self:B}=ct,Ee=!!B.data.indented,be=!!B.data.insertInSameSlot,ee=lw(B.data);A(be&&Ee===!!n.parent?null:{edge:ee,indented:Ee})},onDragLeave(){A(null)},onDrop(ct){const{self:B,source:Ee}=ct;if(A(null),typeof Ee.data.id=="string"&&typeof B.data.id=="string"){const be=lw(B.data);if(be!=="top"&&be!=="bottom")return;g?.({dragId:Ee.data.id,dropId:B.data.id,closestEdge:be,indent:!!B.data.indented})}}});return()=>{Ye(),Je()}},N=[n.done,T,g,i,r,n.parent,n.id],e[3]=T,e[4]=i,e[5]=g,e[6]=n.done,e[7]=n.id,e[8]=n.parent,e[9]=r,e[10]=R,e[11]=N):(R=e[10],N=e[11]),P.useEffect(R,N);const j=i?.5:1;let U;e[12]!==j?(U={opacity:j},e[12]=j,e[13]=U):U=e[13];const H=n.parent?"2rem":0;let Z;e[14]!==H?(Z={padding:"0 .75rem 0 0",marginLeft:H},e[14]=H,e[15]=Z):Z=e[15];const te=n.done||i?void 0:"alt+up or alt+down to move todo",I=n.done?.2:.5;let Y;e[16]!==I?(Y=S.jsx(Jne,{style:{display:"block",opacity:I}}),e[16]=I,e[17]=Y):Y=e[17];let M;e[18]!==Y||e[19]!==Z||e[20]!==te?(M=S.jsx("div",{ref:_,style:Z,title:te,children:Y}),e[18]=Y,e[19]=Z,e[20]=te,e[21]=M):M=e[21];let J;e[22]!==i||e[23]!==o||e[24]!==n.done||e[25]!==n.id?(J=i?S.jsx(x_,{"aria-label":"checkbox mixed"}):S.jsx($te,{tabIndex:o?void 0:-1,checked:n.done,readOnly:!o,onChange:Ye=>o?.(n.id,Ye.target.checked),style:{marginRight:".25rem"},"aria-labelledby":`todo-${n.id}-textarea`}),e[22]=i,e[23]=o,e[24]=n.done,e[25]=n.id,e[26]=J):J=e[26];const V=`todo-${n.id}-textarea`,X=s?void 0:-1;let Q;e[27]===Symbol.for("react.memo_cache_sentinel")?(Q={flex:1},e[27]=Q):Q=e[27];const ne=n.done?"line-through":"none";let ue;e[28]!==ne?(ue={border:"none",outline:"none",backgroundColor:"transparent",textDecoration:ne,resize:"none"},e[28]=ne,e[29]=ue):ue=e[29];const $=!s;let q;e[30]!==s||e[31]!==n.id?(q=Ye=>s?.(n.id,Ye.target.value),e[30]=s,e[31]=n.id,e[32]=q):q=e[32];const se=n.done||i?void 0:"alt+shift+i to indent todo";let le;e[33]!==l||e[34]!==g||e[35]!==v||e[36]!==h||e[37]!==s||e[38]!==u||e[39]!==f||e[40]!==p||e[41]!==n.id||e[42]!==n.parent||e[43]!==n.txt||e[44]!==r?(le=Ye=>{const Je=Ye.currentTarget;if(r===0&&Je.selectionStart===0&&Je.selectionEnd===0&&Ye.key==="ArrowUp")Ye.preventDefault(),p?.();else if((Ye.metaKey||Ye.ctrlKey)&&Ye.key==="z")Ye.preventDefault(),Ye.shiftKey?h?.():f?.();else if((Ye.metaKey||Ye.ctrlKey)&&Ye.key==="y")Ye.preventDefault(),h?.();else if(Ye.key==="Enter"&&!Ye.shiftKey){Ye.preventDefault();const{selectionStart:ct,selectionEnd:B}=Je,Ee=n.txt.slice(B);s?.(n.id,n.txt.slice(0,ct)),l?.(n.id,n.parent,Ee),Promise.resolve().then(()=>{Je.closest(".todo-list-item")?.nextElementSibling?.querySelector("textarea")?.focus()})}else Ye.key==="Backspace"&&Je.selectionStart===0&&Je.selectionEnd===0?(Ye.preventDefault(),r===0?document.getElementById("open-note-title")?.focus():Je.closest(".todo-list-item")?.previousElementSibling?.querySelector("textarea")?.focus(),u?.(n.id,!0)):(Ye.key==="ArrowUp"||Ye.key==="ArrowDown")&&Ye.altKey?(Ye.preventDefault(),v?.(n.id,Ye.key==="ArrowUp"?"up":"down")):Ye.key==="ArrowDown"&&Je.selectionEnd===n.txt.length?Je.closest(".todo-list-item")?.nextElementSibling?.querySelector("textarea")?.focus():Ye.key==="ArrowUp"&&Je.selectionEnd===0?Je.closest(".todo-list-item")?.previousElementSibling?.querySelector("textarea")?.focus():Ye.code==="KeyI"&&Ye.shiftKey&&Ye.altKey&&(Ye.preventDefault(),g?.({dragId:n.id,dropId:n.id,closestEdge:"top",indent:!n.parent}))},e[33]=l,e[34]=g,e[35]=v,e[36]=h,e[37]=s,e[38]=u,e[39]=f,e[40]=p,e[41]=n.id,e[42]=n.parent,e[43]=n.txt,e[44]=r,e[45]=le):le=e[45];let me;e[46]!==b||e[47]!==V||e[48]!==X||e[49]!==ue||e[50]!==$||e[51]!==q||e[52]!==se||e[53]!==le||e[54]!==n.done||e[55]!==n.txt?(me=S.jsx(nre,{id:V,tabIndex:X,placeholder:"To do...",style:Q,rows:1,textareaStyles:ue,value:n.txt,disabled:n.done,readOnly:$,onChange:q,autoFocus:b,title:se,onKeyDown:le}),e[46]=b,e[47]=V,e[48]=X,e[49]=ue,e[50]=$,e[51]=q,e[52]=se,e[53]=le,e[54]=n.done,e[55]=n.txt,e[56]=me):me=e[56];let je;e[57]!==u||e[58]!==n.id?(je=!!u&&S.jsx(ir,{title:"Delete todo",onClick:()=>u(n.id),children:S.jsx(Bp,{})}),e[57]=u,e[58]=n.id,e[59]=je):je=e[59];const We=E?.edge??null,Xe=E?.indented??!1;let Ae;e[60]!==We||e[61]!==Xe?(Ae=S.jsx(rre,{edge:We,indented:Xe}),e[60]=We,e[61]=Xe,e[62]=Ae):Ae=e[62];let ht;return e[63]!==M||e[64]!==J||e[65]!==me||e[66]!==je||e[67]!==Ae||e[68]!==U?(ht=S.jsxs(or,{ref:y,align:"center",p:"2px 0",gap:0,className:"todo-list-item",pos:"relative",style:U,children:[M,J,me,je,Ae]}),e[63]=M,e[64]=J,e[65]=me,e[66]=je,e[67]=Ae,e[68]=U,e[69]=ht):ht=e[69],ht},rre=t=>{const e=gt.c(3),{edge:n,indented:r}=t;let i;return e[0]!==n||e[1]!==r?(i=(n==="top"||n==="bottom")&&S.jsx("div",{style:{position:"absolute",top:n==="top"?0:void 0,left:r?"2rem":0,right:0,bottom:n==="bottom"?0:void 0,border:"2px solid var(--mantine-primary-color-filled)",transform:n==="top"?"translateY(-1px)":"translateY(1px)"}}),e[0]=n,e[1]=r,e[2]=i):i=e[2],i};function ire(){const t=document.querySelectorAll("textarea:not(:disabled)");t.length>0&&t[t.length-1]?.select()}const ore=()=>{const t=gt.c(42),e=bt(sre),n=e[0];let r;t[0]!==n?.id?(r=()=>et.notes.get(n?.id??""),t[0]=n?.id,t[1]=r):r=t[1];const i=n?.id;let o;t[2]!==i?(o=[i],t[2]=i,t[3]=o):o=t[3];const s=Xl(r,o);if(!n||!s)return null;const l=e.length>0;let u;t[4]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(dn,{size:"xl",children:"Local Note"}),t[4]=u):u=t[4];let f;t[5]!==s.deleted_at||t[6]!==s.updated_at?(f=s.deleted_at?kl(s.deleted_at):kl(s.updated_at),t[5]=s.deleted_at,t[6]=s.updated_at,t[7]=f):f=t[7];let h;t[8]!==f?(h=S.jsx(dn,{c:"dimmed",children:f}),t[8]=f,t[9]=h):h=t[9];let p;t[10]!==s.deleted_at||t[11]!==s.title||t[12]!==s.todos||t[13]!==s.txt||t[14]!==s.type?(p=s.deleted_at?S.jsx(dn,{style:{whiteSpace:"pre-wrap"},ff:"monospace",children:"DELETED"}):s.type==="todo"?S.jsxs(S.Fragment,{children:[S.jsx(dn,{size:"lg",children:s.title}),S.jsx(Ox,{todos:s.todos})]}):S.jsxs(S.Fragment,{children:[S.jsx(dn,{size:"lg",children:s.title}),S.jsx(dn,{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",...Ic},children:s.txt})]}),t[10]=s.deleted_at,t[11]=s.title,t[12]=s.todos,t[13]=s.txt,t[14]=s.type,t[15]=p):p=t[15];let g;t[16]===Symbol.for("react.memo_cache_sentinel")?(g=S.jsx(fn,{onClick:YX,children:"Use Local"}),t[16]=g):g=t[16];let v;t[17]!==h||t[18]!==p?(v=S.jsxs(mr,{flex:"1 1 0",gap:"xs",children:[u,h,p,g]}),t[17]=h,t[18]=p,t[19]=v):v=t[19];let b;t[20]===Symbol.for("react.memo_cache_sentinel")?(b=S.jsx(dn,{size:"xl",children:"Server Note"}),t[20]=b):b=t[20];let y;t[21]!==n.deleted_at||t[22]!==n.updated_at?(y=n.deleted_at?kl(n.deleted_at):kl(n.updated_at),t[21]=n.deleted_at,t[22]=n.updated_at,t[23]=y):y=t[23];let _;t[24]!==y?(_=S.jsx(dn,{c:"dimmed",children:y}),t[24]=y,t[25]=_):_=t[25];let E;t[26]!==n.deleted_at||t[27]!==n.title||t[28]!==n.todos||t[29]!==n.txt||t[30]!==n.type?(E=n.deleted_at?S.jsx(dn,{style:{whiteSpace:"pre-wrap"},ff:"monospace",children:"DELETED"}):n.type==="todo"?S.jsxs(S.Fragment,{children:[S.jsx(dn,{size:"lg",children:n.title}),S.jsx(Ox,{todos:n.todos})]}):S.jsxs(S.Fragment,{children:[S.jsx(dn,{size:"lg",children:n.title}),S.jsx(dn,{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",...Ic},children:n.txt})]}),t[26]=n.deleted_at,t[27]=n.title,t[28]=n.todos,t[29]=n.txt,t[30]=n.type,t[31]=E):E=t[31];let A;t[32]===Symbol.for("react.memo_cache_sentinel")?(A=S.jsx(fn,{onClick:ZX,children:"Use Server"}),t[32]=A):A=t[32];let O;t[33]!==_||t[34]!==E?(O=S.jsxs(mr,{flex:"1 1 0",gap:"xs",children:[b,_,E,A]}),t[33]=_,t[34]=E,t[35]=O):O=t[35];let T;t[36]!==O||t[37]!==v?(T=S.jsxs(or,{gap:"xs",children:[v,O]}),t[36]=O,t[37]=v,t[38]=T):T=t[38];let R;return t[39]!==T||t[40]!==l?(R=S.jsx(Nn,{withCloseButton:!1,size:"100%",opened:l,onClose:are,title:"Conflict Resolution",children:T}),t[39]=T,t[40]=l,t[41]=R):R=t[41],R};function sre(t){return t.conflicts.conflicts}function are(){}const lre=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M9 14l-4 -4l4 -4"}),i=S.jsx("path",{d:"M5 10h11a4 4 0 1 1 0 8h-1"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o},cre=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M15 14l4 -4l-4 -4"}),i=S.jsx("path",{d:"M19 10h-11a4 4 0 1 0 0 8h1"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o};function ure(t,e){switch(e.type){case"RESET":return{history:[e.externalValue],currentIndex:0,lastChangeTime:e.timestamp,prevKey:e.key,prevValue:e.externalValue};case"SET_VALUE":{const n=e.timestamp-t.lastChangeTime,r=t.history[t.currentIndex];if(Np(r,e.externalValue))return t;if(n<e.chunkThreshold){const i=[...t.history];return i[t.currentIndex]=e.externalValue,{...t,history:i,lastChangeTime:e.timestamp,prevValue:e.externalValue}}else{const i=t.history.slice(0,t.currentIndex+1);return i.push(e.externalValue),{...t,history:i,currentIndex:t.currentIndex+1,lastChangeTime:e.timestamp,prevValue:e.externalValue}}}case"UPDATE_INDEX":return{...t,currentIndex:e.index};default:return t}}function fre(t,e,n,r){const i=gt.c(25),o=n;let s;i[0]!==t?(s=[t],i[0]=t,i[1]=s):s=i[1];let l;i[2]===Symbol.for("react.memo_cache_sentinel")?(l=Date.now(),i[2]=l):l=i[2];let u;i[3]!==t||i[4]!==r||i[5]!==s?(u={history:s,currentIndex:0,lastChangeTime:l,prevKey:r,prevValue:t},i[3]=t,i[4]=r,i[5]=s,i[6]=u):u=i[6];const[f,h]=P.useReducer(ure,u),p=P.useRef(f),g=P.useRef(e);let v,b;i[7]!==f?(v=()=>{p.current=f},b=[f],i[7]=f,i[8]=v,i[9]=b):(v=i[8],b=i[9]),P.useEffect(v,b);let y,_;i[10]!==e?(y=()=>{g.current=e},_=[e],i[10]=e,i[11]=y,i[12]=_):(y=i[11],_=i[12]),P.useEffect(y,_);let E,A;i[13]!==o||i[14]!==t||i[15]!==r||i[16]!==f.prevKey||i[17]!==f.prevValue?(E=()=>{f.prevKey!==r?h({type:"RESET",externalValue:t,timestamp:Date.now(),key:r}):Np(t,f.prevValue)||h({type:"SET_VALUE",externalValue:t,chunkThreshold:o,timestamp:Date.now()})},A=[r,t,f.prevKey,f.prevValue,o],i[13]=o,i[14]=t,i[15]=r,i[16]=f.prevKey,i[17]=f.prevValue,i[18]=E,i[19]=A):(E=i[18],A=i[19]),P.useEffect(E,A);let O;i[20]===Symbol.for("react.memo_cache_sentinel")?(O=function(){const te=p.current;if(te.currentIndex<=0)return;const I=te.currentIndex-1;te.history[I]!==void 0&&(g.current(te.history[I]),h({type:"UPDATE_INDEX",index:I}))},i[20]=O):O=i[20];const T=O;let R;i[21]===Symbol.for("react.memo_cache_sentinel")?(R=function(){const te=p.current;if(te.currentIndex>=te.history.length-1)return;const I=te.currentIndex+1;te.history[I]!==void 0&&(g.current(te.history[I]),h({type:"UPDATE_INDEX",index:I}))},i[21]=R):R=i[21];const N=R,j=f.currentIndex>0,U=f.currentIndex<f.history.length-1;let H;return i[22]!==U||i[23]!==j?(H={canUndo:j,canRedo:U,undo:T,redo:N},i[22]=U,i[23]=j,i[24]=H):H=i[24],H}let Tx=[],W6=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?W6:Tx).push(n=n+t[e])})();function dre(t){if(t<768)return!1;for(let e=0,n=Tx.length;;){let r=e+n>>1;if(t<Tx[r])n=r;else if(t>=W6[r])e=r+1;else return!0;if(e==n)return!1}}function h4(t){return t>=127462&&t<=127487}const p4=8205;function hre(t,e,n=!0,r=!0){return(n?Y6:pre)(t,e,r)}function Y6(t,e,n){if(e==t.length)return e;e&&Z6(t.charCodeAt(e))&&X6(t.charCodeAt(e-1))&&e--;let r=cw(t,e);for(e+=m4(r);e<t.length;){let i=cw(t,e);if(r==p4||i==p4||n&&dre(i))e+=m4(i),r=i;else if(h4(i)){let o=0,s=e-2;for(;s>=0&&h4(cw(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function pre(t,e,n){for(;e>0;){let r=Y6(t,e-2,n);if(r<e)return r;e--}return 0}function cw(t,e){let n=t.charCodeAt(e);if(!X6(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Z6(r)?(n-55296<<10)+(r-56320)+65536:n}function Z6(t){return t>=56320&&t<57344}function X6(t){return t>=55296&&t<56320}function m4(t){return t<65536?1:2}class rn{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=If(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),ws.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=If(this,e,n);let r=[];return this.decompose(e,n,r,0),ws.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Yh(this),o=new Yh(e);for(let s=n,l=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new Yh(this,e)}iterRange(e,n=this.length){return new G6(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Q6(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?rn.empty:e.length<=32?new pr(e):ws.from(pr.split(e,[]))}}class pr extends rn{constructor(e,n=mre(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],l=i+s.length;if((n?r:l)>=e)return new gre(i,l,r,s);i=l+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new pr(g4(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),l=fv(o.text,s.text.slice(),0,o.length);if(l.length<=32)r.push(new pr(l,s.length+o.length));else{let u=l.length>>1;r.push(new pr(l.slice(0,u)),new pr(l.slice(u)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof pr))return super.replace(e,n,r);[e,n]=If(this,e,n);let i=fv(this.text,fv(r.text,g4(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new pr(i,o):ws.from(pr.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=If(this,e,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let l=this.text[s],u=o+l.length;o>e&&s&&(i+=r),e<u&&n>o&&(i+=l.slice(Math.max(0,e-o),n-o)),o=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new pr(r,i)),r=[],i=-1);return i>-1&&n.push(new pr(r,i)),n}}class ws extends rn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],l=i+s.length,u=r+s.lines-1;if((n?u:l)>=e)return s.lineInner(e,n,r,i);i=l+1,r=u+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let l=this.children[o],u=s+l.length;if(e<=u&&n>=s){let f=i&((s<=e?1:0)|(u>=n?2:0));s>=e&&u<=n&&!f?r.push(l):l.decompose(e-s,n-s,r,f)}s=u+1}}replace(e,n,r){if([e,n]=If(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],l=o+s.length;if(e>=o&&n<=l){let u=s.replace(e-o,n-o,r),f=this.lines-s.lines+u.lines;if(u.lines<f>>4&&u.lines>f>>6){let h=this.children.slice();return h[i]=u,new ws(h,this.length-(n-e)+r.length)}return super.replace(o,l,u)}o=l+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=If(this,e,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let l=this.children[o],u=s+l.length;s>e&&o&&(i+=r),e<u&&n>s&&(i+=l.sliceString(e-s,n-s,r)),s=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof ws))return 0;let r=0,[i,o,s,l]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==l)return r;let u=this.children[i],f=e.children[o];if(u!=f)return r+u.scanIdentical(f,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let v of e)r+=v.lines;if(r<32){let v=[];for(let b of e)b.flatten(v);return new pr(v,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,l=[],u=0,f=-1,h=[];function p(v){let b;if(v.lines>o&&v instanceof ws)for(let y of v.children)p(y);else v.lines>s&&(u>s||!u)?(g(),l.push(v)):v instanceof pr&&u&&(b=h[h.length-1])instanceof pr&&v.lines+b.lines<=32?(u+=v.lines,f+=v.length+1,h[h.length-1]=new pr(b.text.concat(v.text),b.length+1+v.length)):(u+v.lines>i&&g(),u+=v.lines,f+=v.length+1,h.push(v))}function g(){u!=0&&(l.push(h.length==1?h[0]:ws.from(h,f)),f=-1,u=h.length=0)}for(let v of e)p(v);return g(),l.length==1?l[0]:new ws(l,n)}}rn.empty=new pr([""],0);function mre(t){let e=-1;for(let n of t)e+=n.length+1;return e}function fv(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let l=t[o],u=i+l.length;u>=n&&(u>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),s?(e[e.length-1]+=l,s=!1):e.push(l)),i=u+1}return e}function g4(t,e,n){return fv(t,[""],e,n)}class Yh{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof pr?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,l=i instanceof pr?i.text.length:i.children.length;if(s==(n>0?l:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof pr){let u=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[s+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof pr?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class G6{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Yh(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Q6{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(rn.prototype[Symbol.iterator]=function(){return this.iter()},Yh.prototype[Symbol.iterator]=G6.prototype[Symbol.iterator]=Q6.prototype[Symbol.iterator]=function(){return this});class gre{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function If(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function gi(t,e,n=!0,r=!0){return hre(t,e,n,r)}function vre(t){return t>=56320&&t<57344}function yre(t){return t>=55296&&t<56320}function J6(t,e){let n=t.charCodeAt(e);if(!yre(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return vre(r)?(n-55296<<10)+(r-56320)+65536:n}function bre(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function e8(t){return t<65536?1:2}const Dx=/\r\n?|\n/;var Vi=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Vi||(Vi={}));class Sa{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){Rx(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Sa(e)}composeDesc(e){return this.empty?e:e.empty?this:t8(this,e)}mapDesc(e,n=!1){return e.empty?this:Mx(this,e,n)}mapPos(e,n=-1,r=Vi.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],u=this.sections[s++],f=i+l;if(u<0){if(f>e)return o+(e-i);o+=l}else{if(r!=Vi.Simple&&f>=e&&(r==Vi.TrackDel&&i<e&&f>e||r==Vi.TrackBefore&&i<e||r==Vi.TrackAfter&&f>e))return null;if(f>e||f==e&&n<0&&!l)return e==i||n<0?o:o+u;o+=u}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],l=i+o;if(s>=0&&i<=n&&l>=e)return i<e&&l>n?"cover":!0;i=l}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Sa(e)}static create(e){return new Sa(e)}}class zr extends Sa{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Rx(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return Mx(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=s;let u=i>>1;for(;r.length<u;)r.push(rn.empty);r.push(s?e.slice(o,o+s):rn.empty)}o+=s}return new zr(n,r)}compose(e){return this.empty?e:e.empty?this:t8(this,e,!0)}map(e,n=!1){return e.empty?this:Mx(this,e,n,!0)}iterChanges(e,n=!1){Rx(this,e,n)}get desc(){return Sa.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new gp(this);e:for(let s=0,l=0;;){let u=s==e.length?1e9:e[s++];for(;l<u||l==u&&o.len==0;){if(o.done)break e;let h=Math.min(o.len,u-l);ri(i,h,-1);let p=o.ins==-1?-1:o.off==0?o.ins:0;ri(n,h,p),p>0&&El(r,n,o.text),o.forward(h),l+=h}let f=e[s++];for(;l<f;){if(o.done)break e;let h=Math.min(o.len,f-l);ri(n,h,-1),ri(i,h,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(h),l+=h}}return{changes:new zr(n,r),filtered:Sa.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,l=null;function u(h=!1){if(!h&&!i.length)return;s<n&&ri(i,n-s,-1);let p=new zr(i,o);l=l?l.compose(p.map(l)):p,i=[],o=[],s=0}function f(h){if(Array.isArray(h))for(let p of h)f(p);else if(h instanceof zr){if(h.length!=n)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${n})`);u(),l=l?l.compose(h.map(l)):h}else{let{from:p,to:g=p,insert:v}=h;if(p>g||p<0||g>n)throw new RangeError(`Invalid change range ${p} to ${g} (in doc of length ${n})`);let b=v?typeof v=="string"?rn.of(v.split(r||Dx)):v:rn.empty,y=b.length;if(p==g&&y==0)return;p<s&&u(),p>s&&ri(i,p-s,-1),ri(i,g-p,y),El(o,i,b),s=g}}return f(e),u(!l),l}static empty(e){return new zr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(rn.empty);r[i]=rn.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new zr(n,r)}static createSet(e,n){return new zr(e,n)}}function ri(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function El(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(rn.empty);t.push(n)}}function Rx(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let l=t.sections[s++],u=t.sections[s++];if(u<0)i+=l,o+=l;else{let f=i,h=o,p=rn.empty;for(;f+=l,h+=u,u&&r&&(p=p.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)l=t.sections[s++],u=t.sections[s++];e(i,f,o,h,p),i=f,o=h}}}function Mx(t,e,n,r=!1){let i=[],o=r?[]:null,s=new gp(t),l=new gp(e);for(let u=-1;;){if(s.done&&l.len||l.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&l.ins==-1){let f=Math.min(s.len,l.len);ri(i,f,-1),s.forward(f),l.forward(f)}else if(l.ins>=0&&(s.ins<0||u==s.i||s.off==0&&(l.len<s.len||l.len==s.len&&!n))){let f=l.len;for(ri(i,l.ins,-1);f;){let h=Math.min(s.len,f);s.ins>=0&&u<s.i&&s.len<=h&&(ri(i,0,s.ins),o&&El(o,i,s.text),u=s.i),s.forward(h),f-=h}l.next()}else if(s.ins>=0){let f=0,h=s.len;for(;h;)if(l.ins==-1){let p=Math.min(h,l.len);f+=p,h-=p,l.forward(p)}else if(l.ins==0&&l.len<h)h-=l.len,l.next();else break;ri(i,f,u<s.i?s.ins:0),o&&u<s.i&&El(o,i,s.text),u=s.i,s.forward(s.len-h)}else{if(s.done&&l.done)return o?zr.createSet(i,o):Sa.create(i);throw new Error("Mismatched change set lengths")}}}function t8(t,e,n=!1){let r=[],i=n?[]:null,o=new gp(t),s=new gp(e);for(let l=!1;;){if(o.done&&s.done)return i?zr.createSet(r,i):Sa.create(r);if(o.ins==0)ri(r,o.len,0,l),o.next();else if(s.len==0&&!s.done)ri(r,0,s.ins,l),i&&El(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let u=Math.min(o.len2,s.len),f=r.length;if(o.ins==-1){let h=s.ins==-1?-1:s.off?0:s.ins;ri(r,u,h,l),i&&h&&El(i,r,s.text)}else s.ins==-1?(ri(r,o.off?0:o.len,u,l),i&&El(i,r,o.textBit(u))):(ri(r,o.off?0:o.len,s.off?0:s.ins,l),i&&!s.off&&El(i,r,s.text));l=(o.ins>u||s.ins>=0&&s.len>u)&&(l||r.length>f),o.forward2(u),s.forward(u)}}}}class gp{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?rn.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?rn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Fc{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Fc(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return rt.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return rt.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return rt.range(e.anchor,e.head)}static create(e,n,r){return new Fc(e,n,r)}}class rt{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:rt.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new rt([this.main],0)}addRange(e,n=!0){return rt.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,rt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new rt(e.ranges.map(n=>Fc.fromJSON(n)),e.main)}static single(e,n=e){return new rt([rt.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return rt.normalized(e.slice(),n);r=o.to}return new rt(e,n)}static cursor(e,n=0,r,i){return Fc.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Fc.create(n,e,48|o):Fc.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,u=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?rt.range(u,l):rt.range(l,u))}}return new rt(e,n)}}function n8(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let k_=0;class Bt{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=k_++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Bt(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:E_),!!e.static,e.enables)}of(e){return new dv([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new dv(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new dv(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function E_(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class dv{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=k_++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,l=this.type==2,u=!1,f=!1,h=[];for(let p of this.dependencies)p=="doc"?u=!0:p=="selection"?f=!0:(((n=e[p.id])!==null&&n!==void 0?n:1)&1)==0&&h.push(e[p.id]);return{create(p){return p.values[s]=r(p),1},update(p,g){if(u&&g.docChanged||f&&(g.docChanged||g.selection)||Nx(p,h)){let v=r(p);if(l?!v4(v,p.values[s],i):!i(v,p.values[s]))return p.values[s]=v,1}return 0},reconfigure:(p,g)=>{let v,b=g.config.address[o];if(b!=null){let y=Zv(g,b);if(this.dependencies.every(_=>_ instanceof Bt?g.facet(_)===p.facet(_):_ instanceof fu?g.field(_,!1)==p.field(_,!1):!0)||(l?v4(v=r(p),y,i):i(v=r(p),y)))return p.values[s]=y,0}else v=r(p);return p.values[s]=v,1}}}}function v4(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Nx(t,e){let n=!1;for(let r of e)Zh(t,r)&1&&(n=!0);return n}function wre(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),o=r.filter(u=>!(u&1)),s=t[e.id]>>1;function l(u){let f=[];for(let h=0;h<r.length;h++){let p=Zv(u,r[h]);if(i[h]==2)for(let g of p)f.push(g);else f.push(p)}return e.combine(f)}return{create(u){for(let f of r)Zh(u,f);return u.values[s]=l(u),1},update(u,f){if(!Nx(u,o))return 0;let h=l(u);return e.compare(h,u.values[s])?0:(u.values[s]=h,1)},reconfigure(u,f){let h=Nx(u,r),p=f.config.facets[e.id],g=f.facet(e);if(p&&!h&&E_(n,p))return u.values[s]=g,0;let v=l(u);return e.compare(v,g)?(u.values[s]=g,0):(u.values[s]=v,1)}}}const Dg=Bt.define({static:!0});class fu{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new fu(k_++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Dg).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>{let o=r.facet(Dg),s=i.facet(Dg),l;return(l=o.find(u=>u.field==this))&&l!=s.find(u=>u.field==this)?(r.values[n]=l.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,Dg.of({field:this,create:e})]}get extension(){return this}}const Lc={lowest:4,low:3,default:2,high:1,highest:0};function Dh(t){return e=>new r8(e,t)}const A_={highest:Dh(Lc.highest),high:Dh(Lc.high),default:Dh(Lc.default),low:Dh(Lc.low),lowest:Dh(Lc.lowest)};class r8{constructor(e,n){this.inner=e,this.prec=n}}class f0{of(e){return new jx(this,e)}reconfigure(e){return f0.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class jx{constructor(e,n){this.compartment=e,this.inner=n}}class Yv{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let g of xre(e,n,s))g instanceof fu?i.push(g):(o[g.facet.id]||(o[g.facet.id]=[])).push(g);let l=Object.create(null),u=[],f=[];for(let g of i)l[g.id]=f.length<<1,f.push(v=>g.slot(v));let h=r?.config.facets;for(let g in o){let v=o[g],b=v[0].facet,y=h&&h[g]||[];if(v.every(_=>_.type==0))if(l[b.id]=u.length<<1|1,E_(y,v))u.push(r.facet(b));else{let _=b.combine(v.map(E=>E.value));u.push(r&&b.compare(_,r.facet(b))?r.facet(b):_)}else{for(let _ of v)_.type==0?(l[_.id]=u.length<<1|1,u.push(_.value)):(l[_.id]=f.length<<1,f.push(E=>_.dynamicSlot(E)));l[b.id]=f.length<<1,f.push(_=>wre(_,b,v))}}let p=f.map(g=>g(l));return new Yv(e,s,p,l,u,o)}}function xre(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,l){let u=i.get(s);if(u!=null){if(u<=l)return;let f=r[u].indexOf(s);f>-1&&r[u].splice(f,1),s instanceof jx&&n.delete(s.compartment)}if(i.set(s,l),Array.isArray(s))for(let f of s)o(f,l);else if(s instanceof jx){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(s.compartment)||s.inner;n.set(s.compartment,f),o(f,l)}else if(s instanceof r8)o(s.inner,s.prec);else if(s instanceof fu)r[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof dv)r[l].push(s),s.facet.extensions&&o(s.facet.extensions,Lc.default);else{let f=s.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(f,l)}}return o(t,Lc.default),r.reduce((s,l)=>s.concat(l))}function Zh(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Zv(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const i8=Bt.define(),zx=Bt.define({combine:t=>t.some(e=>e),static:!0}),o8=Bt.define({combine:t=>t.length?t[0]:void 0,static:!0}),s8=Bt.define(),a8=Bt.define(),l8=Bt.define(),c8=Bt.define({combine:t=>t.length?t[0]:!1});class hd{constructor(e,n){this.type=e,this.value=n}static define(){return new Sre}}class Sre{of(e){return new hd(this,e)}}class _re{constructor(e){this.map=e}of(e){return new Ar(this,e)}}class Ar{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Ar(this.type,n)}is(e){return this.type==e}static define(e={}){return new _re(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}Ar.reconfigure=Ar.define();Ar.appendConfig=Ar.define();class si{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&n8(r,n.newLength),o.some(l=>l.type==si.time)||(this.annotations=o.concat(si.time.of(Date.now())))}static create(e,n,r,i,o,s){return new si(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(si.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}si.time=hd.define();si.userEvent=hd.define();si.addToHistory=hd.define();si.remote=hd.define();function Cre(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function u8(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=zr.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Ar.mapEffects(t.effects,i).concat(Ar.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Px(t,e,n){let r=e.selection,i=Sf(e.annotations);return e.userEvent&&(i=i.concat(si.userEvent.of(e.userEvent))),{changes:e.changes instanceof zr?e.changes:zr.of(e.changes||[],n,t.facet(o8)),selection:r&&(r instanceof rt?r:rt.single(r.anchor,r.head)),effects:Sf(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function f8(t,e,n){let r=Px(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=u8(r,Px(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=si.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Ere(n?kre(i):i)}function kre(t){let e=t.startState,n=!0;for(let i of e.facet(s8)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:Cre(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=zr.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=si.create(e,i,t.selection&&t.selection.map(o),Ar.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(a8);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof si?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof si?t=o[0]:t=f8(e,Sf(o),!1)}return t}function Ere(t){let e=t.startState,n=e.facet(l8),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=u8(r,Px(e,o,t.changes.newLength),!0))}return r==t?t:si.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Are=[];function Sf(t){return t==null?Are:Array.isArray(t)?t:[t]}var va=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(va||(va={}));const Ore=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Lx;try{Lx=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Tre(t){if(Lx)return Lx.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Ore.test(n)))return!0}return!1}function Dre(t){return e=>{if(!/\S/.test(e))return va.Space;if(Tre(e))return va.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return va.Word;return va.Other}}class un{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Zh(this,l<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Zh(this,r),Zv(this,r)}update(...e){return f8(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let l of e.effects)l.is(f0.reconfigure)?(n&&(i=new Map,n.compartments.forEach((u,f)=>i.set(f,u)),n=null),i.set(l.value.compartment,l.value.extension)):l.is(Ar.reconfigure)?(n=null,r=l.value):l.is(Ar.appendConfig)&&(n=null,r=Sf(r).concat(l.value));let o;n?o=e.startState.values.slice():(n=Yv.resolve(r,i,this),o=new un(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,f)=>f.reconfigure(u,this),null).values);let s=e.startState.facet(zx)?e.newSelection:e.newSelection.asSingle();new un(n,e.newDoc,s,o,(l,u)=>u.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:rt.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=Sf(r.effects);for(let l=1;l<n.ranges.length;l++){let u=e(n.ranges[l]),f=this.changes(u.changes),h=f.map(i);for(let g=0;g<l;g++)o[g]=o[g].map(h);let p=i.mapDesc(f,!0);o.push(u.range.map(p)),i=i.compose(h),s=Ar.mapEffects(s,h).concat(Ar.mapEffects(Sf(u.effects),p))}return{changes:i,selection:rt.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof zr?e:zr.of(e,this.doc.length,this.facet(un.lineSeparator))}toText(e){return rn.of(e.split(this.facet(un.lineSeparator)||Dx))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Zh(this,n),Zv(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof fu&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],l=e[o];i.push(s.init(u=>s.spec.fromJSON(l,u)))}}return un.create({doc:e.doc,selection:rt.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Yv.resolve(e.extensions||[],new Map),r=e.doc instanceof rn?e.doc:rn.of((e.doc||"").split(n.staticFacet(un.lineSeparator)||Dx)),i=e.selection?e.selection instanceof rt?e.selection:rt.single(e.selection.anchor,e.selection.head):rt.single(0);return n8(i,r.length),n.staticFacet(zx)||(i=i.asSingle()),new un(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(un.tabSize)}get lineBreak(){return this.facet(un.lineSeparator)||`
`}get readOnly(){return this.facet(c8)}phrase(e,...n){for(let r of this.facet(un.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(i8))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return Dre(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,l=e-r;for(;s>0;){let u=gi(n,s,!1);if(o(n.slice(u,s))!=va.Word)break;s=u}for(;l<i;){let u=gi(n,l);if(o(n.slice(l,u))!=va.Word)break;l=u}return s==l?null:rt.range(s+r,l+r)}}un.allowMultipleSelections=zx;un.tabSize=Bt.define({combine:t=>t.length?t[0]:4});un.lineSeparator=o8;un.readOnly=c8;un.phrases=Bt.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});un.languageData=i8;un.changeFilter=s8;un.transactionFilter=a8;un.transactionExtender=l8;f0.reconfigure=Ar.define();function Rre(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],l=r[o];if(l===void 0)r[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class $f{eq(e){return this==e}range(e,n=e){return Bx.create(e,n,this)}}$f.prototype.startSide=$f.prototype.endSide=0;$f.prototype.point=!1;$f.prototype.mapMode=Vi.TrackDel;let Bx=class d8{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new d8(e,n,r)}};function Ix(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class O_{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,l=o.length;;){if(s==l)return s;let u=s+l>>1,f=o[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==s)return f>=0?s:l;f>=0?l=u:s=u+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,l=-1;for(let u=0;u<this.value.length;u++){let f=this.value[u],h=this.from[u]+e,p=this.to[u]+e,g,v;if(h==p){let b=n.mapPos(h,f.startSide,f.mapMode);if(b==null||(g=v=b,f.startSide!=f.endSide&&(v=n.mapPos(h,f.endSide),v<g)))continue}else if(g=n.mapPos(h,f.startSide),v=n.mapPos(p,f.endSide),g>v||g==v&&f.startSide>0&&f.endSide<=0)continue;(v-g||f.endSide-f.startSide)<0||(s<0&&(s=g),f.point&&(l=Math.max(l,v-g)),r.push(f),i.push(g-s),o.push(v-s))}return{mapped:r.length?new O_(i,o,r,l):null,pos:s}}}class $n{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new $n(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(Ix)),this.isEmpty)return n.length?$n.of(n):this;let l=new h8(this,null,-1).goto(0),u=0,f=[],h=new vp;for(;l.value||u<n.length;)if(u<n.length&&(l.from-n[u].from||l.startSide-n[u].value.startSide)>=0){let p=n[u++];h.addInner(p.from,p.to,p.value)||f.push(p)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(l.chunkIndex)<n[u].from)&&(!s||i>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&h.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||i>l.to||o<l.from||s(l.from,l.to,l.value))&&(h.addInner(l.from,l.to,l.value)||f.push(Bx.create(l.from,l.to,l.value))),l.next());return h.finishInner(this.nextLayer.isEmpty&&!f.length?$n.empty:this.nextLayer.update({add:f,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],u=this.chunk[s],f=e.touchesRange(l,l+u.length);if(f===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(l));else if(f===!0){let{mapped:h,pos:p}=u.map(l,e);h&&(i=Math.max(i,h.maxPoint),n.push(h),r.push(p))}}let o=this.nextLayer.map(e);return n.length==0?o:new $n(r,n,o||$n.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return yp.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return yp.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=o),l=n.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=o),u=y4(s,l,r),f=new Rh(s,u,o),h=new Rh(l,u,o);r.iterGaps((p,g,v)=>b4(f,p,h,g,v,i)),r.empty&&r.length==0&&b4(f,0,h,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(h=>!h.isEmpty&&n.indexOf(h)<0),s=n.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=y4(o,s),u=new Rh(o,l,0).goto(r),f=new Rh(s,l,0).goto(r);for(;;){if(u.to!=f.to||!$x(u.active,f.active)||u.point&&(!f.point||!u.point.eq(f.point)))return!1;if(u.to>i)return!0;u.next(),f.next()}}static spans(e,n,r,i,o=-1){let s=new Rh(e,null,o).goto(n),l=n,u=s.openStart;for(;;){let f=Math.min(s.to,r);if(s.point){let h=s.activeForPoint(s.to),p=s.pointFrom<n?h.length+1:s.point.startSide<0?h.length:Math.min(h.length,u);i.point(l,f,s.point,h,p,s.pointRank),u=Math.min(s.openEnd(f),h.length)}else f>l&&(i.span(l,f,s.active,u),u=s.openEnd(f));if(s.to>r)return u+(s.point&&s.to>r?1:0);l=s.to,s.next()}}static of(e,n=!1){let r=new vp;for(let i of e instanceof Bx?[e]:n?Mre(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return $n.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=$n.empty;i=i.nextLayer)n=new $n(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}$n.empty=new $n([],[],null,-1);function Mre(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Ix(e,r)>0)return t.slice().sort(Ix);e=r}return t}$n.empty.nextLayer=$n.empty;class vp{finishChunk(e){this.chunks.push(new O_(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new vp)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner($n.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=$n.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function y4(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let l=r.get(o.chunk[s]);l!=null&&(n?n.mapPos(l):l)==o.chunkPos[s]&&!n?.touchesRange(l,l+o.chunk[s].length)&&i.add(o.chunk[s])}return i}class h8{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class yp{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new h8(s,n,r,o));return i.length==1?i[0]:new yp(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)uw(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)uw(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),uw(this.heap,0)}}}function uw(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Rh{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=yp.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Rg(this.active,e),Rg(this.activeTo,e),Rg(this.activeRank,e),this.minActive=w4(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Mg(this.active,n,r),Mg(this.activeTo,n,i),Mg(this.activeRank,n,o),e&&Mg(e,n,this.cursor.from),this.minActive=w4(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Rg(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function b4(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,l=r,u=r-e;for(;;){let f=t.to+u-n.to,h=f||t.endSide-n.endSide,p=h<0?t.to+u:n.to,g=Math.min(p,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&$x(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(l,g,t.point,n.point):g>l&&!$x(t.active,n.active)&&o.compareRange(l,g,t.active,n.active),p>s)break;(f||t.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(p),l=p,h<=0&&t.next(),h>=0&&n.next()}}function $x(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Rg(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Mg(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function w4(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function $p(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=gi(t,i));return r}function Fx(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=gi(t,i)}return r===!0?-1:t.length}const Ux="",x4=typeof Symbol>"u"?"__"+Ux:Symbol.for(Ux),Hx=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),S4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ff{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,u,f){let h=[],p=/^@(\w+)\b/.exec(s[0]),g=p&&p[1]=="keyframes";if(p&&l==null)return u.push(s[0]+";");for(let v in l){let b=l[v];if(/&/.test(v))o(v.split(/,\s*/).map(y=>s.map(_=>y.replace(/&/,_))).reduce((y,_)=>y.concat(_)),b,u);else if(b&&typeof b=="object"){if(!p)throw new RangeError("The value of a property ("+v+") should be a primitive value.");o(i(v),b,h,g)}else b!=null&&h.push(v.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+b+";")}(h.length||g)&&u.push((r&&!p&&!f?s.map(r):s).join(", ")+" {"+h.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=S4[x4]||1;return S4[x4]=e+1,Ux+e.toString(36)}static mount(e,n,r){let i=e[Hx],o=r&&r.nonce;i?o&&i.setNonce(o):i=new Nre(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let _4=new Map;class Nre{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=_4.get(r);if(o)return e[Hx]=o;this.sheet=new i.CSSStyleSheet,_4.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Hx]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let l=e[s],u=this.modules.indexOf(l);if(u<o&&u>-1&&(this.modules.splice(u,1),o--,u=-1),u==-1){if(this.modules.splice(o++,0,l),r)for(let f=0;f<l.rules.length;f++)r.insertRule(l.rules[f],i++)}else{for(;o<u;)i+=this.modules[o++].rules.length;i+=l.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let u=0;u<this.modules.length;u++)s+=this.modules[u].getRules()+`
`;this.styleTag.textContent=s;let l=n.head||n;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Bl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},jre=typeof navigator<"u"&&/Mac/.test(navigator.platform),zre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Vr=0;Vr<10;Vr++)Bl[48+Vr]=Bl[96+Vr]=String(Vr);for(var Vr=1;Vr<=24;Vr++)Bl[Vr+111]="F"+Vr;for(var Vr=65;Vr<=90;Vr++)Bl[Vr]=String.fromCharCode(Vr+32),bp[Vr]=String.fromCharCode(Vr);for(var fw in Bl)bp.hasOwnProperty(fw)||(bp[fw]=Bl[fw]);function Pre(t){var e=jre&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||zre&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?bp:Bl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function wp(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function qx(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function hv(t,e){if(!e.anchorNode)return!1;try{return qx(t,e.anchorNode)}catch{return!1}}function Uf(t){return t.nodeType==3?Qc(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Xh(t,e,n,r){return n?C4(t,e,n,r,-1)||C4(t,e,n,r,1):!1}function Gc(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Xv(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function C4(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:js(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=Gc(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?js(t):0}else return!1}}function js(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Fp(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Lre(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function p8(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function Bre(t,e,n,r,i,o,s,l){let u=t.ownerDocument,f=u.defaultView||window;for(let h=t,p=!1;h&&!p;)if(h.nodeType==1){let g,v=h==u.body,b=1,y=1;if(v)g=Lre(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(p=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let A=h.getBoundingClientRect();({scaleX:b,scaleY:y}=p8(h,A)),g={left:A.left,right:A.left+h.clientWidth*b,top:A.top,bottom:A.top+h.clientHeight*y}}let _=0,E=0;if(i=="nearest")e.top<g.top?(E=e.top-(g.top+s),n>0&&e.bottom>g.bottom+E&&(E=e.bottom-g.bottom+s)):e.bottom>g.bottom&&(E=e.bottom-g.bottom+s,n<0&&e.top-E<g.top&&(E=e.top-(g.top+s)));else{let A=e.bottom-e.top,O=g.bottom-g.top;E=(i=="center"&&A<=O?e.top+A/2-O/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-O+s)-g.top}if(r=="nearest"?e.left<g.left?(_=e.left-(g.left+o),n>0&&e.right>g.right+_&&(_=e.right-g.right+o)):e.right>g.right&&(_=e.right-g.right+o,n<0&&e.left<g.left+_&&(_=e.left-(g.left+o))):_=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==l?e.left-o:e.right-(g.right-g.left)+o)-g.left,_||E)if(v)f.scrollBy(_,E);else{let A=0,O=0;if(E){let T=h.scrollTop;h.scrollTop+=E/y,O=(h.scrollTop-T)*y}if(_){let T=h.scrollLeft;h.scrollLeft+=_/b,A=(h.scrollLeft-T)*b}e={left:e.left-A,top:e.top-O,right:e.right-A,bottom:e.bottom-O},A&&Math.abs(A-_)<1&&(r="nearest"),O&&Math.abs(O-E)<1&&(i="nearest")}if(v)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function Ire(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class $re{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?js(n):0),r,Math.min(e.focusOffset,r?js(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let of=null;function m8(t){if(t.setActive)return t.setActive();if(of)return t.focus(of);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(of==null?{get preventScroll(){return of={preventScroll:!0},!0}}:void 0),!of){of=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let k4;function Qc(t,e,n=e){let r=k4||(k4=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function _f(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function Fre(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function g8(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Ure(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,js(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=js(n))}else{if(n==t)return!0;r=Gc(n),n=n.parentNode}}function v8(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function y8(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=js(n)}else if(n.parentNode&&!Xv(n))r=Gc(n),n=n.parentNode;else return null}}function b8(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Xv(n))r=Gc(n)+1,n=n.parentNode;else return null}}class oi{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new oi(e.parentNode,Gc(e),n)}static after(e,n){return new oi(e.parentNode,Gc(e)+1,n)}}const T_=[];class On{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let l=On.get(o);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=E4(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=E4(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=js(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!On.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,l=-1;for(let u=0,f=r,h=r;u<this.children.length;u++){let p=this.children[u],g=f+p.length;if(f<e&&g>n)return p.domBoundsAround(e,n,f);if(g>=e&&i==-1&&(i=u,o=f),f>n&&p.dom.parentNode==this.dom){s=u,l=h;break}h=g,f=g+p.breakAfter}return{from:o,to:l<0?r+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=T_){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new w8(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}On.prototype.breakAfter=0;function E4(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class w8{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function x8(t,e,n,r,i,o,s,l,u){let{children:f}=t,h=f.length?f[e]:null,p=o.length?o[o.length-1]:null,g=p?p.breakAfter:s;if(!(e==r&&h&&!s&&!g&&o.length<2&&h.merge(n,i,o.length?p:null,n==0,l,u))){if(r<f.length){let v=f[r];v&&(i<v.length||v.breakAfter&&p?.breakAfter)?(e==r&&(v=v.split(i),i=0),!g&&p&&v.merge(0,i,p,!0,0,u)?o[o.length-1]=v:((i||v.children.length&&!v.children[0].length)&&v.merge(0,i,null,!1,0,u),o.push(v))):v?.breakAfter&&(p?p.breakAfter=1:s=1),r++}for(h&&(h.breakAfter=s,n>0&&(!s&&o.length&&h.merge(n,h.length,o[0],!1,l,0)?h.breakAfter=o.shift().breakAfter:(n<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(n,h.length,null,!1,l,0),e++));e<r&&o.length;)if(f[r-1].become(o[o.length-1]))r--,o.pop(),u=o.length?0:l;else if(f[e].become(o[0]))e++,o.shift(),l=o.length?0:u;else break;!o.length&&e&&r<f.length&&!f[e-1].breakAfter&&f[r].merge(0,0,f[e-1],!1,l,u)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function S8(t,e,n,r,i,o){let s=t.childCursor(),{i:l,off:u}=s.findPos(n,1),{i:f,off:h}=s.findPos(e,-1),p=e-n;for(let g of r)p+=g.length;t.length+=p,x8(t,f,h,l,u,r,0,i,o)}let Ei=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Kx=typeof document<"u"?document:{documentElement:{style:{}}};const Vx=/Edge\/(\d+)/.exec(Ei.userAgent),_8=/MSIE \d/.test(Ei.userAgent),Wx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ei.userAgent),d0=!!(_8||Wx||Vx),A4=!d0&&/gecko\/(\d+)/i.test(Ei.userAgent),dw=!d0&&/Chrome\/(\d+)/.exec(Ei.userAgent),Hre="webkitFontSmoothing"in Kx.documentElement.style,C8=!d0&&/Apple Computer/.test(Ei.vendor),O4=C8&&(/Mobile\/\w+/.test(Ei.userAgent)||Ei.maxTouchPoints>2);var yt={mac:O4||/Mac/.test(Ei.platform),windows:/Win/.test(Ei.platform),linux:/Linux|X11/.test(Ei.platform),ie:d0,ie_version:_8?Kx.documentMode||6:Wx?+Wx[1]:Vx?+Vx[1]:0,gecko:A4,gecko_version:A4?+(/Firefox\/(\d+)/.exec(Ei.userAgent)||[0,0])[1]:0,chrome:!!dw,chrome_version:dw?+dw[1]:0,ios:O4,android:/Android\b/.test(Ei.userAgent),safari:C8,webkit_version:Hre?+(/\bAppleWebKit\/(\d+)/.exec(Ei.userAgent)||[0,0])[1]:0,tabSize:Kx.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const qre=256;class qo extends On{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof qo)||this.length-(n-e)+r.length>qre||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new qo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new oi(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Kre(this.dom,e,n)}}class Ea extends On{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(g8(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof Ea&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(S8(this,e,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let l of this.children){let u=r+l.length;u>e&&n.push(r<e?l.split(e-r):l),i<0&&r>=e&&(i=o),r=u,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Ea(this.mark,n,s)}domAtPos(e){return k8(this,e)}coordsAt(e,n){return A8(this,e,n)}}function Kre(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?yt.chrome||yt.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let l=Qc(t,i,o).getClientRects();if(!l.length)return null;let u=l[(s?s<0:n>=0)?0:l.length-1];return yt.safari&&!s&&u.width==0&&(u=Array.prototype.find.call(l,f=>f.width)||u),s?Fp(u,s<0):u||null}class Uc extends On{static create(e,n,r){return new Uc(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Uc.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof Uc)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Uc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return rn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):rn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?oi.before(this.dom):oi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let l=s?i.length-1:0;o=i[l],!(e>0?l==0:l==i.length-1||o.top<o.bottom);l+=s?-1:1);return Fp(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Hf extends On{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Hf&&e.side==this.side}split(){return new Hf(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?oi.before(this.dom):oi.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return rn.empty}get isHidden(){return!0}}qo.prototype.children=Uc.prototype.children=Hf.prototype.children=T_;function k8(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],l=o+s.length;if(!(l==o&&s.getSide()<=0)){if(e>o&&e<l&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new oi(n,0)}function E8(t,e,n){let r,{children:i}=t;n>0&&e instanceof Ea&&i.length&&(r=i[i.length-1])instanceof Ea&&r.mark.eq(e.mark)?E8(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function A8(t,e,n){let r=null,i=-1,o=null,s=-1;function l(f,h){for(let p=0,g=0;p<f.children.length&&g<=h;p++){let v=f.children[p],b=g+v.length;b>=h&&(v.children.length?l(v,h-g):(!o||o.isHidden&&(n>0||Wre(o,v)))&&(b>h||g==b&&v.getSide()>0)?(o=v,s=h-g):(g<h||g==b&&v.getSide()<0&&!v.isHidden)&&(r=v,i=h-g)),g=b}}l(t,e);let u=(n<0?r:o)||r||o;return u?u.coordsAt(Math.max(0,u==r?i:s),n):Vre(t)}function Vre(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Uf(e);return n[n.length-1]||null}function Wre(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function Yx(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const T4=Object.create(null);function Gv(t,e,n){if(t==e)return!0;t||(t=T4),e||(e=T4);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function Zx(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Yre(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Up{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Wi=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(Wi||(Wi={}));class rr extends $f{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Hp(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Il(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=O8(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Il(e,r,i,n,e.widget||null,!0)}static line(e){return new qp(e)}static set(e,n=!1){return $n.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}rr.none=$n.empty;class Hp extends rr{constructor(e){let{start:n,end:r}=O8(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Hp&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Gv(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Hp.prototype.point=!1;class qp extends rr{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof qp&&this.spec.class==e.spec.class&&Gv(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}qp.prototype.mapMode=Vi.TrackBefore;qp.prototype.point=!0;class Il extends rr{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?Vi.TrackBefore:Vi.TrackAfter:Vi.TrackDel}get type(){return this.startSide!=this.endSide?Wi.WidgetRange:this.startSide<=0?Wi.WidgetBefore:Wi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Il&&Zre(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Il.prototype.point=!0;function O8(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Zre(t,e){return t==e||!!(t&&e&&t.compare(e))}function pv(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class _r extends On{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof _r))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),S8(this,e,n,r?r.children.slice():[],o,s),!0}split(e){let n=new _r;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Gv(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){E8(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=Yx(n,this.attrs||{})),r&&(this.attrs=Yx({class:r},this.attrs||{}))}domAtPos(e){return k8(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(g8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Zx(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&On.get(i)instanceof Ea;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=On.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!yt.ios||!this.children.some(o=>o instanceof qo))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof qo)||/[^ -~]/.test(r.text))return null;let i=Uf(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=A8(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof _r&&this.children.length==0&&e.children.length==0&&Gv(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof _r)return o;if(s>n)break}i=s+o.breakAfter}return null}}class _a extends On{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof _a)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?oi.before(this.dom):oi.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new _a(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return T_}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):rn.empty}domBoundsAround(){return null}become(e){return e instanceof _a&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof Xx?null:Fp(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class Xx extends Up{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Gh{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof _a&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new _r),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ng(new Hf(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof _a)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:l,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),o=Math.min(i,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Ng(new qo(this.text.slice(this.textOff,this.textOff+o)),n),r),this.atCursorPos=!0,this.textOff+=o,e-=o,r=i<=o?0:n.length}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Il){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=n-e;if(r instanceof Il)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new _a(r.widget||qf.block,l,r));else{let u=Uc.create(r.widget||qf.inline,l,l?0:r.startSide),f=this.atCursorPos&&!u.isEditable&&o<=i.length&&(e<n||r.startSide>0),h=!u.isEditable&&(e<n||o>i.length||r.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!f&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),f&&(p.append(Ng(new Hf(1),i),o),o=i.length+Math.max(0,o-i.length)),p.append(Ng(u,i),o),this.atCursorPos=h,this.pendingBuffer=h?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new Gh(e,n,r,o);return s.openEnd=$n.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Ng(t,e){for(let n of e)t=new Ea(n,[t],t.length);return t}class qf extends Up{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}qf.inline=new qf("span");qf.block=new qf("div");var vr=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(vr||(vr={}));const Jc=vr.LTR,D_=vr.RTL;function T8(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Xre=T8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Gre=T8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Gx=Object.create(null),hs=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Gx[e]=n,Gx[n]=-e}function D8(t){return t<=247?Xre[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Gre[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Qre=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Al{get dir(){return this.level%2?D_:Jc}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=n&&l.to>=n){if(l.level==r)return s;(o<0||(i!=0?i<0?l.from<n:l.to>n:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function R8(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!R8(r.inner,i.inner))return!1}return!0}const An=[];function Jre(t,e,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,l=o<r.length?r[o].from:n,u=o?256:i;for(let f=s,h=u,p=u;f<l;f++){let g=D8(t.charCodeAt(f));g==512?g=h:g==8&&p==4&&(g=16),An[f]=g==4?2:g,g&7&&(p=g),h=g}for(let f=s,h=u,p=u;f<l;f++){let g=An[f];if(g==128)f<l-1&&h==An[f+1]&&h&24?g=An[f]=h:An[f]=256;else if(g==64){let v=f+1;for(;v<l&&An[v]==64;)v++;let b=f&&h==8||v<n&&An[v]==8?p==1?1:8:256;for(let y=f;y<v;y++)An[y]=b;f=v-1}else g==8&&p==1&&(An[f]=1);h=g,g&7&&(p=g)}}}function eie(t,e,n,r,i){let o=i==1?2:1;for(let s=0,l=0,u=0;s<=r.length;s++){let f=s?r[s-1].to:e,h=s<r.length?r[s].from:n;for(let p=f,g,v,b;p<h;p++)if(v=Gx[g=t.charCodeAt(p)])if(v<0){for(let y=l-3;y>=0;y-=3)if(hs[y+1]==-v){let _=hs[y+2],E=_&2?i:_&4?_&1?o:i:0;E&&(An[p]=An[hs[y]]=E),l=y;break}}else{if(hs.length==189)break;hs[l++]=p,hs[l++]=g,hs[l++]=u}else if((b=An[p])==2||b==1){let y=b==i;u=y?0:1;for(let _=l-3;_>=0;_-=3){let E=hs[_+2];if(E&2)break;if(y)hs[_+2]|=2;else{if(E&4)break;hs[_+2]|=4}}}}}function tie(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:t,l=i<n.length?n[i].from:e;for(let u=s;u<l;){let f=An[u];if(f==256){let h=u+1;for(;;)if(h==l){if(i==n.length)break;h=n[i++].to,l=i<n.length?n[i].from:e}else if(An[h]==256)h++;else break;let p=o==1,g=(h<e?An[h]:r)==1,v=p==g?p?1:2:r;for(let b=h,y=i,_=y?n[y-1].to:t;b>u;)b==_&&(b=n[--y].from,_=y?n[y-1].to:t),An[--b]=v;u=h}else o=f,u++}}}function Qx(t,e,n,r,i,o,s){let l=r%2?2:1;if(r%2==i%2)for(let u=e,f=0;u<n;){let h=!0,p=!1;if(f==o.length||u<o[f].from){let y=An[u];y!=l&&(h=!1,p=y==16)}let g=!h&&l==1?[]:null,v=h?r:r+1,b=u;e:for(;;)if(f<o.length&&b==o[f].from){if(p)break e;let y=o[f];if(!h)for(let _=y.to,E=f+1;;){if(_==n)break e;if(E<o.length&&o[E].from==_)_=o[E++].to;else{if(An[_]==l)break e;break}}if(f++,g)g.push(y);else{y.from>u&&s.push(new Al(u,y.from,v));let _=y.direction==Jc!=!(v%2);Jx(t,_?r+1:r,i,y.inner,y.from,y.to,s),u=y.to}b=y.to}else{if(b==n||(h?An[b]!=l:An[b]==l))break;b++}g?Qx(t,u,b,r+1,i,g,s):u<b&&s.push(new Al(u,b,v)),u=b}else for(let u=n,f=o.length;u>e;){let h=!0,p=!1;if(!f||u>o[f-1].to){let y=An[u-1];y!=l&&(h=!1,p=y==16)}let g=!h&&l==1?[]:null,v=h?r:r+1,b=u;e:for(;;)if(f&&b==o[f-1].to){if(p)break e;let y=o[--f];if(!h)for(let _=y.from,E=f;;){if(_==e)break e;if(E&&o[E-1].to==_)_=o[--E].from;else{if(An[_-1]==l)break e;break}}if(g)g.push(y);else{y.to<u&&s.push(new Al(y.to,u,v));let _=y.direction==Jc!=!(v%2);Jx(t,_?r+1:r,i,y.inner,y.from,y.to,s),u=y.from}b=y.from}else{if(b==e||(h?An[b-1]!=l:An[b-1]==l))break;b--}g?Qx(t,b,u,r+1,i,g,s):b<u&&s.push(new Al(b,u,v)),u=b}}function Jx(t,e,n,r,i,o,s){let l=e%2?2:1;Jre(t,i,o,r,l),eie(t,i,o,r,l),tie(i,o,r,l),Qx(t,i,o,e,n,r,s)}function nie(t,e,n){if(!t)return[new Al(0,0,e==D_?1:0)];if(e==Jc&&!n.length&&!Qre.test(t))return M8(t.length);if(n.length)for(;t.length>An.length;)An[An.length]=256;let r=[],i=e==Jc?0:1;return Jx(t,i,i,n,0,t.length,r),r}function M8(t){return[new Al(0,t,0)]}let N8="";function rie(t,e,n,r,i){var o;let s=r.head-t.from,l=Al.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),u=e[l],f=u.side(i,n);if(s==f){let g=l+=i?1:-1;if(g<0||g>=e.length)return null;u=e[l=g],s=u.side(!i,n),f=u.side(i,n)}let h=gi(t.text,s,u.forward(i,n));(h<u.from||h>u.to)&&(h=f),N8=t.text.slice(Math.min(s,h),Math.max(s,h));let p=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return p&&h==f&&p.level+(i?0:1)<u.level?rt.cursor(p.side(!i,n)+t.from,p.forward(i,n)?1:-1,p.level):rt.cursor(h+t.from,u.forward(i,n)?-1:1,u.level)}function iie(t,e,n){for(let r=e;r<n;r++){let i=D8(t.charCodeAt(r));if(i==1)return Jc;if(i==2||i==4)return D_}return Jc}const j8=Bt.define(),z8=Bt.define(),P8=Bt.define(),L8=Bt.define(),eS=Bt.define(),B8=Bt.define(),I8=Bt.define(),R_=Bt.define(),M_=Bt.define(),$8=Bt.define({combine:t=>t.some(e=>e)}),F8=Bt.define({combine:t=>t.some(e=>e)}),U8=Bt.define();class Cf{constructor(e,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new Cf(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Cf(rt.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const jg=Ar.define({map:(t,e)=>t.map(e)}),H8=Ar.define();function Ss(t,e,n){let r=t.facet(L8);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const ma=Bt.define({combine:t=>t.length?t[0]:!0});let oie=0;const pf=Bt.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Ko{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(pf.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(pf.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new Ko(oie++,e,r,i,l=>{let u=[];return s&&u.push(xp.of(f=>{let h=f.plugin(l);return h?s(h):rr.none})),o&&u.push(o(l)),u})}static fromClass(e,n){return Ko.define((r,i)=>new e(r,i),n)}}class hw{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Ss(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Ss(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Ss(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const q8=Bt.define(),N_=Bt.define(),xp=Bt.define(),K8=Bt.define(),Kp=Bt.define(),V8=Bt.define();function D4(t,e){let n=t.state.facet(V8);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return $n.spans(r,e.from,e.to,{point(){},span(o,s,l,u){let f=o-e.from,h=s-e.from,p=i;for(let g=l.length-1;g>=0;g--,u--){let v=l[g].spec.bidiIsolate,b;if(v==null&&(v=iie(e.text,f,h)),u>0&&p.length&&(b=p[p.length-1]).to==f&&b.direction==v)b.to=h,p=b.inner;else{let y={from:f,to:h,direction:v,inner:[]};p.push(y),p=y.inner}}}}),i}const W8=Bt.define();function Y8(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(W8)){let s=o(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Uh=Bt.define();class vo{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new vo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,l=0;;i++){let u=i==e.length?null:e[i],f=s-l,h=u?u.fromB:1e9;for(;o<n.length&&n[o]<h;){let p=n[o],g=n[o+1],v=Math.max(l,p),b=Math.min(h,g);if(v<=b&&new vo(v+f,b+f,v,b).addToSet(r),g>h)break;o+=2}if(!u)return r;new vo(u.fromA,u.toA,u.fromB,u.toB).addToSet(r),s=u.toA,l=u.toB}}}class Qv{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=zr.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,l,u)=>i.push(new vo(o,s,l,u))),this.changedRanges=i}static create(e,n,r){return new Qv(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class R4 extends On{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=rr.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new _r],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new vo(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:f,toA:h})=>h<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!die(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?aie(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:h}=this.hasComposition;r=new vo(f,h,e.changes.mapPos(f,-1),e.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(yt.ie||yt.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,l=this.updateDeco(),u=uie(s,l,e.changes);return r=vo.extendWithRanges(r,u),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=yt.chrome||yt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof _a&&s.widget instanceof Xx&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let s=i.length-1;;s--){let l=s>=0?i[s]:null;if(!l)break;let{fromA:u,toA:f,fromB:h,toB:p}=l,g,v,b,y;if(r&&r.range.fromB<p&&r.range.toB>h){let T=Gh.build(this.view.state.doc,h,r.range.fromB,this.decorations,this.dynamicDecorationMap),R=Gh.build(this.view.state.doc,r.range.toB,p,this.decorations,this.dynamicDecorationMap);v=T.breakAtStart,b=T.openStart,y=R.openEnd;let N=this.compositionView(r);R.breakAtStart?N.breakAfter=1:R.content.length&&N.merge(N.length,N.length,R.content[0],!1,R.openStart,0)&&(N.breakAfter=R.content[0].breakAfter,R.content.shift()),T.content.length&&N.merge(0,0,T.content[T.content.length-1],!0,0,T.openEnd)&&T.content.pop(),g=T.content.concat(N).concat(R.content)}else({content:g,breakAtStart:v,openStart:b,openEnd:y}=Gh.build(this.view.state.doc,h,p,this.decorations,this.dynamicDecorationMap));let{i:_,off:E}=o.findPos(f,1),{i:A,off:O}=o.findPos(u,-1);x8(this,A,O,_,E,g,v,b,y)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(H8)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new qo(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Ea(i,[n],n.length);let r=new _r;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,s)=>{s.flags|=8|(s.children.some(u=>u.flags&7)?1:0),this.markedForComposition.add(s);let l=On.get(o);l&&l!=s&&(l.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(ma)||this.dom.tabIndex>-1)&&hv(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(l.anchor)),f=l.empty?u:this.moveToLine(this.domAtPos(l.head));if(yt.gecko&&l.empty&&!this.hasComposition&&sie(u)){let p=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(p,u.node.childNodes[u.offset]||null)),u=f=new oi(p,0),s=!0}let h=this.view.observer.selectionRange;(s||!h.focusNode||(!Xh(u.node,u.offset,h.anchorNode,h.anchorOffset)||!Xh(f.node,f.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,l))&&(this.view.observer.ignore(()=>{yt.android&&yt.chrome&&this.dom.contains(h.focusNode)&&fie(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let p=wp(this.view.root);if(p)if(l.empty){if(yt.gecko){let g=lie(u.node,u.offset);if(g&&g!=3){let v=(g==1?y8:b8)(u.node,u.offset);v&&(u=new oi(v.node,v.offset))}}p.collapse(u.node,u.offset),l.bidiLevel!=null&&p.caretBidiLevel!==void 0&&(p.caretBidiLevel=l.bidiLevel)}else if(p.extend){p.collapse(u.node,u.offset);try{p.extend(f.node,f.offset)}catch{}}else{let g=document.createRange();l.anchor>l.head&&([u,f]=[f,u]),g.setEnd(f.node,f.offset),g.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(g)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(u,f)),this.impreciseAnchor=u.precise?null:new oi(h.anchorNode,h.anchorOffset),this.impreciseHead=f.precise?null:new oi(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Xh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=wp(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=_r.find(this,n.head);if(!s)return;let l=s.posAtStart;if(n.head==l||n.head==l+s.length)return;let u=this.coordsAt(n.head,-1),f=this.coordsAt(n.head,1);if(!u||!f||u.bottom>f.top)return;let h=this.domAtPos(n.head+n.assoc);r.collapse(h.node,h.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=On.get(n.childNodes[i]);o instanceof _r&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=On.get(n.childNodes[i]);o instanceof _r&&(r=o.domAtPos(o.length))}return r?new oi(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=On.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof _r)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let l=this.children[s],u=o-l.breakAfter,f=u-l.length;if(u<e)break;if(f<=e&&(f<e||l.covers(-1))&&(u>e||l.covers(1))&&(!r||l instanceof _r&&!(r instanceof _r&&n>=0)))r=l,i=f;else if(r&&f==e&&u==e&&l instanceof _a&&Math.abs(n)<2){if(l.deco.startSide<0)break;s&&(r=null)}o=f}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof _r))return null;for(;i.children.length;){let{i:l,off:u}=i.childPos(r,1);for(;;l++){if(l==i.children.length)return null;if((i=i.children[l]).length)break}r=u}if(!(i instanceof qo))return null;let o=gi(i.text,r);if(o==r)return null;let s=Qc(i.dom,r,o).getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(l==s.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,u=this.view.textDirection==vr.LTR;for(let f=0,h=0;h<this.children.length;h++){let p=this.children[h],g=f+p.length;if(g>i)break;if(f>=r){let v=p.dom.getBoundingClientRect();if(n.push(v.height),s){let b=p.dom.lastChild,y=b?Uf(b):[];if(y.length){let _=y[y.length-1],E=u?_.right-v.left:v.right-_.left;E>l&&(l=E,this.minWidth=o,this.minWidthFrom=f,this.minWidthTo=g)}}}f=g+p.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?vr.RTL:vr.LTR}measureTextSize(){for(let o of this.children)if(o instanceof _r){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Uf(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new w8(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let l=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(rr.replace({widget:new Xx(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return rr.set(e)}updateDeco(){let e=1,n=this.view.state.facet(xp).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(K8).map((o,s)=>{let l=typeof o=="function";return l&&(r=!0),l?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push($n.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(U8))try{if(f(this.view,e.range,e))return!0}catch(h){Ss(this.view.state,h,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=Y8(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:l,offsetHeight:u}=this.view.scrollDOM;Bre(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==vr.LTR)}}function sie(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function Z8(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=y8(n.focusNode,n.focusOffset),i=b8(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let l=On.get(i.node);if(!l||l instanceof qo&&l.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let u=On.get(r.node);!u||u instanceof qo&&u.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function aie(t,e,n){let r=Z8(t,n);if(!r)return null;let{node:i,from:o,to:s}=r,l=i.nodeValue;if(/[\n\r]/.test(l)||t.state.doc.sliceString(r.from,r.to)!=l)return null;let u=e.invertedDesc,f=new vo(u.mapPos(o),u.mapPos(s),o,s),h=[];for(let p=i.parentNode;;p=p.parentNode){let g=On.get(p);if(g instanceof Ea)h.push({node:p,deco:g.mark});else{if(g instanceof _r||p.nodeName=="DIV"&&p.parentNode==t.contentDOM)return{range:f,text:i,marks:h,line:p};if(p!=t.contentDOM)h.push({node:p,deco:new Hp({inclusive:!0,attributes:Yre(p),tagName:p.tagName.toLowerCase()})});else return null}}}function lie(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let cie=class{constructor(){this.changes=[]}compareRange(e,n){pv(e,n,this.changes)}comparePoint(e,n){pv(e,n,this.changes)}boundChange(e){pv(e,e,this.changes)}};function uie(t,e,n){let r=new cie;return $n.compare(t,e,n,r),r.changes}function fie(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function die(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function hie(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return rt.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,l=o;n<0?s=gi(i.text,o,!1):l=gi(i.text,o);let u=r(i.text.slice(s,l));for(;s>0;){let f=gi(i.text,s,!1);if(r(i.text.slice(f,s))!=u)break;s=f}for(;l<i.length;){let f=gi(i.text,l);if(r(i.text.slice(l,f))!=u)break;l=f}return rt.range(s+i.from,l+i.from)}function pie(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function mie(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function pw(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function M4(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function N4(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function tS(t,e,n){let r,i,o,s,l=!1,u,f,h,p;for(let b=t.firstChild;b;b=b.nextSibling){let y=Uf(b);for(let _=0;_<y.length;_++){let E=y[_];i&&pw(i,E)&&(E=M4(N4(E,i.bottom),i.top));let A=pie(e,E),O=mie(n,E);if(A==0&&O==0)return b.nodeType==3?j4(b,e,n):tS(b,e,n);(!r||s>O||s==O&&o>A)&&(r=b,i=E,o=A,s=O,l=A?e<E.left?_>0:_<y.length-1:!0),A==0?n>E.bottom&&(!h||h.bottom<E.bottom)?(u=b,h=E):n<E.top&&(!p||p.top>E.top)&&(f=b,p=E):h&&pw(h,E)?h=N4(h,E.bottom):p&&pw(p,E)&&(p=M4(p,E.top))}}if(h&&h.bottom>=n?(r=u,i=h):p&&p.top<=n&&(r=f,i=p),!r)return{node:t,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return j4(r,g,n);if(l&&r.contentEditable!="false")return tS(r,g,n);let v=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:v}}function j4(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let l=0;l<r;l++){let u=Qc(t,l,l+1).getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(h.top==h.bottom)continue;s||(s=e-h.left);let p=(h.top>n?h.top-n:n-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&p<o){let g=e>=(h.left+h.right)/2,v=g;if((yt.chrome||yt.gecko)&&Qc(t,l).getBoundingClientRect().left==h.right&&(v=!g),p<=0)return{node:t,offset:l+(v?1:0)};i=l+(v?1:0),o=p}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function X8(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),l=s.top+t.viewState.paddingTop,u,{docHeight:f}=t.viewState,{x:h,y:p}=e,g=p-l;if(g<0)return 0;if(g>f)return t.state.doc.length;for(let T=t.viewState.heightOracle.textHeight/2,R=!1;u=t.elementAtHeight(g),u.type!=Wi.Text;)for(;g=r>0?u.bottom+T:u.top-T,!(g>=0&&g<=f);){if(R)return n?null:0;R=!0,r=-r}p=l+g;let v=u.from;if(v<t.viewport.from)return t.viewport.from==0?0:n?null:z4(t,s,u,h,p);if(v>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:z4(t,s,u,h,p);let b=t.dom.ownerDocument,y=t.root.elementFromPoint?t.root:b,_=y.elementFromPoint(h,p);_&&!t.contentDOM.contains(_)&&(_=null),_||(h=Math.max(s.left+1,Math.min(s.right-1,h)),_=y.elementFromPoint(h,p),_&&!t.contentDOM.contains(_)&&(_=null));let E,A=-1;if(_&&((i=t.docView.nearest(_))===null||i===void 0?void 0:i.isEditable)!=!1){if(b.caretPositionFromPoint){let T=b.caretPositionFromPoint(h,p);T&&({offsetNode:E,offset:A}=T)}else if(b.caretRangeFromPoint){let T=b.caretRangeFromPoint(h,p);T&&({startContainer:E,startOffset:A}=T)}E&&(!t.contentDOM.contains(E)||yt.safari&&gie(E,A,h)||yt.chrome&&vie(E,A,h))&&(E=void 0),E&&(A=Math.min(js(E),A))}if(!E||!t.docView.dom.contains(E)){let T=_r.find(t.docView,v);if(!T)return g>u.top+u.height/2?u.to:u.from;({node:E,offset:A}=tS(T.dom,h,p))}let O=t.docView.nearest(E);if(!O)return null;if(O.isWidget&&((o=O.dom)===null||o===void 0?void 0:o.nodeType)==1){let T=O.dom.getBoundingClientRect();return e.y<T.top||e.y<=T.bottom&&e.x<=(T.left+T.right)/2?O.posAtStart:O.posAtEnd}else return O.localPosFromDOM(E,A)+O.posAtStart}function z4(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let l=t.viewState.heightOracle.textHeight,u=Math.floor((i-n.top-(t.defaultLineHeight-l)*.5)/l);o+=u*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+Fx(s,o,t.state.tabSize)}function G8(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let o=i.nextSibling;if(o){if(o.nodeName=="BR")break;return!1}else{let s=i.parentNode;if(!s||s.nodeName=="DIV")break;i=s}}return Qc(t,r-1,r).getBoundingClientRect().right>n}function gie(t,e,n){return G8(t,e,n)}function vie(t,e,n){if(e!=0)return G8(t,e,n);for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():Qc(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function nS(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==Wi.Text&&(i.type!=o.type||(n<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function yie(t,e,n,r){let i=nS(t,e.head,e.assoc||-1),o=!r||i.type!=Wi.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=t.dom.getBoundingClientRect(),l=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(l==vr.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(u!=null)return rt.cursor(u,n?-1:1)}return rt.cursor(n?i.to:i.from,n?-1:1)}function P4(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let l=e,u=null;;){let f=rie(i,o,s,l,n),h=N8;if(!f){if(i.number==(n?t.state.doc.lines:1))return l;h=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),f=t.visualLineSide(i,!n)}if(u){if(!u(h))return l}else{if(!r)return f;u=r(h)}l=f}}function bie(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==va.Space&&(i=s),i==s}}function wie(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return rt.cursor(i,e.assoc);let s=e.goalColumn,l,u=t.contentDOM.getBoundingClientRect(),f=t.coordsAtPos(i,e.assoc||-1),h=t.documentTop;if(f)s==null&&(s=f.left-u.left),l=o<0?f.top:f.bottom;else{let v=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-v.from))),l=(o<0?v.top:v.bottom)+h}let p=u.left+s,g=r??t.viewState.heightOracle.textHeight>>1;for(let v=0;;v+=10){let b=l+(g+v)*o,y=X8(t,{x:p,y:b},!1,o);if(b<u.top||b>u.bottom||(o<0?y<i:y>i)){let _=t.docView.coordsForChar(y),E=!_||b<_.top?-1:1;return rt.cursor(y,E,void 0,s)}}}function Qh(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,s,l)=>{if(e>o&&e<s){let u=r||n||(e-o<s-e?-1:1);e=u<0?o:s,r=u}});if(!r)return e}}function Q8(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=Qh(t,i.from,0);s!=i.from&&(o=rt.cursor(s,-1))}else{let s=Qh(t,i.from,-1),l=Qh(t,i.to,1);(s!=i.from||l!=i.to)&&(o=rt.range(i.from==i.anchor?s:l,i.from==i.head?s:l))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?rt.create(n,e.mainIndex):e}function mw(t,e,n){let r=Qh(t.state.facet(Kp).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:rt.cursor(r,r<n.from?1:-1)}const Hh="";class xie{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(un.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Hh}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let l=On.get(i),u=On.get(s);(l&&u?l.breakAfter:(l?l.breakAfter:Xv(i))||Xv(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(l=i.exec(n))&&(o=l.index,s=l[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=On.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Sie(e,r.node,r.offset)?n:0))}}function Sie(t,e,n){for(;;){if(!e||n<js(e))return!1;if(e==t)return!0;n=Gc(e)+1,e=e.parentNode}}class L4{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class _ie{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let l=o||s?[]:Eie(e),u=new xie(l,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=Aie(l,this.bounds.from)}else{let l=e.observer.selectionRange,u=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!qx(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),f=s&&s.node==l.anchorNode&&s.offset==l.anchorOffset||!qx(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),h=e.viewport;if((yt.ios||yt.chrome)&&e.state.selection.main.empty&&u!=f&&(h.from>0||h.to<e.state.doc.length)){let p=Math.min(u,f),g=Math.max(u,f),v=h.from-p,b=h.to-g;(v==0||v==1||p==0)&&(b==0||b==-1||g==e.state.doc.length)&&(u=0,f=e.state.doc.length)}this.newSel=rt.single(f,u)}}}function J8(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:l}=e.bounds,u=i.from,f=null;(o===8||yt.android&&e.text.length<l-s)&&(u=i.to,f="end");let h=kie(t.state.doc.sliceString(s,l,Hh),e.text,u-s,f);h&&(yt.chrome&&o==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Hh+Hh&&h.toB--,n={from:s+h.from,to:s+h.toA,insert:rn.of(e.text.slice(h.from,h.toB).split(Hh))})}else r&&(!t.hasFocus&&t.state.facet(ma)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(yt.mac||yt.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=rt.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:rn.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:yt.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=rt.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:rn.of([" "])}),n)return j_(t,n,r,o);if(r&&!r.main.eq(i)){let s=!1,l="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),l=t.inputState.lastSelectionOrigin,l=="select.pointer"&&(r=Q8(t.state.facet(Kp).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:s,userEvent:l}),!0}else return!1}function j_(t,e,n,r=-1){if(yt.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(yt.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&_f(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&_f(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&_f(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,l=()=>s||(s=Cie(t,e,n));return t.state.facet(B8).some(u=>u(t,e.from,e.to,o,l))||t.dispatch(l()),!0}function Cie(t,e,n){let r,i=t.state,o=i.selection.main,s=-1;if(e.from==e.to&&e.from<o.from||e.from>o.to){let u=e.from<o.from?-1:1,f=u<0?o.from:o.to,h=Qh(i.facet(Kp).map(p=>p(t)),f,u);e.from==h&&(s=h)}if(s>-1)r={changes:e,selection:rt.cursor(e.from+e.insert.length,-1)};else if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=o.from<e.from?i.sliceDoc(o.from,e.from):"",f=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let u=i.changes(e),f=n&&n.main.to<=u.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let h=t.state.sliceDoc(e.from,e.to),p,g=n&&Z8(t,n.main.head);if(g){let y=e.insert.length-(e.to-e.from);p={from:g.from,to:g.to-y}}else p=t.state.doc.lineAt(o.head);let v=o.to-e.to,b=o.to-o.from;r=i.changeByRange(y=>{if(y.from==o.from&&y.to==o.to)return{changes:u,range:f||y.map(u)};let _=y.to-v,E=_-h.length;if(y.to-y.from!=b||t.state.sliceDoc(E,_)!=h||y.to>=p.from&&y.from<=p.to)return{range:y};let A=i.changes({from:E,to:_,insert:e.insert}),O=y.to-o.to;return{changes:A,range:f?rt.range(Math.max(0,f.anchor+O),Math.max(0,f.head+O)):y.map(A)}})}else r={changes:u,selection:f&&i.selection.replaceRange(f)}}let l="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:l,scrollIntoView:!0})}function kie(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,l=e.length;for(;s>0&&l>0&&t.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(r=="end"){let u=Math.max(0,o-Math.min(s,l));n-=s+u-o}if(s<o&&t.length<e.length){let u=n<=o&&n>=s?o-n:0;o-=u,l=o+(l-s),s=o}else if(l<o){let u=n<=o&&n>=l?o-n:0;o-=u,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function Eie(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new L4(n,r)),(i!=n||o!=r)&&e.push(new L4(i,o))),e}function Aie(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?rt.single(n+e,r+e):null}class Oie{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,yt.safari&&e.contentDOM.addEventListener("input",()=>null),yt.gecko&&qie(e.contentDOM.ownerDocument)}handleEvent(e){!Pie(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Tie(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,l=r[o];l&&s!=!l.handlers.length&&(i.removeEventListener(o,this.handleEvent),l=null),l||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&tN.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),yt.android&&yt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return yt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=eN.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Die.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,_f(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:yt.safari&&!yt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function B4(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Ss(n.state,i)}}}function Tie(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,o=i&&i.plugin.domEventHandlers,s=i&&i.plugin.domEventObservers;if(o)for(let l in o){let u=o[l];u&&n(l).handlers.push(B4(r.value,u))}if(s)for(let l in s){let u=s[l];u&&n(l).observers.push(B4(r.value,u))}}for(let r in Vo)n(r).handlers.push(Vo[r]);for(let r in wo)n(r).observers.push(wo[r]);return e}const eN=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Die="dthko",tN=[16,17,18,20,91,92,224,225],zg=6;function Pg(t){return Math.max(0,t)*.7+8}function Rie(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Mie{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=Ire(e.contentDOM),this.atoms=e.state.facet(Kp).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(un.allowMultipleSelections)&&Nie(e,n),this.dragging=zie(e,n)&&iN(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Rie(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,s=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:l}=this.scrollParents.y.getBoundingClientRect());let u=Y8(this.view);e.clientX-u.left<=i+zg?n=-Pg(i-e.clientX):e.clientX+u.right>=s-zg&&(n=Pg(e.clientX-s)),e.clientY-u.top<=o+zg?r=-Pg(o-e.clientY):e.clientY+u.bottom>=l-zg&&(r=Pg(e.clientY-l)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=Q8(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Nie(t,e){let n=t.state.facet(j8);return n.length?n[0](e):yt.mac?e.metaKey:e.ctrlKey}function jie(t,e){let n=t.state.facet(z8);return n.length?n[0](e):yt.mac?!e.altKey:!e.ctrlKey}function zie(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=wp(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function Pie(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=On.get(n))&&r.ignoreEvent(e))return!1;return!0}const Vo=Object.create(null),wo=Object.create(null),nN=yt.ie&&yt.ie_version<15||yt.ios&&yt.webkit_version<604;function Lie(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),rN(t,n.value)},50)}function h0(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function rN(t,e){e=h0(t.state,R_,e);let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(rS!=null&&n.selection.ranges.every(u=>u.empty)&&rS==o.toString()){let u=-1;r=n.changeByRange(f=>{let h=n.doc.lineAt(f.from);if(h.from==u)return{range:f};u=h.from;let p=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:h.from,insert:p},range:rt.cursor(f.from+p.length)}})}else s?r=n.changeByRange(u=>{let f=o.line(i++);return{changes:{from:u.from,to:u.to,insert:f.text},range:rt.cursor(u.from+f.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}wo.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Vo.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);wo.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};wo.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Vo.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(P8))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=$ie(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Mie(t,e,n,r)),r&&t.observer.ignore(()=>{m8(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function I4(t,e,n,r){if(r==1)return rt.cursor(e,n);if(r==2)return hie(t.state,e,n);{let i=_r.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,l=i?i.posAtEnd:o.to;return l<t.state.doc.length&&l==o.to&&l++,rt.range(s,l)}}let $4=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function Bie(t,e,n,r){let i=_r.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&$4(n,r,s))return-1;let l=i.coordsAt(o,1);return l&&$4(n,r,l)?1:s&&s.bottom>=r?-1:1}function F4(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Bie(t,n,e.clientX,e.clientY)}}const Iie=yt.ie&&yt.ie_version<=11;let U4=null,H4=0,q4=0;function iN(t){if(!Iie)return t.detail;let e=U4,n=q4;return U4=t,q4=Date.now(),H4=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(H4+1)%3:1}function $ie(t,e){let n=F4(t,e),r=iN(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,l){let u=F4(t,o),f,h=I4(t,u.pos,u.bias,r);if(n.pos!=u.pos&&!s){let p=I4(t,n.pos,n.bias,r),g=Math.min(p.from,h.from),v=Math.max(p.to,h.to);h=g<h.from?rt.range(g,v):rt.range(v,g)}return s?i.replaceRange(i.main.extend(h.from,h.to)):l&&r==1&&i.ranges.length>1&&(f=Fie(i,u.pos))?f:l?i.addRange(h):rt.create([h])}}}function Fie(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return rt.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Vo.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=rt.range(o,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",h0(t.state,M_,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Vo.dragend=t=>(t.inputState.draggedContent=null,!1);function K4(t,e,n,r){if(n=h0(t.state,R_,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=r&&o&&jie(t,e)?{from:o.from,to:o.to}:null,l={from:i,insert:n},u=t.state.changes(s?[s,l]:l);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Vo.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&K4(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[s]=l.result),o()},l.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return K4(t,e,r,!0),!0}return!1};Vo.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=nN?null:e.clipboardData;return n?(rN(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Lie(t),!1)};function Uie(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Hie(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:h0(t,M_,e.join(t.lineBreak)),ranges:n,linewise:r}}let rS=null;Vo.copy=Vo.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=Hie(t.state);if(!n&&!i)return!1;rS=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=nN?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(Uie(t,n),!1)};const oN=hd.define();function sN(t,e){let n=[];for(let r of t.facet(I8)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:oN.of(!0)}):null}function aN(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=sN(t.state,e);n?t.dispatch(n):t.update([])}},10)}wo.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),aN(t)};wo.blur=t=>{t.observer.clearSelectionRange(),aN(t)};wo.compositionstart=wo.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};wo.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,yt.chrome&&yt.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};wo.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Vo.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let l=s[0],u=t.posAtDOM(l.startContainer,l.startOffset),f=t.posAtDOM(l.endContainer,l.endOffset);return j_(t,{from:u,to:f,insert:t.state.toText(o)},null),!0}}let i;if(yt.chrome&&yt.android&&(i=eN.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return yt.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),yt.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>wo.compositionend(t,e),20),!1};const V4=new Set;function qie(t){V4.has(t)||(V4.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const W4=["pre-wrap","normal","pre-line","break-spaces"];let Kf=!1;function Y4(){Kf=!1}class Kie{constructor(e){this.lineWrapping=e,this.doc=rn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return W4.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let l=W4.indexOf(e)>-1,u=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,u){this.heightSamples={};for(let f=0;f<s.length;f++){let h=s[f];h<0?f++:this.heightSamples[Math.floor(h*10)]=!0}}return u}}class Vie{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class xs{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Wi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Il?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new xs(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var In=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(In||(In={}));const mv=.001;class vi{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>mv&&(Kf=!0),this.height=e)}replace(e,n,r){return vi.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:u,toA:f,fromB:h,toB:p}=i[l],g=o.lineAt(u,In.ByPosNoHeight,r.setDoc(n),0,0),v=g.to>=f?g:o.lineAt(f,In.ByPosNoHeight,r,0,0);for(p+=v.to-f,f=v.to;l>0&&g.from<=i[l-1].toA;)u=i[l-1].fromA,h=i[l-1].fromB,l--,u<g.from&&(g=o.lineAt(u,In.ByPosNoHeight,r,0,0));h+=g.from-u,u=g.from;let b=z_.build(r.setDoc(s),e,h,p);o=Jv(o,o.replace(u,f,b))}return o.updateHeight(r,0)}static empty(){return new Ki(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let l=e[n-1];l.break?e.splice(--n,1,l.left,null,l.right):e.splice(--n,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(o>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,o-=l.size}else break;else if(i<o){let l=e[n++];l&&(i+=l.size)}else{let l=e[--r];l&&(o+=l.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new Wie(vi.of(e.slice(0,n)),s,vi.of(e.slice(r)))}}function Jv(t,e){return t==e?t:(t.constructor!=e.constructor&&(Kf=!0),e)}vi.prototype.size=1;class lN extends vi{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new xs(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ki extends lN{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new xs(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Ki||i instanceof Kr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Kr?i=new Ki(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):vi.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Kr extends vi{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,l=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*o);s=u/o,this.length>o+1&&(l=(this.height-u)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:l}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:l,perChar:u}=this.heightMetrics(n,i);if(n.lineWrapping){let f=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),h=n.doc.lineAt(f),p=l+h.length*u,g=Math.max(r,e-p/2);return new xs(h.from,h.length,g,p,0)}else{let f=Math.max(0,Math.min(s-o,Math.floor((e-r)/l))),{from:h,length:p}=n.doc.line(o+f);return new xs(h,p,r+l*f,l,0)}}lineAt(e,n,r,i,o){if(n==In.ByHeight)return this.blockAt(e,r,i,o);if(n==In.ByPosNoHeight){let{from:v,to:b}=r.doc.lineAt(e);return new xs(v,b-v,0,0,0)}let{firstLine:s,perLine:l,perChar:u}=this.heightMetrics(r,o),f=r.doc.lineAt(e),h=l+f.length*u,p=f.number-s,g=i+l*p+u*(f.from-o-p);return new xs(f.from,f.length,Math.max(i,Math.min(g,i+this.height-h)),h,0)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:l,perLine:u,perChar:f}=this.heightMetrics(r,o);for(let h=e,p=i;h<=n;){let g=r.doc.lineAt(h);if(h==e){let b=g.number-l;p+=u*b+f*(e-o-b)}let v=u+f*g.length;s(new xs(g.from,g.length,p,v,0)),p+=v,h=g.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof Kr?r[r.length-1]=new Kr(o.length+i):r.push(null,new Kr(i-1))}if(e>0){let o=r[0];o instanceof Kr?r[0]=new Kr(e+o.length):r.unshift(new Kr(e-1),null)}return vi.of(r)}decomposeLeft(e,n){n.push(new Kr(e-1),null)}decomposeRight(e,n){n.push(null,new Kr(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],l=Math.max(n,i.from),u=-1;for(i.from>n&&s.push(new Kr(i.from-n-1).updateHeight(e,n));l<=o&&i.more;){let h=e.doc.lineAt(l).length;s.length&&s.push(null);let p=i.heights[i.index++];u==-1?u=p:Math.abs(p-u)>=mv&&(u=-2);let g=new Ki(h,p);g.outdated=!1,s.push(g),l+=h+1}l<=o&&s.push(null,new Kr(o-l).updateHeight(e,l));let f=vi.of(s);return(u<0||Math.abs(f.height-this.height)>=mv||Math.abs(u-this.heightMetrics(e,n).perLine)>=mv)&&(Kf=!0),Jv(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Wie extends vi{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,l=o+this.left.length+this.break,u=n==In.ByHeight?e<s:e<l,f=u?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,l);if(this.break||(u?f.to<l:f.from>l))return f;let h=n==In.ByPosNoHeight?In.ByPosNoHeight:In.ByPos;return u?f.join(this.right.lineAt(l,h,r,s,l)):this.left.lineAt(l,h,r,i,o).join(f)}forEachLine(e,n,r,i,o,s){let l=i+this.left.height,u=o+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,o,s),n>=u&&this.right.forEachLine(e,n,r,l,u,s);else{let f=this.lineAt(u,In.ByPos,r,i,o);e<f.from&&this.left.forEachLine(e,f.from-1,r,i,o,s),f.to>=e&&f.from<=n&&s(f),n>f.to&&this.right.forEachLine(f.to+1,n,r,l,u,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of r)o.push(l);if(e>0&&Z4(o,s-1),n<this.length){let l=o.length;this.decomposeRight(n,o),Z4(o,l)}return vi.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?vi.of(this.break?[e,null,n]:[e,n]):(this.left=Jv(this.left,e),this.right=Jv(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,l=n+o.length+this.break,u=null;return i&&i.from<=n+o.length&&i.more?u=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=l+s.length&&i.more?u=s=s.updateHeight(e,l,r,i):s.updateHeight(e,l,r),u?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Z4(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Kr&&(r=t[e+1])instanceof Kr&&t.splice(e-1,3,new Kr(n.length+1+r.length))}const Yie=5;class z_{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ki?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Ki(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new lN(s,i,r)):(s||o||i>=Yie)&&this.addLineDeco(i,o,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ki(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Kr(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ki)return e;let n=new Ki(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Ki)&&!this.isCovered?this.nodes.push(new Ki(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Ki&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new z_(r,e);return $n.spans(n,r,i,o,0),o.finish(r)}}function Zie(t,e,n){let r=new Xie;return $n.compare(t,e,n,r,0),r.changes}class Xie{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&pv(e,n,this.changes,5)}}function Gie(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),u=Math.min(i.innerHeight,n.bottom);for(let f=t.parentNode;f&&f!=r.body;)if(f.nodeType==1){let h=f,p=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&p.overflow!="visible"){let g=h.getBoundingClientRect();o=Math.max(o,g.left),s=Math.min(s,g.right),l=Math.max(l,g.top),u=Math.min(f==t.parentNode?i.innerHeight:u,g.bottom)}f=p.position=="absolute"||p.position=="fixed"?h.offsetParent:h.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:l-(n.top+e),bottom:Math.max(l,u)-(n.top+e)}}function Qie(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Jie(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class gw{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return rr.replace({widget:new eoe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class eoe extends Up{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class X4{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=G4,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=vr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(N_).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Kie(n),this.stateDeco=e.facet(xp).filter(r=>typeof r!="function"),this.heightMap=vi.empty().applyChanges(this.stateDeco,rn.empty,this.heightOracle.setDoc(e.doc),[new vo(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=rr.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new Lg(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?G4:new P_(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(qh(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(xp).filter(h=>typeof h!="function");let i=e.changedRanges,o=vo.extendWithRanges(i,Zie(r,this.stateDeco,e?e.changes:zr.empty(this.state.doc.length))),s=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Y4(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||Kf)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=s);let u=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let f=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(F8)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?vr.RTL:vr.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=n.getBoundingClientRect(),u=s||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let f=0,h=0;if(l.width&&l.height){let{scaleX:T,scaleY:R}=p8(n,l);(T>.005&&Math.abs(this.scaleX-T)>.005||R>.005&&Math.abs(this.scaleY-R)>.005)&&(this.scaleX=T,this.scaleY=R,f|=16,s=u=!0)}let p=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=g)&&(this.paddingTop=p,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let v=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=v8(e.scrollDOM);let b=(this.printing?Jie:Gie)(n,this.paddingTop),y=b.top-this.pixelViewport.top,_=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let E=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(E!=this.inView&&(this.inView=E,E&&(u=!0)),!this.inView&&!this.scrollTarget&&!Qie(e.dom))return 0;let A=l.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),u){let T=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(T)&&(s=!0),s||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:R,charWidth:N,textHeight:j}=e.docView.measureTextSize();s=R>0&&i.refresh(o,R,N,j,Math.max(5,A/N),T),s&&(e.docView.minWidth=0,f|=16)}y>0&&_>0?h=Math.max(y,_):y<0&&_<0&&(h=Math.min(y,_)),Y4();for(let R of this.viewports){let N=R.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(R);this.heightMap=(s?vi.empty().applyChanges(this.stateDeco,rn.empty,this.heightOracle,[new vo(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new Vie(R.from,N))}Kf&&(f|=2)}let O=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),f|=this.updateForViewport()),(f&2||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:l}=this,u=new Lg(i.lineAt(s-r*1e3,In.ByHeight,o,0,0).from,i.lineAt(l+(1-r)*1e3,In.ByHeight,o,0,0).to);if(n){let{head:f}=n.range;if(f<u.from||f>u.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=i.lineAt(f,In.ByPos,o,0,0),g;n.y=="center"?g=(p.top+p.bottom)/2-h/2:n.y=="start"||n.y=="nearest"&&f<u.from?g=p.top:g=p.bottom-h,u=new Lg(i.lineAt(g-1e3/2,In.ByHeight,o,0,0).from,i.lineAt(g+h+1e3/2,In.ByHeight,o,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Lg(this.heightMap.lineAt(r,In.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,In.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,In.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,In.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=l+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new gw(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=vr.LTR&&!r)return[];let l=[],u=(h,p,g,v)=>{if(p-h<o)return;let b=this.state.selection.main,y=[b.from];b.empty||y.push(b.to);for(let E of y)if(E>h&&E<p){u(h,E-10,g,v),u(E+10,p,g,v);return}let _=noe(e,E=>E.from>=g.from&&E.to<=g.to&&Math.abs(E.from-h)<o&&Math.abs(E.to-p)<o&&!y.some(A=>E.from<A&&E.to>A));if(!_){if(p<g.to&&n&&r&&n.visibleRanges.some(O=>O.from<=p&&O.to>=p)){let O=n.moveToLineBoundary(rt.cursor(p),!1,!0).head;O>h&&(p=O)}let E=this.gapSize(g,h,p,v),A=r||E<2e6?E:2e6;_=new gw(h,p,E,A)}l.push(_)},f=h=>{if(h.length<s||h.type!=Wi.Text)return;let p=toe(h.from,h.to,this.stateDeco);if(p.total<s)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,v,b;if(r){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,_,E;if(g!=null){let A=Ig(p,g),O=((this.visibleBottom-this.visibleTop)/2+y)/h.height;_=A-O,E=A+O}else _=(this.visibleTop-h.top-y)/h.height,E=(this.visibleBottom-h.top+y)/h.height;v=Bg(p,_),b=Bg(p,E)}else{let y=p.total*this.heightOracle.charWidth,_=i*this.heightOracle.charWidth,E=0;if(y>2e6)for(let N of e)N.from>=h.from&&N.from<h.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+E<this.pixelViewport.left&&(E=N.size-N.displaySize);let A=this.pixelViewport.left+E,O=this.pixelViewport.right+E,T,R;if(g!=null){let N=Ig(p,g),j=((O-A)/2+_)/y;T=N-j,R=N+j}else T=(A-_)/y,R=(O+_)/y;v=Bg(p,T),b=Bg(p,R)}v>h.from&&u(h.from,v,h,p),b<h.to&&u(b,h.to,h,p)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(f):f(h);return l}gapSize(e,n,r,i){let o=Ig(i,r)-Ig(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){gw.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=rr.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];$n.spans(n,this.viewport.from,this.viewport.to,{span(o,s){r.push({from:o,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let s=this.visibleRanges[o],l=r[o];(s.from!=l.from||s.to!=l.to)&&(i|=4,e&&e.mapPos(s.from,-1)==l.from&&e.mapPos(s.to,1)==l.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||qh(this.heightMap.lineAt(e,In.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||qh(this.heightMap.lineAt(this.scaler.fromDOM(e),In.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return qh(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Lg{constructor(e,n){this.from=e,this.to=n}}function toe(t,e,n){let r=[],i=t,o=0;return $n.spans(n,t,e,{span(){},point(s,l){s>i&&(r.push({from:i,to:s}),o+=s-i),i=l}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Bg({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],l=s-o;if(r<=l)return o+r;r-=l}}function Ig(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function noe(t,e){for(let n of t)if(e(n))return n}const G4={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class P_{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:l,to:u})=>{let f=n.lineAt(l,In.ByPos,e,0,0).top,h=n.lineAt(u,In.ByPos,e,0,0).bottom;return i+=h-f,{from:l,to:u,top:f,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof P_?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function qh(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new xs(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>qh(i,e)):t._content)}const $g=Bt.define({combine:t=>t.join(" ")}),iS=Bt.define({combine:t=>t.indexOf(!0)>-1}),oS=Ff.newName(),cN=Ff.newName(),uN=Ff.newName(),fN={"&light":"."+cN,"&dark":"."+uN};function sS(t,e,n){return new Ff(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const roe=sS("."+oS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},fN),ioe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},vw=yt.ie&&yt.ie_version<=11;class ooe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new $re,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(yt.ie&&yt.ie_version<=11||yt.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&yt.android&&e.constructor.EDIT_CONTEXT!==!1&&!(yt.chrome&&yt.chrome_version<126)&&(this.editContext=new aoe(e),e.state.facet(ma)&&(e.contentDOM.editContext=this.editContext.editContext)),vw&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ma)?r.root.activeElement!=this.dom:!hv(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(yt.ie&&yt.ie_version<=11||yt.android&&yt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Xh(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=wp(e.root);if(!n)return!1;let r=yt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&soe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=hv(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Ure(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ioe),vw&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),vw&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&_f(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&hv(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new _ie(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=J8(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=Q4(n,e.previousSibling||e.target.previousSibling,-1),i=Q4(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ma)!=e.state.facet(ma)&&(e.view.contentDOM.editContext=e.state.facet(ma)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Q4(t,e,n){for(;e;){let r=On.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function J4(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return Xh(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function soe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return J4(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?J4(t,n):null}class aoe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:s}=i,l=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:l,drifted:!1});let f={from:l,to:u,insert:rn.of(r.text.split(`
`))};if(f.from==this.from&&o<this.from?f.from=o:f.to==this.to&&o>this.to&&(f.to=o),f.from==f.to&&!f.insert.length){let h=rt.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));h.main.eq(i)||e.dispatch({selection:h,userEvent:"select"});return}if((yt.mac||yt.android)&&f.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:l,to:u,insert:rn.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let h=this.to-this.from+(f.to-f.from+f.insert.length);j_(e,f,rt.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),f.from<f.to&&!f.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),l=this.toEditorPos(r.rangeEnd);s<l;s++){let u=e.coordsForChar(s);o=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,l=o.underlineThickness;if(!/none/i.test(s)&&!/none/i.test(l)){let u=this.toEditorPos(o.rangeStart),f=this.toEditorPos(o.rangeEnd);if(u<f){let h=`text-decoration: underline ${/^[a-z]/.test(s)?s+" ":s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${/thin/i.test(l)?1:2}px`;i.push(rr.mark({attributes:{style:h}}).range(u,f))}}}e.dispatch({effects:H8.of(rr.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=wp(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,l,u,f)=>{if(r)return;let h=f.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(f)){i=this.pendingContextChange=null,n+=h,this.to+=h;return}else i=null,this.revertPending(e.state);if(o+=n,s+=n,s<=this.from)this.from+=h,this.to+=h;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),f.toString()),this.to+=h}n+=h}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Nt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Fre(e.parent)||document,this.viewState=new X4(e.state||un.create(e)),e.scrollTo&&e.scrollTo.is(jg)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(pf).map(i=>new hw(i));for(let i of this.plugins)i.update(this);this.observer=new ooe(this),this.inputState=new Oie(this),this.inputState.ensureHandlers(this.plugins),this.docView=new R4(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof si?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let g of e){if(g.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=g.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,l=0,u=null;e.some(g=>g.annotation(oN))?(this.inputState.notifiedFocused=s,l=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,u=sN(o,s),u||(l=1));let f=this.observer.delayedAndroidKey,h=null;if(f?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(h=null)):this.observer.clear(),o.facet(un.phrases)!=this.state.facet(un.phrases))return this.setState(o);i=Qv.create(this,o,e),i.flags|=l;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(p&&(p=p.map(g.changes)),g.scrollIntoView){let{main:v}=g.state.selection;p=new Cf(v.empty?v:rt.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of g.effects)v.is(jg)&&(p=v.value.clip(this.state))}this.viewState.update(i,p),this.bidiCache=ey.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Uh)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet($g)!=i.state.facet($g)&&(this.viewState.mustMeasureContent=!0),(n||r||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(eS))try{g(i)}catch(v){Ss(this.state,v,"update listener")}(u||h)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),h&&!J8(this,h)&&f.force&&_f(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new X4(e),this.plugins=e.facet(pf).map(r=>new hw(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new R4(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(pf),r=e.state.facet(pf);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new hw(o));else{let l=this.plugins[s];l.mustUpdate=e,i.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Ss(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(s<0)if(v8(r))o=-1,s=this.viewState.heightMap.height;else{let v=this.viewState.scrollAnchorAt(i);o=v.from,s=v.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(v=>{try{return v.read(this)}catch(b){return Ss(this.state,b),eT}}),p=Qv.create(this,this.state,[]),g=!1;p.flags|=u,n?n.flags|=u:n=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),g=this.docView.update(p),g&&this.docViewUpdate());for(let v=0;v<f.length;v++)if(h[v]!=eT)try{let b=f[v];b.write&&b.write(h[v],this)}catch(b){Ss(this.state,b)}if(g&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let b=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(b>1||b<-1){i=i+b,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(eS))l(n)}get themeClasses(){return oS+" "+(this.state.facet(iS)?uN:cN)+" "+this.state.facet($g)}updateAttrs(){let e=tT(this,q8,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ma)?"true":"false",class:"cm-content",style:`${yt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),tT(this,N_,n);let r=this.observer.ignore(()=>{let i=Zx(this.contentDOM,this.contentAttrs,n),o=Zx(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Nt.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Uh);let e=this.state.facet(Nt.cspNonce);Ff.mount(this.root,this.styleModules.concat(roe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return mw(this,e,P4(this,e,n,r))}moveByGroup(e,n){return mw(this,e,P4(this,e,n,r=>bie(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return rt.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return yie(this,e,n,r)}moveVertically(e,n,r){return mw(this,e,wie(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),X8(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Al.find(o,e-i.from,-1,n)];return Fp(r,s.dir==vr.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet($8)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>loe)return M8(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||R8(o.isolates,r=D4(this,e))))return o.order;r||(r=D4(this,e));let i=nie(e.text,n,r);return this.bidiCache.push(new ey(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||yt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{m8(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return jg.of(new Cf(typeof e=="number"?rt.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return jg.of(new Cf(rt.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Ko.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Ko.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Ff.newName(),i=[$g.of(r),Uh.of(sS(`.${r}`,e))];return n&&n.dark&&i.push(iS.of(!0)),i}static baseTheme(e){return A_.lowest(Uh.of(sS("."+oS,e,fN)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&On.get(r)||On.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}}Nt.styleModule=Uh;Nt.inputHandler=B8;Nt.clipboardInputFilter=R_;Nt.clipboardOutputFilter=M_;Nt.scrollHandler=U8;Nt.focusChangeEffect=I8;Nt.perLineTextDirection=$8;Nt.exceptionSink=L8;Nt.updateListener=eS;Nt.editable=ma;Nt.mouseSelectionStyle=P8;Nt.dragMovesSelection=z8;Nt.clickAddsSelectionRange=j8;Nt.decorations=xp;Nt.outerDecorations=K8;Nt.atomicRanges=Kp;Nt.bidiIsolatedRanges=V8;Nt.scrollMargins=W8;Nt.darkTheme=iS;Nt.cspNonce=Bt.define({combine:t=>t.length?t[0]:""});Nt.contentAttributes=N_;Nt.editorAttributes=q8;Nt.lineWrapping=Nt.contentAttributes.of({class:"cm-lineWrapping"});Nt.announce=Ar.define();const loe=4096,eT={};class ey{constructor(e,n,r,i,o,s){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:vr.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new ey(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function tT(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&Yx(s,n)}return n}const coe=yt.mac?"mac":yt.windows?"win":yt.linux?"linux":"key";function uoe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,l;for(let u=0;u<n.length-1;++u){const f=n[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),l&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Fg(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const foe=A_.default(Nt.domEventHandlers({keydown(t,e){return moe(doe(e.state),t,e,"editor")}})),dN=Bt.define({enables:foe}),nT=new WeakMap;function doe(t){let e=t.facet(dN),n=nT.get(e);return n||nT.set(e,n=poe(e.reduce((r,i)=>r.concat(i),[]))),n}let Cl=null;const hoe=4e3;function poe(t,e=coe){let n=Object.create(null),r=Object.create(null),i=(s,l)=>{let u=r[s];if(u==null)r[s]=l;else if(u!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,u,f,h)=>{var p,g;let v=n[s]||(n[s]=Object.create(null)),b=l.split(/ (?!$)/).map(E=>uoe(E,e));for(let E=1;E<b.length;E++){let A=b.slice(0,E).join(" ");i(A,!0),v[A]||(v[A]={preventDefault:!0,stopPropagation:!1,run:[O=>{let T=Cl={view:O,prefix:A,scope:s};return setTimeout(()=>{Cl==T&&(Cl=null)},hoe),!0}]})}let y=b.join(" ");i(y,!1);let _=v[y]||(v[y]={preventDefault:!1,stopPropagation:!1,run:((g=(p=v._any)===null||p===void 0?void 0:p.run)===null||g===void 0?void 0:g.slice())||[]});u&&_.run.push(u),f&&(_.preventDefault=!0),h&&(_.stopPropagation=!0)};for(let s of t){let l=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let f of l){let h=n[f]||(n[f]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=s;for(let g in h)h[g].run.push(v=>p(v,aS))}let u=s[e]||s.key;if(u)for(let f of l)o(f,u,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(f,"Shift-"+u,s.shift,s.preventDefault,s.stopPropagation)}return n}let aS=null;function moe(t,e,n,r){aS=e;let i=Pre(e),o=J6(i,0),s=e8(o)==i.length&&i!=" ",l="",u=!1,f=!1,h=!1;Cl&&Cl.view==n&&Cl.scope==r&&(l=Cl.prefix+" ",tN.indexOf(e.keyCode)<0&&(f=!0,Cl=null));let p=new Set,g=_=>{if(_){for(let E of _.run)if(!p.has(E)&&(p.add(E),E(n)))return _.stopPropagation&&(h=!0),!0;_.preventDefault&&(_.stopPropagation&&(h=!0),f=!0)}return!1},v=t[r],b,y;return v&&(g(v[l+Fg(i,e,!s)])?u=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(yt.windows&&e.ctrlKey&&e.altKey)&&!(yt.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=Bl[e.keyCode])&&b!=i?(g(v[l+Fg(b,e,!0)])||e.shiftKey&&(y=bp[e.keyCode])!=i&&y!=b&&g(v[l+Fg(y,e,!1)]))&&(u=!0):s&&e.shiftKey&&g(v[l+Fg(i,e,!0)])&&(u=!0),!u&&g(v._any)&&(u=!0)),f&&(u=!0),u&&h&&e.stopPropagation(),aS=null,u}class Vp{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=hN(e);return[new Vp(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return goe(e,n,r)}}function hN(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==vr.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function rT(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,l=t.posAtCoords({x:o.left+1,y:s}),u=t.posAtCoords({x:o.right-1,y:s});return l==null||u==null?r:{from:Math.max(r.from,Math.min(l,u)),to:Math.min(r.to,Math.max(l,u))}}function goe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==vr.LTR,s=t.contentDOM,l=s.getBoundingClientRect(),u=hN(t),f=s.querySelector(".cm-line"),h=f&&window.getComputedStyle(f),p=l.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),g=l.right-(h?parseInt(h.paddingRight):0),v=nS(t,r,1),b=nS(t,i,-1),y=v.type==Wi.Text?v:null,_=b.type==Wi.Text?b:null;if(y&&(t.lineWrapping||v.widgetLineBreaks)&&(y=rT(t,r,1,y)),_&&(t.lineWrapping||b.widgetLineBreaks)&&(_=rT(t,i,-1,_)),y&&_&&y.from==_.from&&y.to==_.to)return A(O(n.from,n.to,y));{let R=y?O(n.from,null,y):T(v,!1),N=_?O(null,n.to,_):T(b,!0),j=[];return(y||v).to<(_||b).from-(y&&_?1:0)||v.widgetLineBreaks>1&&R.bottom+t.defaultLineHeight/2<N.top?j.push(E(p,R.bottom,g,N.top)):R.bottom<N.top&&t.elementAtHeight((R.bottom+N.top)/2).type==Wi.Text&&(R.bottom=N.top=(R.bottom+N.top)/2),A(R).concat(j).concat(A(N))}function E(R,N,j,U){return new Vp(e,R-u.left,N-u.top,j-R,U-N)}function A({top:R,bottom:N,horizontal:j}){let U=[];for(let H=0;H<j.length;H+=2)U.push(E(j[H],R,j[H+1],N));return U}function O(R,N,j){let U=1e9,H=-1e9,Z=[];function te(M,J,V,X,Q){let ne=t.coordsAtPos(M,M==j.to?-2:2),ue=t.coordsAtPos(V,V==j.from?2:-2);!ne||!ue||(U=Math.min(ne.top,ue.top,U),H=Math.max(ne.bottom,ue.bottom,H),Q==vr.LTR?Z.push(o&&J?p:ne.left,o&&X?g:ue.right):Z.push(!o&&X?p:ue.left,!o&&J?g:ne.right))}let I=R??j.from,Y=N??j.to;for(let M of t.visibleRanges)if(M.to>I&&M.from<Y)for(let J=Math.max(M.from,I),V=Math.min(M.to,Y);;){let X=t.state.doc.lineAt(J);for(let Q of t.bidiSpans(X)){let ne=Q.from+X.from,ue=Q.to+X.from;if(ne>=V)break;ue>J&&te(Math.max(ne,J),R==null&&ne<=I,Math.min(ue,V),N==null&&ue>=Y,Q.dir)}if(J=X.to+1,J>=V)break}return Z.length==0&&te(I,R==null,Y,N==null,t.textDirection),{top:U,bottom:H,horizontal:Z}}function T(R,N){let j=l.top+(N?R.top:R.bottom);return{top:j,bottom:j,horizontal:[]}}}function voe(t,e){return t.constructor==e.constructor&&t.eq(e)}class yoe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(gv)!=e.state.facet(gv)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(gv);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!voe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,yt.ios&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const gv=Bt.define();function pN(t){return[Ko.define(e=>new yoe(e,t)),gv.of(t)]}const Sp=Bt.define({combine(t){return Rre(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function boe(t={}){return[Sp.of(t),woe,xoe,Soe,F8.of(!0)]}function mN(t){return t.startState.facet(Sp)!=t.state.facet(Sp)}const woe=pN({above:!0,markers(t){let{state:e}=t,n=e.facet(Sp),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty||n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:rt.cursor(i.head,i.head>i.anchor?-1:1);for(let u of Vp.forRange(t,s,l))r.push(u)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=mN(t);return n&&iT(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){iT(e.state,t)},class:"cm-cursorLayer"});function iT(t,e){e.style.animationDuration=t.facet(Sp).cursorBlinkRate+"ms"}const xoe=pN({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Vp.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||mN(t)},class:"cm-selectionLayer"}),Soe=A_.highest(Nt.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}}));class _oe extends Up{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Uf(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=Fp(n[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function Coe(t){let e=Ko.fromClass(class{constructor(n){this.view=n,this.placeholder=t?rr.set([rr.widget({widget:new _oe(t),side:1}).range(0)]):rr.none}get decorations(){return this.view.state.doc.length?rr.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,Nt.contentAttributes.of({"aria-placeholder":t})]:e}const lS=2e3;function koe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>lS||n.off>lS||e.col<0||n.col<0){let s=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let u=r;u<=i;u++){let f=t.doc.line(u);f.length<=l&&o.push(rt.range(f.from+s,f.to+l))}}else{let s=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let u=r;u<=i;u++){let f=t.doc.line(u),h=Fx(f.text,s,t.tabSize,!0);if(h<0)o.push(rt.cursor(f.to));else{let p=Fx(f.text,l,t.tabSize);o.push(rt.range(f.from+h,f.from+p))}}}return o}function Eoe(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function oT(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>lS?-1:i==r.length?Eoe(t,e.clientX):$p(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function Aoe(t,e){let n=oT(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let l=oT(t,i);if(!l)return r;let u=koe(t.state,n,l);return u.length?s?rt.create(u.concat(r.ranges)):rt.create(u):r}}:null}function Ooe(t){let e=(n=>n.altKey&&n.button==0);return Nt.mouseSelectionStyle.of((n,r)=>e(r)?Aoe(n,r):null)}const Toe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Doe={style:"cursor: crosshair"};function Roe(t={}){let[e,n]=Toe[t.key||"Alt"],r=Ko.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Nt.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?Doe:null})]}class Vf extends $f{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Vf.prototype.elementClass="";Vf.prototype.toDOM=void 0;Vf.prototype.mapMode=Vi.TrackBefore;Vf.prototype.startSide=Vf.prototype.endSide=-1;Vf.prototype.point=!0;const Moe=1024;let Noe=0;class yw{constructor(e,n){this.from=e,this.to=n}}class on{constructor(e={}){this.id=Noe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=xo.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}on.closedBy=new on({deserialize:t=>t.split(" ")});on.openedBy=new on({deserialize:t=>t.split(" ")});on.group=new on({deserialize:t=>t.split(" ")});on.isolate=new on({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});on.contextHash=new on({perNode:!0});on.lookAhead=new on({perNode:!0});on.mounted=new on({perNode:!0});class ty{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[on.mounted.id]}}const joe=Object.create(null);class xo{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):joe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new xo(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(on.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(on.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}xo.none=new xo("",Object.create(null),0,8);const Ug=new WeakMap,sT=new WeakMap;var Wr;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Wr||(Wr={}));class ai{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let e=ty.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new uS(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Ug.get(this)||this.topNode,o=new uS(i);return o.moveTo(e,n),Ug.set(this,o._tree),o}get topNode(){return new yo(this,0,0,null)}resolve(e,n=0){let r=_p(Ug.get(this)||this.topNode,e,n,!1);return Ug.set(this,r),r}resolveInner(e,n=0){let r=_p(sT.get(this)||this.topNode,e,n,!0);return sT.set(this,r),r}resolveStack(e,n=0){return Loe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,l=(s&Wr.IncludeAnonymous)>0;for(let u=this.cursor(s|Wr.IncludeAnonymous);;){let f=!1;if(u.from<=o&&u.to>=i&&(!l&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;f=!0}for(;f&&r&&(l||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:I_(xo.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new ai(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new ai(xo.none,n,r,i)))}static build(e){return Boe(e)}}ai.empty=new ai(xo.none,[],[],0);class L_{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new L_(this.buffer,this.index)}}class $l{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return xo.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,l=-1;for(let u=e;u!=n&&!(gN(o,i,s[u+1],s[u+2])&&(l=u,r>0));u=s[u+3]);return l}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let l=e,u=0;l<n;){o[u++]=i[l++],o[u++]=i[l++]-r;let f=o[u++]=i[l++]-r;o[u++]=i[l++]-e,s=Math.max(s,f)}return new $l(o,s,this.set)}}function gN(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function _p(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof yo&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:Wr.IgnoreOverlays;if(r)for(let s=t,l=s.parent;l;s=l,l=s.parent)s instanceof yo&&s.index<0&&((i=l.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=l);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class vN{cursor(e=0){return new uS(this,e)}getChild(e,n=null,r=null){let i=aT(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return aT(this,e,n,r)}resolve(e,n=0){return _p(this,e,n,!1)}resolveInner(e,n=0){return _p(this,e,n,!0)}matchContext(e){return cS(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class yo extends vN{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:l,positions:u}=s._tree,f=n>0?l.length:-1;e!=f;e+=n){let h=l[e],p=u[e]+s.from;if(gN(i,r,p,p+h.length)){if(h instanceof $l){if(o&Wr.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,n,r-p,i);if(g>-1)return new Ol(new zoe(s,h,e,p),null,g)}else if(o&Wr.IncludeAnonymous||!h.type.isAnonymous||B_(h)){let g;if(!(o&Wr.IgnoreMounts)&&(g=ty.get(h))&&!g.overlay)return new yo(g.tree,p,e,s);let v=new yo(h,p,e,s);return o&Wr.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?h.children.length-1:0,n,r,i)}}}if(o&Wr.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Wr.IgnoreOverlays)&&(i=ty.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:l}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?l>=o:l>o))return new yo(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function aT(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function cS(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class zoe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Ol extends vN{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new Ol(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Wr.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new Ol(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ol(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Ol(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new ai(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function yN(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let s=t[o];(s.from>n.from||s.to<n.to)&&(n=s,e=o)}let r=n instanceof yo&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new Poe(i,n)}class Poe{constructor(e,n){this.heads=e,this.node=n}get next(){return yN(this.heads)}}function Loe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof yo?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,n)),o=s}else{let s=ty.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let l=new yo(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(_p(l,e,n,!1))}}return i?yN(i):r}class uS{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof yo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof yo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Wr.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Wr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Wr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let l=r._tree.children[o];if(this.mode&Wr.IncludeAnonymous||l instanceof $l||!l.type.isAnonymous||B_(l))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new Ol(this.buffer,n,this.stack[i]);return this.bufferNode=new Ol(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return cS(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return cS(this._tree,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function B_(t){return t.children.some(e=>e instanceof $l||!e.type.isAnonymous||B_(e))}function Boe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Moe,reused:o=[],minRepeatType:s=r.types.length}=t,l=Array.isArray(n)?new L_(n,n.length):n,u=r.types,f=0,h=0;function p(R,N,j,U,H,Z){let{id:te,start:I,end:Y,size:M}=l,J=h,V=f;for(;M<0;)if(l.next(),M==-1){let $=o[te];j.push($),U.push(I-R);return}else if(M==-3){f=te;return}else if(M==-4){h=te;return}else throw new RangeError(`Unrecognized record size: ${M}`);let X=u[te],Q,ne,ue=I-R;if(Y-I<=i&&(ne=_(l.pos-N,H))){let $=new Uint16Array(ne.size-ne.skip),q=l.pos-ne.size,se=$.length;for(;l.pos>q;)se=E(ne.start,$,se);Q=new $l($,Y-ne.start,r),ue=ne.start-R}else{let $=l.pos-M;l.next();let q=[],se=[],le=te>=s?te:-1,me=0,je=Y;for(;l.pos>$;)le>=0&&l.id==le&&l.size>=0?(l.end<=je-i&&(b(q,se,I,me,l.end,je,le,J,V),me=q.length,je=l.end),l.next()):Z>2500?g(I,$,q,se):p(I,$,q,se,le,Z+1);if(le>=0&&me>0&&me<q.length&&b(q,se,I,me,I,je,le,J,V),q.reverse(),se.reverse(),le>-1&&me>0){let We=v(X,V);Q=I_(X,q,se,0,q.length,0,Y-I,We,We)}else Q=y(X,q,se,Y-I,J-Y,V)}j.push(Q),U.push(ue)}function g(R,N,j,U){let H=[],Z=0,te=-1;for(;l.pos>N;){let{id:I,start:Y,end:M,size:J}=l;if(J>4)l.next();else{if(te>-1&&Y<te)break;te<0&&(te=M-i),H.push(I,Y,M),Z++,l.next()}}if(Z){let I=new Uint16Array(Z*4),Y=H[H.length-2];for(let M=H.length-3,J=0;M>=0;M-=3)I[J++]=H[M],I[J++]=H[M+1]-Y,I[J++]=H[M+2]-Y,I[J++]=J;j.push(new $l(I,H[2]-Y,r)),U.push(Y-R)}}function v(R,N){return(j,U,H)=>{let Z=0,te=j.length-1,I,Y;if(te>=0&&(I=j[te])instanceof ai){if(!te&&I.type==R&&I.length==H)return I;(Y=I.prop(on.lookAhead))&&(Z=U[te]+I.length+Y)}return y(R,j,U,H,Z,N)}}function b(R,N,j,U,H,Z,te,I,Y){let M=[],J=[];for(;R.length>U;)M.push(R.pop()),J.push(N.pop()+j-H);R.push(y(r.types[te],M,J,Z-H,I-Z,Y)),N.push(H-j)}function y(R,N,j,U,H,Z,te){if(Z){let I=[on.contextHash,Z];te=te?[I].concat(te):[I]}if(H>25){let I=[on.lookAhead,H];te=te?[I].concat(te):[I]}return new ai(R,N,j,U,te)}function _(R,N){let j=l.fork(),U=0,H=0,Z=0,te=j.end-i,I={size:0,start:0,skip:0};e:for(let Y=j.pos-R;j.pos>Y;){let M=j.size;if(j.id==N&&M>=0){I.size=U,I.start=H,I.skip=Z,Z+=4,U+=4,j.next();continue}let J=j.pos-M;if(M<0||J<Y||j.start<te)break;let V=j.id>=s?4:0,X=j.start;for(j.next();j.pos>J;){if(j.size<0)if(j.size==-3)V+=4;else break e;else j.id>=s&&(V+=4);j.next()}H=X,U+=M,Z+=V}return(N<0||U==R)&&(I.size=U,I.start=H,I.skip=Z),I.size>4?I:void 0}function E(R,N,j){let{id:U,start:H,end:Z,size:te}=l;if(l.next(),te>=0&&U<s){let I=j;if(te>4){let Y=l.pos-(te-4);for(;l.pos>Y;)j=E(R,N,j)}N[--j]=I,N[--j]=Z-R,N[--j]=H-R,N[--j]=U}else te==-3?f=U:te==-4&&(h=U);return j}let A=[],O=[];for(;l.pos>0;)p(t.start||0,t.bufferStart||0,A,O,-1,0);let T=(e=t.length)!==null&&e!==void 0?e:A.length?O[0]+A[0].length:0;return new ai(u[t.topID],A.reverse(),O.reverse(),T)}const lT=new WeakMap;function vv(t,e){if(!t.isAnonymous||e instanceof $l||e.type!=t)return 1;let n=lT.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof ai)){n=1;break}n+=vv(t,r)}lT.set(e,n)}return n}function I_(t,e,n,r,i,o,s,l,u){let f=0;for(let b=r;b<i;b++)f+=vv(t,e[b]);let h=Math.ceil(f*1.5/8),p=[],g=[];function v(b,y,_,E,A){for(let O=_;O<E;){let T=O,R=y[O],N=vv(t,b[O]);for(O++;O<E;O++){let j=vv(t,b[O]);if(N+j>=h)break;N+=j}if(O==T+1){if(N>h){let j=b[T];v(j.children,j.positions,0,j.children.length,y[T]+A);continue}p.push(b[T])}else{let j=y[O-1]+b[O-1].length-R;p.push(I_(t,b,y,T,O,R,j,null,u))}g.push(R+A-o)}}return v(e,n,r,i,0),(l||u)(p,g,s)}class qc{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new qc(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let l=0,u=0,f=0;;l++){let h=l<n.length?n[l]:null,p=h?h.fromA:1e9;if(p-u>=r)for(;s&&s.from<p;){let g=s;if(u>=g.from||p<=g.to||f){let v=Math.max(g.from,u)-f,b=Math.min(g.to,p)-f;g=v>=b?null:new qc(v,b,g.tree,g.offset+f,l>0,!!h)}if(g&&i.push(g),s.to>p)break;s=o<e.length?e[o++]:null}if(!h)break;u=h.toA,f=h.toA-h.toB}return i}}class Ioe{startParse(e,n,r){return typeof e=="string"&&(e=new $oe(e)),r=r?r.length?r.map(i=>new yw(i.from,i.to)):[new yw(0,0)]:[new yw(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class $oe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new on({perNode:!0});let Foe=0;class mo{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Foe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof mo&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new mo(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new ny(e);return r=>r.modified.indexOf(n)>-1?r:ny.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}}let Uoe=0;class ny{constructor(e){this.name=e,this.instances=[],this.id=Uoe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(l=>l.base==e&&Hoe(n,l.modified));if(r)return r;let i=[],o=new mo(e.name,i,e,n);for(let l of n)l.instances.push(o);let s=qoe(n);for(let l of e.set)if(!l.modified.length)for(let u of s)i.push(ny.get(l,u));return o}}function Hoe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function qoe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Koe(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,l=i;for(let p=0;;){if(l=="..."&&p>0&&p+3==i.length){s=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!g)throw new RangeError("Invalid path: "+i);if(o.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),p+=g[0].length,p==i.length)break;let v=i[p++];if(p==i.length&&v=="!"){s=0;break}if(v!="/")throw new RangeError("Invalid path: "+i);l=i.slice(p)}let u=o.length-1,f=o[u];if(!f)throw new RangeError("Invalid path: "+i);let h=new fS(r,s,u>0?o.slice(0,u):null);e[f]=h.sort(e[f])}}return Voe.add(e)}const Voe=new on;class fS{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}fS.empty=new fS([],2,null);function Woe(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}={};return{style:o=>{let s=i;for(let l of o)for(let u of l.set){let f=n[u.id];if(f){s=s?s+" "+f:f;break}}return s},scope:r}}const mt=mo.define,Hg=mt(),Sl=mt(),cT=mt(Sl),uT=mt(Sl),_l=mt(),qg=mt(_l),bw=mt(_l),gs=mt(),Tc=mt(gs),ps=mt(),ms=mt(),dS=mt(),Mh=mt(dS),Kg=mt(),qt={comment:Hg,lineComment:mt(Hg),blockComment:mt(Hg),docComment:mt(Hg),name:Sl,variableName:mt(Sl),typeName:cT,tagName:mt(cT),propertyName:uT,attributeName:mt(uT),className:mt(Sl),labelName:mt(Sl),namespace:mt(Sl),macroName:mt(Sl),literal:_l,string:qg,docString:mt(qg),character:mt(qg),attributeValue:mt(qg),number:bw,integer:mt(bw),float:mt(bw),bool:mt(_l),regexp:mt(_l),escape:mt(_l),color:mt(_l),url:mt(_l),keyword:ps,self:mt(ps),null:mt(ps),atom:mt(ps),unit:mt(ps),modifier:mt(ps),operatorKeyword:mt(ps),controlKeyword:mt(ps),definitionKeyword:mt(ps),moduleKeyword:mt(ps),operator:ms,derefOperator:mt(ms),arithmeticOperator:mt(ms),logicOperator:mt(ms),bitwiseOperator:mt(ms),compareOperator:mt(ms),updateOperator:mt(ms),definitionOperator:mt(ms),typeOperator:mt(ms),controlOperator:mt(ms),punctuation:dS,separator:mt(dS),bracket:Mh,angleBracket:mt(Mh),squareBracket:mt(Mh),paren:mt(Mh),brace:mt(Mh),content:gs,heading:Tc,heading1:mt(Tc),heading2:mt(Tc),heading3:mt(Tc),heading4:mt(Tc),heading5:mt(Tc),heading6:mt(Tc),contentSeparator:mt(gs),list:mt(gs),quote:mt(gs),emphasis:mt(gs),strong:mt(gs),link:mt(gs),monospace:mt(gs),strikethrough:mt(gs),inserted:mt(),deleted:mt(),changed:mt(),invalid:mt(),meta:Kg,documentMeta:mt(Kg),annotation:mt(Kg),processingInstruction:mt(Kg),definition:mo.defineModifier("definition"),constant:mo.defineModifier("constant"),function:mo.defineModifier("function"),standard:mo.defineModifier("standard"),local:mo.defineModifier("local"),special:mo.defineModifier("special")};for(let t in qt){let e=qt[t];e instanceof mo&&(e.name=t)}Woe([{tag:qt.link,class:"tok-link"},{tag:qt.heading,class:"tok-heading"},{tag:qt.emphasis,class:"tok-emphasis"},{tag:qt.strong,class:"tok-strong"},{tag:qt.keyword,class:"tok-keyword"},{tag:qt.atom,class:"tok-atom"},{tag:qt.bool,class:"tok-bool"},{tag:qt.url,class:"tok-url"},{tag:qt.labelName,class:"tok-labelName"},{tag:qt.inserted,class:"tok-inserted"},{tag:qt.deleted,class:"tok-deleted"},{tag:qt.literal,class:"tok-literal"},{tag:qt.string,class:"tok-string"},{tag:qt.number,class:"tok-number"},{tag:[qt.regexp,qt.escape,qt.special(qt.string)],class:"tok-string2"},{tag:qt.variableName,class:"tok-variableName"},{tag:qt.local(qt.variableName),class:"tok-variableName tok-local"},{tag:qt.definition(qt.variableName),class:"tok-variableName tok-definition"},{tag:qt.special(qt.variableName),class:"tok-variableName2"},{tag:qt.definition(qt.propertyName),class:"tok-propertyName tok-definition"},{tag:qt.typeName,class:"tok-typeName"},{tag:qt.namespace,class:"tok-namespace"},{tag:qt.className,class:"tok-className"},{tag:qt.macroName,class:"tok-macroName"},{tag:qt.propertyName,class:"tok-propertyName"},{tag:qt.operator,class:"tok-operator"},{tag:qt.comment,class:"tok-comment"},{tag:qt.meta,class:"tok-meta"},{tag:qt.invalid,class:"tok-invalid"},{tag:qt.punctuation,class:"tok-punctuation"}]);var ww;const Vg=new on,Yoe=new on;class ya{constructor(e,n,r=[],i=""){this.data=e,this.name=i,un.prototype.hasOwnProperty("tree")||Object.defineProperty(un.prototype,"tree",{get(){return Fl(this)}}),this.parser=n,this.extension=[Yf.of(this),un.languageData.of((o,s,l)=>{let u=fT(o,s,l),f=u.type.prop(Vg);if(!f)return[];let h=o.facet(f),p=u.type.prop(Yoe);if(p){let g=u.resolve(s-u.from,l);for(let v of p)if(v.test(g,o)){let b=o.facet(v.facet);return v.type=="replace"?b:b.concat(h)}}return h})].concat(r)}isActiveAt(e,n,r=-1){return fT(e,n,r).type.prop(Vg)==this.data}findRegions(e){let n=e.facet(Yf);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Vg)==this.data){r.push({from:s,to:s+o.length});return}let l=o.prop(on.mounted);if(l){if(l.tree.prop(Vg)==this.data){if(l.overlay)for(let u of l.overlay)r.push({from:u.from+s,to:u.to+s});else r.push({from:s,to:s+o.length});return}else if(l.overlay){let u=r.length;if(i(l.tree,l.overlay[0].from+s),r.length>u)return}}for(let u=0;u<o.children.length;u++){let f=o.children[u];f instanceof ai&&i(f,o.positions[u]+s)}};return i(Fl(e),0),r}get allowsNesting(){return!0}}ya.setState=Ar.define();function fT(t,e,n){let r=t.facet(Yf),i=Fl(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,Wr.ExcludeBuffers))o.type.isTop&&(i=o);return i}function Fl(t){let e=t.field(ya.state,!1);return e?e.tree:ai.empty}class Zoe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Nh=null;class ry{constructor(e,n,r=[],i,o,s,l,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new ry(e,n,[],ai.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Zoe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ai.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(qc.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(qc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Nh;Nh=this;try{return e()}finally{Nh=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=dT(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((f,h,p,g)=>u.push({fromA:f,toA:h,fromB:p,toB:g})),r=qc.applyChanges(r,u),i=ai.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){l=[];for(let f of this.skipped){let h=e.mapPos(f.from,1),p=e.mapPos(f.to,-1);h<p&&l.push({from:h,to:p})}}}return new ry(this.parser,n,r,i,o,s,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=dT(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Ioe{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let u=Nh;if(u){for(let f of i)u.tempSkipped.push(f);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=s,new ai(xo.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Nh}}function dT(t,e,n){return qc.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Wf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Wf(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=ry.create(e.facet(Yf).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Wf(r)}}ya.state=fu.define({create:Wf.init,update(t,e){for(let n of e.effects)if(n.is(ya.setState))return n.value;return e.startState.facet(Yf)!=e.state.facet(Yf)?Wf.init(e.state):t.apply(e)}});let bN=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(bN=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const xw=typeof navigator<"u"&&(!((ww=navigator.scheduling)===null||ww===void 0)&&ww.isInputPending)?()=>navigator.scheduling.isInputPending():null,Xoe=Ko.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(ya.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(ya.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=bN(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(ya.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!xw?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<i&&r.doc.length>i+1e3,u=o.context.work(()=>xw&&xw()||Date.now()>s,i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:ya.setState.of(new Wf(o.context))})),this.chunkBudget>0&&!(u&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Ss(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Yf=Bt.define({combine(t){return t.length?t[0]:null},enables:t=>[ya.state,Xoe,Nt.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]}),Goe=Bt.define(),$_=Bt.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Zf(t){let e=t.facet($_);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function iy(t,e){let n="",r=t.tabSize,i=t.facet($_)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function wN(t,e){t instanceof un&&(t=new p0(t));for(let r of t.state.facet(Goe)){let i=r(t,e);if(i!==void 0)return i}let n=Fl(t.state);return n.length>=e?Joe(t,n,e):null}class p0{constructor(e,n={}){this.state=e,this.options=n,this.unit=Zf(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return $p(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Qoe=new on;function Joe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s&&!(s.from<r.node.from||s.to>r.node.to||s.from==r.node.from&&s.type==r.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return xN(r,t,n)}function xN(t,e,n){for(let r=t;r;r=r.next){let i=tse(r.node);if(i)return i(F_.create(e,n,r))}return 0}function ese(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function tse(t){let e=t.type.prop(Qoe);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(on.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>ose(s,!0,1,void 0,o&&!ese(s)?i.from:void 0)}return t.parent==null?nse:null}function nse(){return 0}class F_ extends p0{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new F_(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(rse(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return xN(this.context.next,this.base,this.pos)}}function rse(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function ise(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let l=n.to;;){let u=e.childAfter(l);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=s)return null;let f=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+f}}l=u.to}}function ose(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,l=i==t.pos+s,u=ise(t);return u?l?t.column(u.from):t.column(u.to):t.baseIndent+(l?0:t.unit*n)}const sse=1e4,ase="()[]{}",lse=new on;function hS(t,e,n){let r=t.prop(e<0?on.openedBy:on.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function pS(t){let e=t.type.prop(lse);return e?e(t.node):t}function mf(t,e,n,r={}){let i=r.maxScanDistance||sse,o=r.brackets||ase,s=Fl(t),l=s.resolveInner(e,n);for(let u=l;u;u=u.parent){let f=hS(u.type,n,o);if(f&&u.from<u.to){let h=pS(u);if(h&&(n>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return cse(t,e,n,u,h,f,o)}}return use(t,e,n,s,l.type,i,o)}function cse(t,e,n,r,i,o,s){let l=r.parent,u={from:i.from,to:i.to},f=0,h=l?.cursor();if(h&&(n<0?h.childBefore(r.from):h.childAfter(r.to)))do if(n<0?h.to<=r.from:h.from>=r.to){if(f==0&&o.indexOf(h.type.name)>-1&&h.from<h.to){let p=pS(h);return{start:u,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(hS(h.type,n,s))f++;else if(hS(h.type,-n,s)){if(f==0){let p=pS(h);return{start:u,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}f--}}while(n<0?h.prevSibling():h.nextSibling());return{start:u,matched:!1}}function use(t,e,n,r,i,o,s){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=s.indexOf(l);if(u<0||u%2==0!=n>0)return null;let f={from:n<0?e-1:e,to:n>0?e+1:e},h=t.doc.iterRange(e,n>0?t.doc.length:0),p=0;for(let g=0;!h.next().done&&g<=o;){let v=h.value;n<0&&(g+=v.length);let b=e+g*n;for(let y=n>0?0:v.length-1,_=n>0?v.length:-1;y!=_;y+=n){let E=s.indexOf(v[y]);if(!(E<0||r.resolveInner(b+y,1).type!=i))if(E%2==0==n>0)p++;else{if(p==1)return{start:f,end:{from:b+y,to:b+y+1},matched:E>>1==u>>1};p--}}n>0&&(g+=v.length)}return h.done?{start:f,matched:!1}:null}const fse=Object.create(null),hT=[xo.none],pT=[],mT=Object.create(null),dse=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])dse[t]=hse(fse,e);function Sw(t,e){pT.indexOf(t)>-1||(pT.push(t),console.warn(e))}function hse(t,e){let n=[];for(let l of e.split(" ")){let u=[];for(let f of l.split(".")){let h=t[f]||qt[f];h?typeof h=="function"?u.length?u=u.map(h):Sw(f,`Modifier ${f} used at start of tag`):u.length?Sw(f,`Tag ${f} used as modifier`):u=Array.isArray(h)?h:[h]:Sw(f,`Unknown highlighting tag ${f}`)}for(let f of u)n.push(f)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(l=>l.id),o=mT[i];if(o)return o.id;let s=mT[i]=xo.define({id:hT.length,name:r,props:[Koe({[r]:n})]});return hT.push(s),s.id}vr.RTL,vr.LTR;const pse=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=H_(t.state,n.from);return r.line?mse(t):r.block?vse(t):!1};function U_(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const mse=U_(wse,0),gse=U_(SN,0),vse=U_((t,e)=>SN(t,e,bse(e)),0);function H_(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const jh=50;function yse(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-jh,r),s=t.sliceDoc(i,i+jh),l=/\s*$/.exec(o)[0].length,u=/^\s*/.exec(s)[0].length,f=o.length-l;if(o.slice(f-e.length,f)==e&&s.slice(u,u+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+u,margin:u&&1}};let h,p;i-r<=2*jh?h=p=t.sliceDoc(r,i):(h=t.sliceDoc(r,r+jh),p=t.sliceDoc(i-jh,i));let g=/^\s*/.exec(h)[0].length,v=/\s*$/.exec(p)[0].length,b=p.length-v-n.length;return h.slice(g,g+e.length)==e&&p.slice(b,b+n.length)==n?{open:{pos:r+g+e.length,margin:/\s/.test(h.charAt(g+e.length))?1:0},close:{pos:i-v-n.length,margin:/\s/.test(p.charAt(b-1))?1:0}}:null}function bse(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function SN(t,e,n=e.selection.ranges){let r=n.map(o=>H_(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>yse(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,l;s<i.length;s++)if(l=i[s]){let u=r[s],{open:f,close:h}=l;o.push({from:f.pos-u.open.length,to:f.pos+f.margin},{from:h.pos-h.margin,to:h.pos+u.close.length})}return{changes:o}}return null}function wse(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let l=r.length,u=1e9,f=H_(e,o).line;if(f){for(let h=o;h<=s;){let p=e.doc.lineAt(h);if(p.from>i&&(o==s||s>p.from)){i=p.from;let g=/^\s*/.exec(p.text)[0].length,v=g==p.length,b=p.text.slice(g,g+f.length)==f?g:-1;g<p.text.length&&g<u&&(u=g),r.push({line:p,comment:b,token:f,indent:g,empty:v,single:!1})}h=p.to+1}if(u<1e9)for(let h=l;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=u);r.length==l+1&&(r[l].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:u,indent:f,empty:h,single:p}of r)(p||!h)&&o.push({from:l.from+f,insert:u+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:u}of r)if(l>=0){let f=s.from+l,h=f+u.length;s.text[h-s.from]==" "&&h++,o.push({from:f,to:h})}return{changes:o}}return null}function pd(t,e){return rt.create(t.ranges.map(e),t.mainIndex)}function Zo(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Xo({state:t,dispatch:e},n){let r=pd(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Zo(t,r)),!0)}function m0(t,e){return rt.cursor(e?t.to:t.from)}function _N(t,e){return Xo(t,n=>n.empty?t.moveByChar(n,e):m0(n,e))}function fi(t){return t.textDirectionAt(t.state.selection.main.head)==vr.LTR}const CN=t=>_N(t,!fi(t)),kN=t=>_N(t,fi(t));function EN(t,e){return Xo(t,n=>n.empty?t.moveByGroup(n,e):m0(n,e))}const xse=t=>EN(t,!fi(t)),Sse=t=>EN(t,fi(t));function _se(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function g0(t,e,n){let r=Fl(t).resolveInner(e.head),i=n?on.closedBy:on.openedBy;for(let u=e.head;;){let f=n?r.childAfter(u):r.childBefore(u);if(!f)break;_se(t,f,i)?r=f:u=n?f.to:f.from}let o=r.type.prop(i),s,l;return o&&(s=n?mf(t,r.from,1):mf(t,r.to,-1))&&s.matched?l=n?s.end.to:s.end.from:l=n?r.to:r.from,rt.cursor(l,n?-1:1)}const Cse=t=>Xo(t,e=>g0(t.state,e,!fi(t))),kse=t=>Xo(t,e=>g0(t.state,e,fi(t)));function AN(t,e){return Xo(t,n=>{if(!n.empty)return m0(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const ON=t=>AN(t,!1),TN=t=>AN(t,!0);function DN(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(Nt.scrollMargins)){let s=o(t);s?.top&&(n=Math.max(s?.top,n)),s?.bottom&&(r=Math.max(s?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function RN(t,e){let n=DN(t),{state:r}=t,i=pd(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):m0(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),u=l.top+n.marginTop,f=l.bottom-n.marginBottom;s&&s.top>u&&s.bottom<f&&(o=Nt.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-u}))}return t.dispatch(Zo(r,i),{effects:o}),!0}const gT=t=>RN(t,!1),mS=t=>RN(t,!0);function Ql(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=rt.cursor(r.from+o))}return i}const Ese=t=>Xo(t,e=>Ql(t,e,!0)),Ase=t=>Xo(t,e=>Ql(t,e,!1)),Ose=t=>Xo(t,e=>Ql(t,e,!fi(t))),Tse=t=>Xo(t,e=>Ql(t,e,fi(t))),Dse=t=>Xo(t,e=>rt.cursor(t.lineBlockAt(e.head).from,1)),Rse=t=>Xo(t,e=>rt.cursor(t.lineBlockAt(e.head).to,-1));function Mse(t,e,n){let r=!1,i=pd(t.selection,o=>{let s=mf(t,o.head,-1)||mf(t,o.head,1)||o.head>0&&mf(t,o.head-1,1)||o.head<t.doc.length&&mf(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return rt.cursor(l)});return r?(e(Zo(t,i)),!0):!1}const Nse=({state:t,dispatch:e})=>Mse(t,e);function Eo(t,e){let n=pd(t.state.selection,r=>{let i=e(r);return rt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Zo(t.state,n)),!0)}function MN(t,e){return Eo(t,n=>t.moveByChar(n,e))}const NN=t=>MN(t,!fi(t)),jN=t=>MN(t,fi(t));function zN(t,e){return Eo(t,n=>t.moveByGroup(n,e))}const jse=t=>zN(t,!fi(t)),zse=t=>zN(t,fi(t)),Pse=t=>Eo(t,e=>g0(t.state,e,!fi(t))),Lse=t=>Eo(t,e=>g0(t.state,e,fi(t)));function PN(t,e){return Eo(t,n=>t.moveVertically(n,e))}const LN=t=>PN(t,!1),BN=t=>PN(t,!0);function IN(t,e){return Eo(t,n=>t.moveVertically(n,e,DN(t).height))}const vT=t=>IN(t,!1),yT=t=>IN(t,!0),Bse=t=>Eo(t,e=>Ql(t,e,!0)),Ise=t=>Eo(t,e=>Ql(t,e,!1)),$se=t=>Eo(t,e=>Ql(t,e,!fi(t))),Fse=t=>Eo(t,e=>Ql(t,e,fi(t))),Use=t=>Eo(t,e=>rt.cursor(t.lineBlockAt(e.head).from)),Hse=t=>Eo(t,e=>rt.cursor(t.lineBlockAt(e.head).to)),bT=({state:t,dispatch:e})=>(e(Zo(t,{anchor:0})),!0),wT=({state:t,dispatch:e})=>(e(Zo(t,{anchor:t.doc.length})),!0),xT=({state:t,dispatch:e})=>(e(Zo(t,{anchor:t.selection.main.anchor,head:0})),!0),ST=({state:t,dispatch:e})=>(e(Zo(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),qse=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Kse=({state:t,dispatch:e})=>{let n=v0(t).map(({from:r,to:i})=>rt.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:rt.create(n),userEvent:"select"})),!0},Vse=({state:t,dispatch:e})=>{let n=pd(t.selection,r=>{let i=Fl(t),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:l}=s;if((l.from<r.from&&l.to>=r.to||l.to>r.to&&l.from<=r.from)&&s.next)return rt.range(l.to,l.from)}return r});return n.eq(t.selection)?!1:(e(Zo(t,n)),!0)};function $N(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let o of n.selection.ranges){let s=n.doc.lineAt(o.head);if(e?s.to<t.state.doc.length:s.from>0)for(let l=o;;){let u=t.moveVertically(l,e);if(u.head<s.from||u.head>s.to){i.some(f=>f.head==u.head)||i.push(u);break}else{if(u.head==l.head)break;l=u}}}return i.length==r.ranges.length?!1:(t.dispatch(Zo(n,rt.create(i,i.length-1))),!0)}const Wse=t=>$N(t,!1),Yse=t=>$N(t,!0),Zse=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=rt.create([n.main]):n.main.empty||(r=rt.create([rt.cursor(n.main.head)])),r?(e(Zo(t,r)),!0):!1};function Wp(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let u=e(o);u<s?(n="delete.backward",u=Wg(t,u,!1)):u>s&&(n="delete.forward",u=Wg(t,u,!0)),s=Math.min(s,u),l=Math.max(l,u)}else s=Wg(t,s,!1),l=Wg(t,l,!0);return s==l?{range:o}:{changes:{from:s,to:l},range:rt.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Nt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Wg(t,e,n){if(t instanceof Nt)for(let r of t.state.facet(Nt.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const FN=(t,e,n)=>Wp(t,r=>{let i=r.from,{state:o}=t,s=o.doc.lineAt(i),l,u;if(n&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(l=s.text.slice(0,i-s.from))){if(l[l.length-1]=="	")return i-1;let f=$p(l,o.tabSize),h=f%Zf(o)||Zf(o);for(let p=0;p<h&&l[l.length-1-p]==" ";p++)i--;u=i}else u=gi(s.text,i-s.from,e,e)+s.from,u==i&&s.number!=(e?o.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(u-s.from,i-s.from))&&(u=gi(s.text,u-s.from,!1,!1)+s.from);return u}),gS=t=>FN(t,!1,!0),UN=t=>FN(t,!0,!1),HN=(t,e)=>Wp(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let l=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=gi(o.text,r-o.from,e)+o.from,f=o.text.slice(Math.min(r,u)-o.from,Math.max(r,u)-o.from),h=s(f);if(l!=null&&h!=l)break;(f!=" "||r!=n.head)&&(l=h),r=u}return r}),qN=t=>HN(t,!1),Xse=t=>HN(t,!0),Gse=t=>Wp(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Qse=t=>Wp(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),Jse=t=>Wp(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),eae=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:rn.of(["",""])},range:rt.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},tae=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:gi(o.text,i-o.from,!1)+o.from,l=i==o.to?i+1:gi(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:t.doc.slice(i,l).append(t.doc.slice(s,i))},range:rt.cursor(l)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function v0(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function KN(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of v0(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),l=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let u of o.ranges)i.push(rt.range(Math.min(t.doc.length,u.anchor+l),Math.min(t.doc.length,u.head+l)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let u of o.ranges)i.push(rt.range(u.anchor-l,u.head-l))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:rt.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const nae=({state:t,dispatch:e})=>KN(t,e,!1),rae=({state:t,dispatch:e})=>KN(t,e,!0);function VN(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of v0(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const iae=({state:t,dispatch:e})=>VN(t,e,!1),oae=({state:t,dispatch:e})=>VN(t,e,!0),sae=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(v0(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=pd(e.selection,i=>{let o;if(t.lineWrapping){let s=t.lineBlockAt(i.head),l=t.coordsAtPos(i.head,i.assoc||1);l&&(o=s.bottom+t.documentTop-l.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function aae(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Fl(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(on.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const _T=WN(!1),lae=WN(!0);function WN(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,l=e.doc.lineAt(o),u=!t&&o==s&&aae(e,o);t&&(o=s=(s<=l.to?l:e.doc.lineAt(s)).to);let f=new p0(e,{simulateBreak:o,simulateDoubleBreak:!!u}),h=wN(f,o);for(h==null&&(h=$p(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<l.to&&/\s/.test(l.text[s-l.from]);)s++;u?{from:o,to:s}=u:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let p=["",iy(e,h)];return u&&p.push(iy(e,f.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:rn.of(p)},range:rt.cursor(o+1+p[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function q_(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let l=t.doc.lineAt(s);l.number>n&&(r.empty||r.to>l.from)&&(e(l,i,r),n=l.number),s=l.to+1}let o=t.changes(i);return{changes:i,range:rt.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const cae=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new p0(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=q_(t,(o,s,l)=>{let u=wN(r,o.from);if(u==null)return;/\S/.test(o.text)||(u=0);let f=/^\s*/.exec(o.text)[0],h=iy(t,u);(f!=h||l.from<o.from+f.length)&&(n[o.from]=u,s.push({from:o.from,to:o.from+f.length,insert:h}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},YN=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(q_(t,(n,r)=>{r.push({from:n.from,insert:t.facet($_)})}),{userEvent:"input.indent"})),!0),ZN=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(q_(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=$p(i,t.tabSize),s=0,l=iy(t,Math.max(0,o-Zf(t)));for(;s<i.length&&s<l.length&&i.charCodeAt(s)==l.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),uae=t=>(t.setTabFocusMode(),!0),fae=[{key:"Ctrl-b",run:CN,shift:NN,preventDefault:!0},{key:"Ctrl-f",run:kN,shift:jN},{key:"Ctrl-p",run:ON,shift:LN},{key:"Ctrl-n",run:TN,shift:BN},{key:"Ctrl-a",run:Dse,shift:Use},{key:"Ctrl-e",run:Rse,shift:Hse},{key:"Ctrl-d",run:UN},{key:"Ctrl-h",run:gS},{key:"Ctrl-k",run:Gse},{key:"Ctrl-Alt-h",run:qN},{key:"Ctrl-o",run:eae},{key:"Ctrl-t",run:tae},{key:"Ctrl-v",run:mS}],dae=[{key:"ArrowLeft",run:CN,shift:NN,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:xse,shift:jse,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Ose,shift:$se,preventDefault:!0},{key:"ArrowRight",run:kN,shift:jN,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Sse,shift:zse,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Tse,shift:Fse,preventDefault:!0},{key:"ArrowUp",run:ON,shift:LN,preventDefault:!0},{mac:"Cmd-ArrowUp",run:bT,shift:xT},{mac:"Ctrl-ArrowUp",run:gT,shift:vT},{key:"ArrowDown",run:TN,shift:BN,preventDefault:!0},{mac:"Cmd-ArrowDown",run:wT,shift:ST},{mac:"Ctrl-ArrowDown",run:mS,shift:yT},{key:"PageUp",run:gT,shift:vT},{key:"PageDown",run:mS,shift:yT},{key:"Home",run:Ase,shift:Ise,preventDefault:!0},{key:"Mod-Home",run:bT,shift:xT},{key:"End",run:Ese,shift:Bse,preventDefault:!0},{key:"Mod-End",run:wT,shift:ST},{key:"Enter",run:_T,shift:_T},{key:"Mod-a",run:qse},{key:"Backspace",run:gS,shift:gS,preventDefault:!0},{key:"Delete",run:UN,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:qN,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Xse,preventDefault:!0},{mac:"Mod-Backspace",run:Qse,preventDefault:!0},{mac:"Mod-Delete",run:Jse,preventDefault:!0}].concat(fae.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),hae=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Cse,shift:Pse},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:kse,shift:Lse},{key:"Alt-ArrowUp",run:nae},{key:"Shift-Alt-ArrowUp",run:iae},{key:"Alt-ArrowDown",run:rae},{key:"Shift-Alt-ArrowDown",run:oae},{key:"Mod-Alt-ArrowUp",run:Wse},{key:"Mod-Alt-ArrowDown",run:Yse},{key:"Escape",run:Zse},{key:"Mod-Enter",run:lae},{key:"Alt-l",mac:"Ctrl-l",run:Kse},{key:"Mod-i",run:Vse,preventDefault:!0},{key:"Mod-[",run:ZN},{key:"Mod-]",run:YN},{key:"Mod-Alt-\\",run:cae},{key:"Shift-Mod-k",run:sae},{key:"Shift-Mod-\\",run:Nse},{key:"Mod-/",run:pse},{key:"Alt-A",run:gse},{key:"Ctrl-m",mac:"Shift-Alt-m",run:uae}].concat(dae),pae={key:"Tab",run:YN,shift:ZN};class mae{constructor(e){this.view=e,this.indentUnit=Zf(e.state),this.initialPaddingLeft=null,this.isChrome=window?.navigator.userAgent.includes("Chrome"),this.generate(e.state)}update(e){const n=Zf(e.state);(n!==this.indentUnit||e.docChanged||e.viewportChanged)&&(this.indentUnit=n,this.generate(e.state))}generate(e){const n=new vp;this.initialPaddingLeft?this.addStyleToBuilder(n,e,this.initialPaddingLeft):this.view.requestMeasure({read:r=>{const i=r.contentDOM.querySelector(".cm-line");i&&(this.initialPaddingLeft=window.getComputedStyle(i).getPropertyValue("padding-left"),this.addStyleToBuilder(n,r.state,this.initialPaddingLeft)),this.decorations=n.finish()}}),this.decorations=n.finish()}addStyleToBuilder(e,n,r){const i=this.getVisibleLines(n);for(const o of i){const{numColumns:s,containsTab:l}=this.numColumns(o.text,n.tabSize),u=`calc(${s+this.indentUnit}ch + ${r})`,f=this.isChrome?`calc(-${s+this.indentUnit}ch - ${l?1:0}px)`:`-${s+this.indentUnit}ch`;e.add(o.from,o.from,rr.line({attributes:{style:`padding-left: ${u}; text-indent: ${f};`}}))}}getVisibleLines(e){const n=new Set;let r=null;for(const{from:i,to:o}of this.view.visibleRanges){let s=i;for(;s<=o;){const l=e.doc.lineAt(s);r!==l&&(n.add(l),r=l),s=l.to+1}}return n}numColumns(e,n){let r=0,i=!1;e:for(let o=0;o<e.length;o++)switch(e[o]){case" ":{r+=1;continue e}case"	":{r+=n-r%n,i=!0;continue e}case"\r":continue e;default:break e}return{numColumns:r,containsTab:i}}}const gae=[Ko.fromClass(mae,{decorations:t=>t.decorations})],CT=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class vS{constructor(e,n,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?l=>o(CT(l)):CT,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return J6(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=bre(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=e8(e);let i=this.normalize(n);if(i.length)for(let o=0,s=r;;o++){let l=i.charCodeAt(o),u=this.match(l,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(u)return this.value=u,this;break}s==r&&o<n.length&&n.charCodeAt(o)==l&&s++}}}match(e,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],l=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,l=!0)),l||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(vS.prototype[Symbol.iterator]=function(){return this});const vae=({state:t,dispatch:e})=>{let{selection:n}=t,r=rt.create(n.ranges.map(i=>t.wordAt(i.head)||rt.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function yae(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,l=new vS(t.doc,e,r[r.length-1].to);;)if(l.next(),l.done){if(s)return null;l=new vS(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(u=>u.from==l.value.from))continue;if(o){let u=t.wordAt(l.value.from);if(!u||u.from!=l.value.from||u.to!=l.value.to)continue}return l.value}}const bae=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return vae({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=yae(t,r);return i?(e(t.update({selection:t.selection.addRange(rt.range(i.from,i.to),!1),effects:Nt.scrollIntoView(i.to)})),!0):!1};var wae='<svg viewBox="0 0 1024 1024" width="25" height="25" fill="currentColor"><path d="M607.934444 417.856853c-6.179746-6.1777-12.766768-11.746532-19.554358-16.910135l-0.01228 0.011256c-6.986111-6.719028-16.47216-10.857279-26.930349-10.857279-21.464871 0-38.864146 17.400299-38.864146 38.864146 0 9.497305 3.411703 18.196431 9.071609 24.947182l-0.001023 0c0.001023 0.001023 0.00307 0.00307 0.005117 0.004093 2.718925 3.242857 5.953595 6.03853 9.585309 8.251941 3.664459 3.021823 7.261381 5.997598 10.624988 9.361205l3.203972 3.204995c40.279379 40.229237 28.254507 109.539812-12.024871 149.820214L371.157763 796.383956c-40.278355 40.229237-105.761766 40.229237-146.042167 0l-3.229554-3.231601c-40.281425-40.278355-40.281425-105.809861 0-145.991002l75.93546-75.909877c9.742898-7.733125 15.997346-19.668968 15.997346-33.072233 0-23.312962-18.898419-42.211381-42.211381-42.211381-8.797363 0-16.963347 2.693342-23.725354 7.297197-0.021489-0.045025-0.044002-0.088004-0.066515-0.134053l-0.809435 0.757247c-2.989077 2.148943-5.691629 4.669346-8.025791 7.510044l-78.913281 73.841775c-74.178443 74.229608-74.178443 195.632609 0 269.758863l3.203972 3.202948c74.178443 74.127278 195.529255 74.127278 269.707698 0l171.829484-171.880649c74.076112-74.17435 80.357166-191.184297 6.282077-265.311575L607.934444 417.856853z"></path><path d="M855.61957 165.804257l-3.203972-3.203972c-74.17742-74.178443-195.528232-74.178443-269.706675 0L410.87944 334.479911c-74.178443 74.178443-78.263481 181.296089-4.085038 255.522628l3.152806 3.104711c3.368724 3.367701 6.865361 6.54302 10.434653 9.588379 2.583848 2.885723 5.618974 5.355985 8.992815 7.309476 0.025583 0.020466 0.052189 0.041956 0.077771 0.062422l0.011256-0.010233c5.377474 3.092431 11.608386 4.870938 18.257829 4.870938 20.263509 0 36.68962-16.428158 36.68962-36.68962 0-5.719258-1.309832-11.132548-3.645017-15.95846l0 0c-4.850471-10.891048-13.930267-17.521049-20.210297-23.802102l-3.15383-3.102664c-40.278355-40.278355-24.982998-98.79612 15.295358-139.074476l171.930791-171.830507c40.179095-40.280402 105.685018-40.280402 145.965419 0l3.206018 3.152806c40.279379 40.281425 40.279379 105.838513 0 146.06775l-75.686796 75.737962c-10.296507 7.628748-16.97358 19.865443-16.97358 33.662681 0 23.12365 18.745946 41.87062 41.87062 41.87062 8.048303 0 15.563464-2.275833 21.944801-6.211469 0.048095 0.081864 0.093121 0.157589 0.141216 0.240477l1.173732-1.083681c3.616364-2.421142 6.828522-5.393847 9.529027-8.792247l79.766718-73.603345C929.798013 361.334535 929.798013 239.981676 855.61957 165.804257z"></path></svg>';class xae extends Up{url;constructor(e){super(),this.url=e}eq(e){return e.url===this.url}toDOM(){const e=document.createElement("a");return e.href=this.url,e.target="__blank",e.innerHTML=wae,e.className="cm-hyper-link-icon",e}ignoreEvent(){return!1}}const Sae=/^https?:\/\/\S+$/i,_ae=(t,e,n)=>{let r,i=[],o=t.split(e);for(let s=0;s<o.length;s++)n+=o[s].length,Sae.test(o[s])&&(r=rr.widget({widget:new xae(o[s]),side:1}),i.push(r.range(n))),n++;return i};function kT(t){let e=[];for(let{from:n,to:r}of t.visibleRanges){let i,o=t.state.doc.lineAt(r).number,s=t.state.doc.lineAt(n),l=s.number;for(;s.number<o;)s=t.state.doc.line(l),i=s.from,e=e.concat(_ae(s.text," ",i)),l++}return rr.set(e)}const Cae=Ko.fromClass(class{decorations;constructor(t){this.decorations=kT(t)}update(t){(t.docChanged||t.viewportChanged)&&(this.decorations=kT(t.view))}},{decorations:t=>t.decorations});var kae=Nt.baseTheme({".cm-hyper-link-icon":{display:"inline-block",verticalAlign:"middle",marginLeft:"0.4ch"},".cm-hyper-link-icon svg":{display:"block"}});const Eae=t=>{const e=P.useRef(t);return e.current=t,P.useCallback((...r)=>e.current(...r),[])},Aae=({value:t,selections:e,onChange:n,onUndo:r,onRedo:i,onUp:o,id:s,placeholder:l,autoFocus:u,viewCb:f})=>{const h=P.useId(),p=P.useRef(null),g=P.useRef(!1),v=ud()==="dark",[b,y]=P.useState(!1),_=P.useRef(null);s||(s=h);const E=`${s}-focus-hint`,A=P.useMemo(()=>Nt.theme({"&":{backgroundColor:"#0000",outline:"none",height:"100%"},".cm-cursor, .cm-dropCursor":{borderLeft:"none",width:"2px",backgroundColor:v?"#fff":"#000"},".cm-content":{padding:0,fontFamily:Ic.fontFamily,fontSize:Ic.fontSize,fontWeight:Ic.fontWeight,caretColor:v?"#fff":"#000"},".cm-scroller":{fontFamily:Ic.fontFamily},".cm-line":{paddingLeft:0,textIndent:0},".cm-selectionBackground":{backgroundColor:(v?"#fff5":"#0005")+" !important"},".cm-placeholder":{color:v?"#fff":"#000",opacity:.5}}),[v]),O=P.useMemo(()=>[A,...FV()?[]:[boe()],Nt.lineWrapping,gae,Ooe(),Roe(),un.allowMultipleSelections.of(!0),Coe(l??""),Nt.contentAttributes.of({spellcheck:"true"}),Nt.editorAttributes.of({"aria-labelledby":E}),Cae,kae],[A,l,E]),T=P.useMemo(()=>dN.of([{key:"Mod-z",run:()=>(r(),!0),preventDefault:!0},{key:"Mod-Shift-z",run:()=>(i(),!0),preventDefault:!0},{key:"Mod-y",run:()=>(i(),!0),preventDefault:!0},{key:"Mod-Alt-ArrowUp",linux:"Shift-Alt-ArrowUp",run:Oae,preventDefault:!0},{key:"Mod-Alt-ArrowDown",linux:"Shift-Alt-ArrowDown",run:Tae,preventDefault:!0},{key:"ArrowUp",run:j=>{const U=j.state.selection.main;return U.from===0&&U.to===0?(o(),!0):!1},preventDefault:!0},{key:"Mod-d",run:bae,preventDefault:!0},...hae,pae]),[r,i,o]),R=P.useMemo(()=>Nt.updateListener.of(j=>{if(!g.current){if(j.docChanged||j.selectionSet){const U=j.state.doc.toString(),H=j.state.selection.ranges.map(Z=>({anchor:Z.anchor,head:Z.head}));n(U,H)}j.focusChanged&&y(j.view.hasFocus)}}),[n]),N=Eae(()=>{if(!p.current)throw new Error("hostRef.current is null");const j=e?.length?rt.create(e.map(Z=>rt.range(Z.anchor,Z.head))):rt.cursor(t.length),U=un.create({doc:t,selection:j,extensions:[...O,T,R]}),H=new Nt({state:U,parent:p.current});return _.current=H,f(H),y(H.hasFocus),u&&setTimeout(()=>{H.focus(),y(!0)},100),H});return P.useEffect(()=>{const j=N();return()=>{j.destroy(),_.current=null,y(!1)}},[O,N]),P.useEffect(()=>{const j=_.current;if(!j)return;const U=j.state.doc.toString(),H=t!==U,Z=j.state.selection.ranges.map(Y=>({anchor:Y.anchor,head:Y.head})),te=e.length===Z.length&&e.every((Y,M)=>Y.anchor===Z[M].anchor&&Y.head===Z[M].head),I={};H&&(I.changes={from:0,to:U.length,insert:t}),te||(I.selection=rt.create(e.map(Y=>rt.range(Y.anchor,Y.head))),I.scrollIntoView=!0),(H||!te)&&(g.current=!0,j.dispatch(I),g.current=!1)},[t,e]),S.jsx("div",{id:s,style:{flex:"1 1 0",position:"relative",minHeight:0,overflow:"hidden"},ref:p,children:nv()&&b&&S.jsx("div",{id:E,style:{position:"absolute",bottom:0,right:20,opacity:.5,fontSize:"var(--mantine-font-size-sm)"},children:"esc to remove focus"})})},XN=t=>e=>{const n=t==="down";let r=e.state.selection;for(const i of r.ranges)r=r.addRange(e.moveVertically(i,n));return e.dispatch({selection:r}),!0},Oae=XN("up"),Tae=XN("down"),GN=t=>{const e=gt.c(7);let n,r,i,o,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M20.984 12.535a9 9 0 1 0 -8.468 8.45"}),i=S.jsx("path",{d:"M16 19h6"}),o=S.jsx("path",{d:"M19 16v6"}),s=S.jsx("path",{d:"M12 7v5l3 3"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o,e[4]=s):(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4]);let l;return e[5]!==t?(l=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o,s]}),e[5]=t,e[6]=l):l=e[6],l},QN=t=>{const e=gt.c(6);let n,r,i,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M21 12a9 9 0 1 0 -9.972 8.948c.32 .034 .644 .052 .972 .052"}),i=S.jsx("path",{d:"M12 7v5l2 2"}),o=S.jsx("path",{d:"M18.42 15.61a2.1 2.1 0 0 1 2.97 2.97l-3.39 3.42h-3v-3l3.42 -3.39z"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o):(n=e[0],r=e[1],i=e[2],o=e[3]);let s;return e[4]!==t?(s=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o]}),e[4]=t,e[5]=s):s=e[5],s},Dae=t=>t===null?null:t.type==="note"?{type:"note",txt:t.txt,selections:t.selections}:{type:"todo",todos:t.todos},Rae=()=>{const t=gt.c(109),e=ud(),n=bt(Mae),{labelDropdownOpen:r,moreMenuOpen:i}=bt(Nae),o=bt(jae);let s;t[0]!==n?(s=()=>n?et.notes.get(n.id):void 0,t[0]=n,t[1]=s):s=t[1];const l=n?.id;let u;t[2]!==l?(u=[l],t[2]=l,t[3]=u):u=t[3];const f=Xl(s,u),h=f?.labels?.[0],p=h?o[h]?.hue??null:null;let g;t[4]!==n?(g=Dae(n),t[4]=n,t[5]=g):g=t[5];const v=g,{undo:b,redo:y,canUndo:_,canRedo:E}=fre(v,LX,500,n?.id??null),A=!!n;let O;t[6]!==A?(O={id:"open-note-dialog",open:A,onClose:Fh},t[6]=A,t[7]=O):O=t[7],ci(O);const T=!!n&&n.type==="note"&&n.txt===""&&n.title==="",R=P.useRef(null);let N;t[8]!==r||t[9]!==i||t[10]!==A?(N=[["Escape",()=>{const Qe=document.activeElement,Tr=document.getElementById("open-note-editor");if(i){xf(!1);const zn=document.querySelector(".open-note-more-menu");zn instanceof HTMLElement&&zn.focus()}else if(r){fx(!1);const zn=document.querySelector(".open-note-label-button");zn instanceof HTMLElement&&zn.focus()}else if(Tr?.contains(Qe)){const zn=document.querySelector(".open-note-more-menu");zn instanceof HTMLElement&&zn.focus()}else A&&Fh()}]],t[8]=r,t[9]=i,t[10]=A,t[11]=N):N=t[11];let j;t[12]===Symbol.for("react.memo_cache_sentinel")?(j=[],t[12]=j):j=t[12],Gf(N,j,!0);const U=e==="dark";let H;t[13]!==p||t[14]!==U?(H=zp(p,U),t[13]=p,t[14]=U,t[15]=H):H=t[15];let Z;t[16]!==H?(Z={height:"var(--viewport-height, 100dvh)",display:"flex",flexDirection:"column",backgroundColor:H},t[16]=H,t[17]=Z):Z=t[17];let te,I;t[18]===Symbol.for("react.memo_cache_sentinel")?(te={flex:"0 0 100%",height:"100%",display:"flex",flexDirection:"column",gap:"1rem"},I={maxWidth:"750px",left:"max(0px, (100vw - 750px) / 2)"},t[18]=te,t[19]=I):(te=t[18],I=t[19]);let Y;t[20]!==Z?(Y={content:Z,body:te,inner:I},t[20]=Z,t[21]=Y):Y=t[21];let M;t[22]===Symbol.for("react.memo_cache_sentinel")?(M={border:"none",fontSize:"1.5rem",fontWeight:"bold",outline:"none",background:"transparent"},t[22]=M):M=t[22];const J=n?.title??"";let V;t[23]!==n?(V=Qe=>{if(!(!n||Qe.key!=="Enter"&&(Qe.key!=="ArrowDown"||Qe.currentTarget.selectionEnd!==n.title.length)))if(Qe.preventDefault(),Qe.stopPropagation(),n.type==="todo"){const Tr=Qe.currentTarget.parentElement?.querySelector("textarea:not(:disabled)")??null,zn=Qe.currentTarget.parentElement;Qe.key==="ArrowDown"&&!n.todos.some(Pae)?(G1(),queueMicrotask(()=>zn?.querySelector("textarea")?.focus())):Qe.key==="Enter"&&(!Tr||Tr.value!=="")?(G1(),queueMicrotask(()=>zn?.querySelector("textarea")?.focus())):Tr&&queueMicrotask(()=>Tr.focus())}else n.type==="note"&&R.current?.focus()},t[23]=n,t[24]=V):V=t[24];const X=T?!0:void 0;let Q;t[25]!==J||t[26]!==V||t[27]!==X?(Q=S.jsx("input",{id:"open-note-title",style:M,autoComplete:"off",placeholder:"Title",type:"text",value:J,onChange:zae,onKeyDown:V,"data-autofocus":X}),t[25]=J,t[26]=V,t[27]=X,t[28]=Q):Q=t[28];let ne;t[29]!==T||t[30]!==n||t[31]!==y||t[32]!==b?(ne=n?.type==="note"?S.jsx(Aae,{placeholder:"Note text",value:n.txt,selections:n.selections,onChange:DX,onUndo:b,onRedo:y,onUp:ET,id:"open-note-editor",autoFocus:nv()&&!T,viewCb:Qe=>R.current=Qe}):n?.type==="todo"?S.jsx(Ox,{todos:n.todos,onTodoChecked:NX,onTodoChanged:jX,onInsertTodo:G1,onTodoDeleted:zX,onMoveTodo:LM,onMoveTodoByOne:PX,onUndo:b,onRedo:y,onUp:ET,autoFocus:nv()&&!T}):null,t[29]=T,t[30]=n,t[31]=y,t[32]=b,t[33]=ne):ne=t[33];let ue;t[34]!==i?(ue=()=>xf(!i),t[34]=i,t[35]=ue):ue=t[35];const $=nv()&&!T?void 0:!0;let q;t[36]===Symbol.for("react.memo_cache_sentinel")?(q=S.jsx(w_,{}),t[36]=q):q=t[36];let se;t[37]!==ue||t[38]!==$?(se=S.jsx(nn.Target,{children:S.jsx(nr,{title:"open menu",text:"more",className:"open-note-more-menu",onClick:ue,"data-autofocus":$,children:q})}),t[37]=ue,t[38]=$,t[39]=se):se=t[39];let le;t[40]===Symbol.for("react.memo_cache_sentinel")?(le=S.jsx(GN,{}),t[40]=le):le=t[40];let me;t[41]!==f?(me=f?kl(f.created_at):"",t[41]=f,t[42]=me):me=t[42];let je;t[43]!==me?(je=S.jsx(nn.Item,{leftSection:le,disabled:!0,title:"Created",children:me}),t[43]=me,t[44]=je):je=t[44];let We;t[45]===Symbol.for("react.memo_cache_sentinel")?(We=S.jsx(QN,{}),t[45]=We):We=t[45];let Xe;t[46]!==n?(Xe=n?kl(n.updatedAt):"",t[46]=n,t[47]=Xe):Xe=t[47];let Ae;t[48]!==Xe?(Ae=S.jsx(nn.Item,{leftSection:We,disabled:!0,title:"Updated",children:Xe}),t[48]=Xe,t[49]=Ae):Ae=t[49];let ht;t[50]===Symbol.for("react.memo_cache_sentinel")?(ht=S.jsx(p_,{}),t[50]=ht):ht=t[50];let Ye;t[51]!==n?(Ye=S.jsx(nn.Item,{leftSection:ht,onClick:()=>{n&&(xf(!1),navigator.clipboard.writeText(n.type==="note"?n.txt:KR(n.todos)),Dt.show({message:"Note copied to clipboard.   "}))},children:"Copy to clipboard"}),t[51]=n,t[52]=Ye):Ye=t[52];let Je;t[53]===Symbol.for("react.memo_cache_sentinel")?(Je=S.jsx(nn.Item,{leftSection:S.jsx(Bp,{}),onClick:Bae,children:"Delete note"}),t[53]=Je):Je=t[53];let ct;t[54]===Symbol.for("react.memo_cache_sentinel")?(ct=S.jsx(S_,{}),t[54]=ct):ct=t[54];const B=n?.archived?"Unarchive note":"Archive note";let Ee;t[55]!==B?(Ee=S.jsx(nn.Item,{leftSection:ct,onClick:Iae,children:B}),t[55]=B,t[56]=Ee):Ee=t[56];let be;t[57]!==je||t[58]!==Ae||t[59]!==Ye||t[60]!==Ee?(be=S.jsxs(nn.Dropdown,{children:[je,Ae,Ye,Je,Ee]}),t[57]=je,t[58]=Ae,t[59]=Ye,t[60]=Ee,t[61]=be):be=t[61];let ee;t[62]!==i||t[63]!==se||t[64]!==be?(ee=S.jsxs(nn,{shadow:"md",width:230,opened:i,onDismiss:Lae,closeOnClickOutside:!0,closeOnEscape:!1,children:[se,be]}),t[62]=i,t[63]=se,t[64]=be,t[65]=ee):ee=t[65];let G;t[66]===Symbol.for("react.memo_cache_sentinel")?(G=S.jsx("div",{style:{flex:"1 1 0"}}),t[66]=G):G=t[66];let ae;t[67]!==r?(ae=()=>fx(!r),t[67]=r,t[68]=ae):ae=t[68];let Ne;t[69]===Symbol.for("react.memo_cache_sentinel")?(Ne=S.jsx(u0,{}),t[69]=Ne):Ne=t[69];let Me;t[70]!==ae?(Me=S.jsx(Zn.Target,{children:S.jsx(nr,{className:"open-note-label-button",title:"Add label",text:"label",onClick:ae,children:Ne})}),t[70]=ae,t[71]=Me):Me=t[71];let pe;t[72]!==n?(pe=n&&S.jsx(z6,{noteId:n.id}),t[72]=n,t[73]=pe):pe=t[73];let Ue;t[74]!==pe?(Ue=S.jsx(Zn.Dropdown,{children:pe}),t[74]=pe,t[75]=Ue):Ue=t[75];let ge;t[76]!==r||t[77]!==Me||t[78]!==Ue?(ge=S.jsxs(Zn,{width:"300px",position:"top",withArrow:!0,shadow:"md",trapFocus:!0,closeOnEscape:!1,closeOnClickOutside:!0,opened:r,onDismiss:$ae,children:[Me,Ue]}),t[76]=r,t[77]=Me,t[78]=Ue,t[79]=ge):ge=t[79];const Oe=n?.type==="todo"?"Turn into text note":"Turn into todo list",Ge=n?.type==="todo"?"text":"todo";let tt;t[80]===Symbol.for("react.memo_cache_sentinel")?(tt=S.jsx(c0,{}),t[80]=tt):tt=t[80];let vt;t[81]!==Oe||t[82]!==Ge?(vt=S.jsx(nr,{title:Oe,text:Ge,onClick:RX,children:tt}),t[81]=Oe,t[82]=Ge,t[83]=vt):vt=t[83];let zt;t[84]!==b?(zt=()=>{b(),queueMicrotask(()=>{const Qe=R.current;Qe&&(Qe.focus(),Qe.dispatch({scrollIntoView:!0}))})},t[84]=b,t[85]=zt):zt=t[85];const ln=!_;let Qt;t[86]===Symbol.for("react.memo_cache_sentinel")?(Qt=S.jsx(lre,{}),t[86]=Qt):Qt=t[86];let Ct;t[87]!==zt||t[88]!==ln?(Ct=S.jsx(nr,{title:"Undo",text:"undo",onMouseDown:Fae,onClick:zt,disabled:ln,children:Qt}),t[87]=zt,t[88]=ln,t[89]=Ct):Ct=t[89];let St;t[90]!==y?(St=()=>{y(),queueMicrotask(()=>{const Qe=R.current;Qe&&(Qe.focus(),Qe.dispatch({scrollIntoView:!0}))})},t[90]=y,t[91]=St):St=t[91];const $t=!E;let Ut;t[92]===Symbol.for("react.memo_cache_sentinel")?(Ut=S.jsx(cre,{}),t[92]=Ut):Ut=t[92];let nt;t[93]!==St||t[94]!==$t?(nt=S.jsx(nr,{title:"Redo",text:"redo",onMouseDown:Uae,onClick:St,disabled:$t,children:Ut}),t[93]=St,t[94]=$t,t[95]=nt):nt=t[95];let jn;t[96]===Symbol.for("react.memo_cache_sentinel")?(jn=S.jsx(nr,{title:"Close note",text:"close",onClick:Fh,children:S.jsx(uu,{})}),t[96]=jn):jn=t[96];let Vt;t[97]!==ee||t[98]!==ge||t[99]!==vt||t[100]!==Ct||t[101]!==nt?(Vt=S.jsxs(or,{gap:"xs",children:[ee,G,ge,vt,Ct,nt,jn]}),t[97]=ee,t[98]=ge,t[99]=vt,t[100]=Ct,t[101]=nt,t[102]=Vt):Vt=t[102];let Vn;return t[103]!==A||t[104]!==Y||t[105]!==Q||t[106]!==ne||t[107]!==Vt?(Vn=S.jsxs(Qi,{opened:A,position:"top",size:"100%",withCloseButton:!1,closeOnEscape:!1,onClose:Fh,styles:Y,children:[Q,ne,Vt]}),t[103]=A,t[104]=Y,t[105]=Q,t[106]=ne,t[107]=Vt,t[108]=Vn):Vn=t[108],Vn},ET=()=>{const t=document.getElementById("open-note-title");t&&t.focus()};function Mae(t){return t.notes.openNote}function Nae(t){return t.notes.noteDialog}function jae(t){return t.labels.labelsCache}function zae(t){return TX(t.target.value)}function Pae(t){return!t.done}function Lae(){return xf(!1)}function Bae(){xf(!1),Na({id:"delete-open-note",title:"Delete note?",labels:{confirm:"Delete",cancel:"Cancel"},confirmProps:{color:"red"},onConfirm:BM})}function Iae(){xf(!1),MX()}function $ae(){fx(!1)}function Fae(t){t.preventDefault()}function Uae(t){t.preventDefault()}const Hae=()=>{const t=gt.c(8),e=bt(qae);let n;t[0]!==e?(n={id:"imprint-dialog",open:e,onClose:lx},t[0]=e,t[1]=n):n=t[1],ci(n);let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx("br",{}),t[2]=r):r=t[2];let i;t[3]===Symbol.for("react.memo_cache_sentinel")?(i=S.jsx("br",{}),t[3]=i):i=t[3];let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsx("br",{}),t[4]=o):o=t[4];let s;t[5]===Symbol.for("react.memo_cache_sentinel")?(s=S.jsxs(dn,{children:["Owner of this Web-App:",r,"Name: Raphael Nubaumer BSc",i,"Address: Sohlstrae 3, 6845 Hohenems, Austria",o,"Email: ",S.jsx("a",{href:"mailto:raphaeln@outlook.com",children:"raphaeln@outlook.com"}),S.jsx("br",{}),S.jsx("br",{}),"Version: ","unknown"]}),t[5]=s):s=t[5];let l;return t[6]!==e?(l=S.jsx(Nn,{opened:e,onClose:lx,title:"Imprint",children:s}),t[6]=e,t[7]=l):l=t[7],l};function qae(t){return t.user.imprintOpen}const Kae=()=>{const t=gt.c(18),{open:e,code:n,codeLoading:r,deleteLoading:i}=bt(Wae);let o;t[0]!==n||t[1]!==r||t[2]!==i?(o=S.jsx(gr,{label:"Confirmation Code",value:n,onChange:Yae,placeholder:"Enter the 6-digit code sent to your email",disabled:r||i}),t[0]=n,t[1]=r,t[2]=i,t[3]=o):o=t[3];const s=n.length!==6;let l;t[4]!==i||t[5]!==s?(l=S.jsx(fn,{loading:i,onClick:qZ,disabled:s,children:"Delete Server Notes and generate new crypto key"}),t[4]=i,t[5]=s,t[6]=l):l=t[6];let u;t[7]!==r?(u=S.jsx(fn,{variant:"light",loading:r,onClick:bM,children:"Resend Code"}),t[7]=r,t[8]=u):u=t[8];let f;t[9]!==l||t[10]!==u?(f=S.jsxs(Pr,{children:[l,u]}),t[9]=l,t[10]=u,t[11]=f):f=t[11];let h;t[12]!==o||t[13]!==f?(h=S.jsxs(mr,{children:[o,f]}),t[12]=o,t[13]=f,t[14]=h):h=t[14];let p;return t[15]!==e||t[16]!==h?(p=S.jsx(Nn,{opened:e,onClose:UZ,title:"Delete Server Notes",children:h}),t[15]=e,t[16]=h,t[17]=p):p=t[17],p},Vae=()=>{const t=gt.c(18),{open:e,code:n,codeLoading:r,deleteLoading:i}=bt(Zae);let o;t[0]!==n||t[1]!==r||t[2]!==i?(o=S.jsx(gr,{label:"Confirmation Code",value:n,onChange:Xae,placeholder:"Enter the 6-digit code sent to your email",disabled:r||i}),t[0]=n,t[1]=r,t[2]=i,t[3]=o):o=t[3];const s=n.length!==6;let l;t[4]!==i||t[5]!==s?(l=S.jsx(fn,{loading:i,onClick:WZ,disabled:s,children:"Delete Account"}),t[4]=i,t[5]=s,t[6]=l):l=t[6];let u;t[7]!==r?(u=S.jsx(fn,{variant:"light",loading:r,onClick:wM,children:"Resend Code"}),t[7]=r,t[8]=u):u=t[8];let f;t[9]!==l||t[10]!==u?(f=S.jsxs(Pr,{children:[l,u]}),t[9]=l,t[10]=u,t[11]=f):f=t[11];let h;t[12]!==o||t[13]!==f?(h=S.jsxs(mr,{children:[o,f]}),t[12]=o,t[13]=f,t[14]=h):h=t[14];let p;return t[15]!==e||t[16]!==h?(p=S.jsx(Nn,{opened:e,onClose:KZ,title:"Delete Account",children:h}),t[15]=e,t[16]=h,t[17]=p):p=t[17],p};function Wae(t){return t.user.deleteServerNotesDialog}function Yae(t){return HZ(t.target.value)}function Zae(t){return t.user.deleteAccountDialog}function Xae(t){return VZ(t.target.value)}const Gae=()=>{const t=gt.c(7),{open:e}=bt(ele);let n;t[0]!==e?(n={id:"admin-dialog",open:e,onClose:vO},t[0]=e,t[1]=n):n=t[1],ci(n);let r,i,o;t[2]===Symbol.for("react.memo_cache_sentinel")?(r={title:"Close admin panel"},i=S.jsx(Qae,{}),o=S.jsx(Jae,{}),t[2]=r,t[3]=i,t[4]=o):(r=t[2],i=t[3],o=t[4]);let s;return t[5]!==e?(s=S.jsxs(Nn,{title:"Admin Panel",opened:e,onClose:vO,closeButtonProps:r,children:[i,o]}),t[5]=e,t[6]=s):s=t[6],s},Qae=()=>{const t=gt.c(18),[e,n]=P.useState(""),[r,i]=P.useState(""),[o,s]=P.useState(!1);let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=S.jsx(Hy,{order:4,children:"Create user"}),t[0]=l):l=t[0];let u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u=_=>n(_.target.value),t[1]=u):u=t[1];let f;t[2]!==e?(f=S.jsx(gr,{label:"New username",value:e,onChange:u}),t[2]=e,t[3]=f):f=t[3];let h;t[4]===Symbol.for("react.memo_cache_sentinel")?(h=_=>i(_.target.value),t[4]=h):h=t[4];let p;t[5]!==r?(p=S.jsx(gr,{label:"Initial password",type:"password",value:r,onChange:h}),t[5]=r,t[6]=p):p=t[6];const g=!e||!r;let v;t[7]!==r||t[8]!==e?(v=async()=>{s(!0);const _=await uV(e,r);s(!1),_.success?Dt.show({title:"User created",message:e}):Dt.show({title:"Create user failed",message:_.error,color:"red"})},t[7]=r,t[8]=e,t[9]=v):v=t[9];let b;t[10]!==o||t[11]!==g||t[12]!==v?(b=S.jsx(fn,{loading:o,disabled:g,onClick:v,children:"Create user"}),t[10]=o,t[11]=g,t[12]=v,t[13]=b):b=t[13];let y;return t[14]!==f||t[15]!==p||t[16]!==b?(y=S.jsxs(mr,{children:[l,f,p,b]}),t[14]=f,t[15]=p,t[16]=b,t[17]=y):y=t[17],y},Jae=()=>{const t=gt.c(23),[e,n]=P.useState(""),[r,i]=P.useState(""),[o,s]=P.useState(""),[l,u]=P.useState(!1);let f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(Hy,{order:4,children:"Set password"}),t[0]=f):f=t[0];let h;t[1]===Symbol.for("react.memo_cache_sentinel")?(h=T=>n(T.target.value),t[1]=h):h=t[1];let p;t[2]!==e?(p=S.jsx(gr,{label:"Target username/email",value:e,onChange:h}),t[2]=e,t[3]=p):p=t[3];let g;t[4]===Symbol.for("react.memo_cache_sentinel")?(g=T=>i(T.target.value),t[4]=g):g=t[4];let v;t[5]!==r?(v=S.jsx(gr,{label:"New password",type:"password",value:r,onChange:g}),t[5]=r,t[6]=v):v=t[6];let b;t[7]===Symbol.for("react.memo_cache_sentinel")?(b=T=>s(T.target.value),t[7]=b):b=t[7];let y;t[8]!==o?(y=S.jsx(gr,{label:"Your admin password",type:"password",value:o,onChange:b}),t[8]=o,t[9]=y):y=t[9];const _=!e||!r||!o;let E;t[10]!==o||t[11]!==r||t[12]!==e?(E=async()=>{u(!0);const T=await fV(e,r,o);u(!1),T.success?Dt.show({title:"Password set",message:e}):Dt.show({title:"Set password failed",message:T.error,color:"red"})},t[10]=o,t[11]=r,t[12]=e,t[13]=E):E=t[13];let A;t[14]!==l||t[15]!==_||t[16]!==E?(A=S.jsx(fn,{loading:l,disabled:_,onClick:E,children:"Set password"}),t[14]=l,t[15]=_,t[16]=E,t[17]=A):A=t[17];let O;return t[18]!==p||t[19]!==v||t[20]!==y||t[21]!==A?(O=S.jsxs(mr,{mt:"xl",children:[f,p,v,y,A]}),t[18]=p,t[19]=v,t[20]=y,t[21]=A,t[22]=O):O=t[22],O};function ele(t){return t.admin}const tle=()=>{const t=gt.c(15),{open:e,file:n,error:r,importArchived:i}=bt(nle);let o;t[0]!==e?(o={id:"keep-import-dialog",open:e,onClose:hx},t[0]=e,t[1]=o):o=t[1],ci(o);let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=S.jsxs(dn,{mb:"sm",children:["Go to"," ",S.jsx("a",{href:"https://takeout.google.com",target:"_blank",rel:"noopener noreferrer",children:"takeout.google.com"})," ","and select only Keep to export and zip as format."]}),t[2]=s):s=t[2];let l;t[3]!==r||t[4]!==n?(l=S.jsx(j5,{value:n,onChange:TG,label:"Select file",accept:".zip,application/x-zip-compressed,application/zip",error:r}),t[3]=r,t[4]=n,t[5]=l):l=t[5];let u;t[6]!==i?(u=S.jsx(Vl,{mt:"sm",label:"Import archived notes",checked:i,onChange:rle}),t[6]=i,t[7]=u):u=t[7];const f=!n;let h;t[8]!==f?(h=S.jsx(Pr,{justify:"end",mt:"lg",children:S.jsx(fn,{onClick:NG,disabled:f,children:"Import"})}),t[8]=f,t[9]=h):h=t[9];let p;return t[10]!==e||t[11]!==l||t[12]!==u||t[13]!==h?(p=S.jsxs(Nn,{opened:e,onClose:hx,title:"Import notes from Keep",children:[s,l,u,h]}),t[10]=e,t[11]=l,t[12]=u,t[13]=h,t[14]=p):p=t[14],p};function nle(t){return t.import.keepImportDialog}function rle(t){return DG(t.target.checked)}const ile=t=>{const e=gt.c(5);let n,r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"}),i=S.jsx("path",{d:"M13.5 6.5l4 4"}),e[0]=n,e[1]=r,e[2]=i):(n=e[0],r=e[1],i=e[2]);let o;return e[3]!==t?(o=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i]}),e[3]=t,e[4]=o):o=e[4],o},ole=()=>{const t=gt.c(36),{activeLabel:e,labelSelectorOpen:n}=bt(ale),r=bt(n0),i=ud();let o;t[0]!==n?(o={id:"label-selector",open:n,onClose:Nl},t[0]=n,t[1]=o):o=t[1],ci(o);let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s={content:{position:"relative",overflowY:"hidden"},body:{height:"100%",display:"flex",flexDirection:"column"}},t[2]=s):s=t[2];let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l={overflowY:"auto"},t[3]=l):l=t[3];let u;if(t[4]!==e||t[5]!==i||t[6]!==r){let te;t[8]!==e||t[9]!==i?(te=I=>S.jsx(sle,{active:e===I.id,darkMode:i==="dark",...I},I.id),t[8]=e,t[9]=i,t[10]=te):te=t[10],u=r.map(te),t[4]=e,t[5]=i,t[6]=r,t[7]=u}else u=t[7];let f;t[11]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx("div",{style:{paddingBottom:"3rem"}}),t[11]=f):f=t[11];let h;t[12]!==u?(h=S.jsxs(mr,{gap:"xs",style:l,flex:1,children:[u,f]}),t[12]=u,t[13]=h):h=t[13];let p;t[14]===Symbol.for("react.memo_cache_sentinel")?(p={position:"relative",overflow:"visible"},t[14]=p):p=t[14];let g;t[15]===Symbol.for("react.memo_cache_sentinel")?(g={position:"absolute",bottom:"4px",right:"4px"},t[15]=g):g=t[15];let v,b;t[16]===Symbol.for("react.memo_cache_sentinel")?(v=S.jsx("div",{style:p,children:S.jsx(nr,{style:g,text:"new",onClick:vG,title:"Create new label",children:S.jsx(fd,{})})}),b=S.jsx(Op,{mb:"md",mt:"xs"}),t[16]=v,t[17]=b):(v=t[16],b=t[17]);const y=e==="all"?"2px solid var(--mantine-color-bright)":"none";let _;t[18]===Symbol.for("react.memo_cache_sentinel")?(_={borderRadius:"var(--mantine-radius-md)",outlineOffset:"2px"},t[18]=_):_=t[18];const E=i==="dark"?tY:eY;let A;t[19]!==y||t[20]!==E?(A=S.jsx(ut,{ta:"left",bd:y,p:"xs",flex:"1 1 0",style:_,bg:E,onClick:lle,component:"button",title:"Show all notes",children:"All notes"}),t[19]=y,t[20]=E,t[21]=A):A=t[21];const O=e==="unlabeled"?"2px solid var(--mantine-color-bright)":"none";let T;t[22]===Symbol.for("react.memo_cache_sentinel")?(T={borderRadius:"var(--mantine-radius-md)",outlineOffset:"2px"},t[22]=T):T=t[22];let R;t[23]!==O?(R=S.jsx(Af,{shadow:"md",ta:"left",bd:O,p:"xs",flex:"1 1 0",style:T,onClick:cle,bg:"var(--mantine-color-body)",component:"button",title:"Show unlabeled notes",children:"Unlabeled"}),t[23]=O,t[24]=R):R=t[24];const N=e==="archived"?"2px solid var(--mantine-color-bright)":"none";let j;t[25]!==N?(j=S.jsx(Af,{shadow:"md",ta:"left",bd:N,p:"xs",flex:"1 1 0",onClick:ule,bg:"var(--mantine-color-body)",component:"button",title:"Show archived notes",children:"Archived"}),t[25]=N,t[26]=j):j=t[26];let U;t[27]!==A||t[28]!==R||t[29]!==j?(U=S.jsxs(or,{gap:"xs",children:[A,R,j]}),t[27]=A,t[28]=R,t[29]=j,t[30]=U):U=t[30];let H;t[31]===Symbol.for("react.memo_cache_sentinel")?(H=S.jsxs(or,{justify:"space-between",pt:"md",children:["Labels",S.jsx(ir,{title:"Close label selector",onClick:Nl,children:S.jsx(uu,{})})]}),t[31]=H):H=t[31];let Z;return t[32]!==n||t[33]!==U||t[34]!==h?(Z=S.jsxs(Qi,{opened:n,withCloseButton:!1,onClose:Nl,styles:s,children:[h,v,b,U,H]}),t[32]=n,t[33]=U,t[34]=h,t[35]=Z):Z=t[35],Z},sle=t=>{const e=gt.c(41);let n,r,i,o,s,l,u,f;if(e[0]!==t){const{active:j,darkMode:U,...H}=t;r=H,n=or,i=r.id,o="center",s=j?"2px solid var(--mantine-color-bright)":"none",l="xs",e[9]===Symbol.for("react.memo_cache_sentinel")?(u={borderRadius:"var(--mantine-radius-md)",outlineOffset:"2px"},e[9]=u):u=e[9],f=zp(r.hue,U),e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=l,e[7]=u,e[8]=f}else n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8];let h;e[10]!==r.id?(h=()=>{ja(r.id),Nl()},e[10]=r.id,e[11]=h):h=e[11];const p=`Select label ${r.name}`;let g;e[12]!==r.name||e[13]!==h||e[14]!==p?(g=S.jsx(ir,{flex:1,onClick:h,title:p,children:r.name}),e[12]=r.name,e[13]=h,e[14]=p,e[15]=g):g=e[15];let v;e[16]!==r.id?(v=j=>{j.stopPropagation(),yG(r.id)},e[16]=r.id,e[17]=v):v=e[17];const b=`Edit label ${r.name}`;let y;e[18]===Symbol.for("react.memo_cache_sentinel")?(y=S.jsx(ile,{}),e[18]=y):y=e[18];let _;e[19]!==v||e[20]!==b?(_=S.jsx(ir,{onClick:v,title:b,children:y}),e[19]=v,e[20]=b,e[21]=_):_=e[21];let E;e[22]!==r.id?(E=j=>{j.stopPropagation(),Na({id:`delete-label-${r.id}`,title:"Delete Label",children:"Are you sure you want to delete this label?",labels:{confirm:"Delete",cancel:"Cancel"},onConfirm:()=>SG(r.id)})},e[22]=r.id,e[23]=E):E=e[23];const A=`Delete label ${r.name}`;let O;e[24]===Symbol.for("react.memo_cache_sentinel")?(O=S.jsx(Bp,{}),e[24]=O):O=e[24];let T;e[25]!==E||e[26]!==A?(T=S.jsx(ir,{onClick:E,title:A,children:O}),e[25]=E,e[26]=A,e[27]=T):T=e[27];let R;e[28]!==_||e[29]!==T?(R=S.jsxs(Pr,{children:[_,T]}),e[28]=_,e[29]=T,e[30]=R):R=e[30];let N;return e[31]!==n||e[32]!==i||e[33]!==R||e[34]!==o||e[35]!==s||e[36]!==l||e[37]!==u||e[38]!==f||e[39]!==g?(N=S.jsxs(n,{align:o,bd:s,p:l,style:u,bg:f,children:[g,R]},i),e[31]=n,e[32]=i,e[33]=R,e[34]=o,e[35]=s,e[36]=l,e[37]=u,e[38]=f,e[39]=g,e[40]=N):N=e[40],N};function ale(t){return t.labels}function lle(){ja("all"),Nl()}function cle(){ja("unlabeled"),Nl()}function ule(){ja("archived"),Nl()}const fle=()=>{const t=gt.c(22),{hue:e,name:n,open:r,id:i}=bt(dle),o=ud();let s;t[0]!==r?(s={id:"label-dialog",open:r,onClose:xO},t[0]=r,t[1]=s):s=t[1],ci(s);const l=i?"Edit Label":"Create Label";let u;t[2]!==n?(u=S.jsx(gr,{label:"Name",value:n,onChange:hle}),t[2]=n,t[3]=u):u=t[3];let f;t[4]!==o||t[5]!==e?(f=VK.map(y=>S.jsx(Yr,{size:"lg",variant:"default",style:{border:y===e?"2px solid var(--mantine-color-bright)":"none"},id:String(y),onClick:()=>wG(y),c:"var(--mantine-color-text)",bg:zp(y,o==="dark"),title:`Select hue ${y??"none"}`,children:y===null?"-":y},String(y))),t[4]=o,t[5]=e,t[6]=f):f=t[6];let h;t[7]!==f?(h=S.jsx(Pr,{my:"md",gap:"xs",children:f}),t[7]=f,t[8]=h):h=t[8];let p;t[9]!==e||t[10]!==i||t[11]!==n?(p=()=>i?xG(i,{name:n,hue:e}):Lp(n,e),t[9]=e,t[10]=i,t[11]=n,t[12]=p):p=t[12];const g=i?"Update":"Create";let v;t[13]!==p||t[14]!==g?(v=S.jsx(fn,{onClick:p,children:g}),t[13]=p,t[14]=g,t[15]=v):v=t[15];let b;return t[16]!==r||t[17]!==l||t[18]!==u||t[19]!==h||t[20]!==v?(b=S.jsxs(Nn,{opened:r,onClose:xO,title:l,children:[u,h,v]}),t[16]=r,t[17]=l,t[18]=u,t[19]=h,t[20]=v,t[21]=b):b=t[21],b};function dle(t){return t.labels.dialog}function hle(t){return bG(t.target.value)}const ple=()=>{const t=gt.c(12),e=bt(mle),{open:n,email:r,loading:i,status:o,oldEmailCode:s,newEmailCode:l}=bt(gle);let u;t[0]!==n?(u={id:"change-email-dialog",open:n,onClose:hO},t[0]=n,t[1]=u):u=t[1],ci(u);let f;t[2]!==r||t[3]!==i||t[4]!==l||t[5]!==e||t[6]!==s||t[7]!==o?(f=o==="email"?S.jsxs(mr,{gap:"md",children:[S.jsx(gr,{label:"Old Email",value:e,disabled:!0,readOnly:!0}),S.jsx(gr,{label:"New Email",type:"email",value:r,onChange:vle}),S.jsx(fn,{loading:i,onClick:QZ,children:"Send Change Email Codes"}),S.jsxs(or,{gap:"md",align:"center",children:[S.jsx("p",{children:"Already have the codes?"}),S.jsx(fn,{onClick:dO,size:"xs",children:"Enter code"})]})]}):S.jsxs(mr,{gap:"md",children:[S.jsx(gr,{label:`Code sent to ${e}`,value:s,onChange:yle}),S.jsx(gr,{label:`Code sent to ${r}`,value:l,onChange:ble}),S.jsx(fn,{loading:i,onClick:JZ,children:"Change Email"}),S.jsxs(or,{gap:"md",align:"center",children:[S.jsx("p",{children:"Need new codes?"}),S.jsx(fn,{onClick:dO,size:"xs",children:"Request codes"})]})]}),t[2]=r,t[3]=i,t[4]=l,t[5]=e,t[6]=s,t[7]=o,t[8]=f):f=t[8];let h;return t[9]!==n||t[10]!==f?(h=S.jsx(Nn,{opened:n,onClose:hO,title:"Change Email",children:f}),t[9]=n,t[10]=f,t[11]=h):h=t[11],h};function mle(t){return t.user.user.email}function gle(t){return t.user.changeEmailDialog}function vle(t){return ZZ(t.target.value)}function yle(t){return XZ(t.target.value)}function ble(t){return GZ(t.target.value)}var go=function(t,e){return Number(t.toFixed(e))},wle=function(t,e){return e},qn=function(t,e,n){n&&typeof n=="function"&&n(t,e)},xle=function(t){return-Math.cos(t*Math.PI)/2+.5},Sle=function(t){return t},_le=function(t){return t*t},Cle=function(t){return t*(2-t)},kle=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},Ele=function(t){return t*t*t},Ale=function(t){return--t*t*t+1},Ole=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},Tle=function(t){return t*t*t*t},Dle=function(t){return 1- --t*t*t*t},Rle=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},Mle=function(t){return t*t*t*t*t},Nle=function(t){return 1+--t*t*t*t*t},jle=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},JN={easeOut:xle,linear:Sle,easeInQuad:_le,easeOutQuad:Cle,easeInOutQuad:kle,easeInCubic:Ele,easeOutCubic:Ale,easeInOutCubic:Ole,easeInQuart:Tle,easeOutQuart:Dle,easeInOutQuart:Rle,easeInQuint:Mle,easeOutQuint:Nle,easeInOutQuint:jle},ej=function(t){typeof t=="number"&&cancelAnimationFrame(t)},jo=function(t){t.mounted&&(ej(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function tj(t,e,n,r){if(t.mounted){var i=new Date().getTime(),o=1;jo(t),t.animation=function(){if(!t.mounted)return ej(t.animation);var s=new Date().getTime()-i,l=s/n,u=JN[e],f=u(l);s>=n?(r(o),t.animation=null):t.animation&&(r(f),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function zle(t){var e=t.scale,n=t.positionX,r=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r))}function Jl(t,e,n,r){var i=zle(e);if(!(!t.mounted||!i)){var o=t.setTransformState,s=t.transformState,l=s.scale,u=s.positionX,f=s.positionY,h=e.scale-l,p=e.positionX-u,g=e.positionY-f;n===0?o(e.scale,e.positionX,e.positionY):tj(t,r,n,function(v){var b=l+h*v,y=u+p*v,_=f+g*v;o(b,y,_)})}}function Ple(t,e,n){var r=t.offsetWidth,i=t.offsetHeight,o=e.offsetWidth,s=e.offsetHeight,l=o*n,u=s*n,f=r-l,h=i-u;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:l,newDiffWidth:f,newContentHeight:u,newDiffHeight:h}}var Lle=function(t,e,n,r,i,o,s){var l=t>e?n*(s?1:.5):0,u=r>i?o*(s?1:.5):0,f=t-e-l,h=l,p=r-i-u,g=u;return{minPositionX:f,maxPositionX:h,minPositionY:p,maxPositionY:g}},K_=function(t,e){var n=t.wrapperComponent,r=t.contentComponent,i=t.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=Ple(n,r,e),s=o.wrapperWidth,l=o.wrapperHeight,u=o.newContentWidth,f=o.newDiffWidth,h=o.newContentHeight,p=o.newDiffHeight,g=Lle(s,u,f,l,h,p,!!i);return g},yS=function(t,e,n,r){return r?t<e?go(e,2):t>n?go(n,2):go(t,2):go(t,2)},Kc=function(t,e){var n=K_(t,e);return t.bounds=n,n};function Yp(t,e,n,r,i,o,s){var l=n.minPositionX,u=n.minPositionY,f=n.maxPositionX,h=n.maxPositionY,p=0,g=0;s&&(p=i,g=o);var v=yS(t,l-p,f+p,r),b=yS(e,u-g,h+g,r);return{x:v,y:b}}function y0(t,e,n,r,i,o){var s=t.transformState,l=s.scale,u=s.positionX,f=s.positionY,h=r-l;if(typeof e!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:u,y:f};var p=u-e*h,g=f-n*h,v=Yp(p,g,i,o,0,0,null);return v}function Zp(t,e,n,r,i){var o=i?r:0,s=e-o;return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=s?s:t}var AT=function(t,e){var n=t.setup.panning.excluded,r=t.isInitialized,i=t.wrapperComponent,o=e.target,s="shadowRoot"in o&&"composedPath"in e,l=s?e.composedPath().some(function(h){return h instanceof Element?i?.contains(h):!1}):i?.contains(o),u=r&&o&&l;if(!u)return!1;var f=b0(o,n);return!f},OT=function(t){var e=t.isInitialized,n=t.isPanning,r=t.setup,i=r.panning.disabled,o=e&&n&&!i;return!!o},Ble=function(t,e){var n=t.transformState,r=n.positionX,i=n.positionY;t.isPanning=!0;var o=e.clientX,s=e.clientY;t.startCoords={x:o-r,y:s-i}},Ile=function(t,e){var n=e.touches,r=t.transformState,i=r.positionX,o=r.positionY;t.isPanning=!0;var s=n.length===1;if(s){var l=n[0].clientX,u=n[0].clientY;t.startCoords={x:l-i,y:u-o}}};function $le(t){var e=t.transformState,n=e.positionX,r=e.positionY,i=e.scale,o=t.setup,s=o.disabled,l=o.limitToBounds,u=o.centerZoomedOut,f=t.wrapperComponent;if(!(s||!f||!t.bounds)){var h=t.bounds,p=h.maxPositionX,g=h.minPositionX,v=h.maxPositionY,b=h.minPositionY,y=n>p||n<g,_=r>v||r<b,E=n>p?f.offsetWidth:t.setup.minPositionX||0,A=r>v?f.offsetHeight:t.setup.minPositionY||0,O=y0(t,E,A,i,t.bounds,l||u),T=O.x,R=O.y;return{scale:i,positionX:y?T:n,positionY:_?R:r}}}function nj(t,e,n,r,i){var o=t.setup.limitToBounds,s=t.wrapperComponent,l=t.bounds,u=t.transformState,f=u.scale,h=u.positionX,p=u.positionY;if(!(s===null||l===null||e===h&&n===p)){var g=Yp(e,n,l,o,r,i,s),v=g.x,b=g.y;t.setTransformState(f,v,b)}}var Fle=function(t,e,n){var r=t.startCoords,i=t.transformState,o=t.setup.panning,s=o.lockAxisX,l=o.lockAxisY,u=i.positionX,f=i.positionY;if(!r)return{x:u,y:f};var h=e-r.x,p=n-r.y,g=s?u:h,v=l?f:p;return{x:g,y:v}},Ul=function(t,e){var n=t.setup,r=t.transformState,i=r.scale,o=n.minScale,s=n.disablePadding;return e>0&&i>=o&&!s?e:0},Ule=function(t){var e=t.mounted,n=t.setup,r=n.disabled,i=n.velocityAnimation,o=t.transformState.scale,s=i.disabled,l=!s||o>1||!r||e;return!!l},Hle=function(t){var e=t.mounted,n=t.velocity,r=t.bounds,i=t.setup,o=i.disabled,s=i.velocityAnimation,l=t.transformState.scale,u=s.disabled,f=!u||l>1||!o||e;return!(!f||!n||!r)};function qle(t,e){var n=t.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*e*o:i}function TT(t,e,n,r,i,o,s,l,u,f){if(i){if(e>s&&n>s){var h=s+(t-s)*f;return h>u?u:h<s?s:h}if(e<o&&n<o){var h=o+(t-o)*f;return h<l?l:h>o?o:h}}return r?e:yS(t,o,s,i)}function Kle(t,e){var n=1;return e?Math.min(n,t.offsetWidth/window.innerWidth):n}function Vle(t,e){var n=Ule(t);if(n){var r=t.lastMousePosition,i=t.velocityTime,o=t.setup,s=t.wrapperComponent,l=o.velocityAnimation.equalToMove,u=Date.now();if(r&&i&&s){var f=Kle(s,l),h=e.x-r.x,p=e.y-r.y,g=h/f,v=p/f,b=u-i,y=h*h+p*p,_=Math.sqrt(y)/b;t.velocity={velocityX:g,velocityY:v,total:_}}t.lastMousePosition=e,t.velocityTime=u}}function Wle(t){var e=t.velocity,n=t.bounds,r=t.setup,i=t.wrapperComponent,o=Hle(t);if(!(!o||!e||!n||!i)){var s=e.velocityX,l=e.velocityY,u=e.total,f=n.maxPositionX,h=n.minPositionX,p=n.maxPositionY,g=n.minPositionY,v=r.limitToBounds,b=r.alignmentAnimation,y=r.zoomAnimation,_=r.panning,E=_.lockAxisY,A=_.lockAxisX,O=y.animationType,T=b.sizeX,R=b.sizeY,N=b.velocityAlignmentTime,j=N,U=qle(t,u),H=Math.max(U,j),Z=Ul(t,T),te=Ul(t,R),I=Z*i.offsetWidth/100,Y=te*i.offsetHeight/100,M=f+I,J=h-I,V=p+Y,X=g-Y,Q=t.transformState,ne=new Date().getTime();tj(t,O,H,function(ue){var $=t.transformState,q=$.scale,se=$.positionX,le=$.positionY,me=new Date().getTime()-ne,je=me/j,We=JN[b.animationType],Xe=1-We(Math.min(1,je)),Ae=1-ue,ht=se+s*Ae,Ye=le+l*Ae,Je=TT(ht,Q.positionX,se,A,v,h,f,J,M,Xe),ct=TT(Ye,Q.positionY,le,E,v,g,p,X,V,Xe);(se!==ht||le!==Ye)&&t.setTransformState(q,Je,ct)})}}function DT(t,e){var n=t.transformState.scale;jo(t),Kc(t,n),window.TouchEvent!==void 0&&e instanceof TouchEvent?Ile(t,e):Ble(t,e)}function V_(t,e){var n=t.transformState.scale,r=t.setup,i=r.minScale,o=r.alignmentAnimation,s=o.disabled,l=o.sizeX,u=o.sizeY,f=o.animationTime,h=o.animationType,p=s||n<i||!l&&!u;if(!p){var g=$le(t);g&&Jl(t,g,e??f,h)}}function RT(t,e,n){var r=t.startCoords,i=t.setup,o=i.alignmentAnimation,s=o.sizeX,l=o.sizeY;if(r){var u=Fle(t,e,n),f=u.x,h=u.y,p=Ul(t,s),g=Ul(t,l);Vle(t,{x:f,y:h}),nj(t,f,h,p,g)}}function Yle(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,r=t.wrapperComponent,i=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var o=r?.getBoundingClientRect(),s=i?.getBoundingClientRect(),l=o?.width||0,u=o?.height||0,f=s?.width||0,h=s?.height||0,p=l<f||u<h,g=!e&&n&&n?.total>.1&&p;g?Wle(t):V_(t)}}function W_(t,e,n,r){var i=t.setup,o=i.minScale,s=i.maxScale,l=i.limitToBounds,u=Zp(go(e,2),o,s,0,!1),f=Kc(t,u),h=y0(t,n,r,u,f,l),p=h.x,g=h.y;return{scale:u,positionX:p,positionY:g}}function rj(t,e,n){var r=t.transformState.scale,i=t.wrapperComponent,o=t.setup,s=o.minScale,l=o.limitToBounds,u=o.zoomAnimation,f=u.disabled,h=u.animationTime,p=u.animationType,g=f||r>=s;if((r>=1||l)&&V_(t),!(g||!i||!t.mounted)){var v=e||i.offsetWidth/2,b=n||i.offsetHeight/2,y=W_(t,s,v,b);y&&Jl(t,y,h,p)}}var jl=function(){return jl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},jl.apply(this,arguments)};function MT(t,e,n){for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Yg={scale:1,positionX:0,positionY:0},zh={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},bS={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},ij=function(t){var e,n,r,i;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:Yg.scale,scale:(n=t.initialScale)!==null&&n!==void 0?n:Yg.scale,positionX:(r=t.initialPositionX)!==null&&r!==void 0?r:Yg.positionX,positionY:(i=t.initialPositionY)!==null&&i!==void 0?i:Yg.positionY}},NT=function(t){var e=jl({},zh);return Object.keys(t).forEach(function(n){var r=typeof t[n]<"u",i=typeof zh[n]<"u";if(i&&r){var o=Object.prototype.toString.call(zh[n]),s=o==="[object Object]",l=o==="[object Array]";s?e[n]=jl(jl({},zh[n]),t[n]):l?e[n]=MT(MT([],zh[n],!0),t[n]):e[n]=t[n]}}),e},oj=function(t,e,n){var r=t.transformState.scale,i=t.wrapperComponent,o=t.setup,s=o.maxScale,l=o.minScale,u=o.zoomAnimation,f=o.smooth,h=u.size;if(!i)throw new Error("Wrapper is not mounted");var p=f?r*Math.exp(e*n):r+e*n,g=Zp(go(p,3),l,s,h,!1);return g};function sj(t,e,n,r,i){var o=t.wrapperComponent,s=t.transformState,l=s.scale,u=s.positionX,f=s.positionY;if(!o)return console.error("No WrapperComponent found");var h=o.offsetWidth,p=o.offsetHeight,g=(h/2-u)/l,v=(p/2-f)/l,b=oj(t,e,n),y=W_(t,b,g,v);if(!y)return console.error("Error during zoom event. New transformation state was not calculated.");Jl(t,y,r,i)}function aj(t,e,n,r){var i=t.setup,o=t.wrapperComponent,s=i.limitToBounds,l=ij(t.props),u=t.transformState,f=u.scale,h=u.positionX,p=u.positionY;if(o){var g=K_(t,l.scale),v=Yp(l.positionX,l.positionY,g,s,0,0,o),b={scale:l.scale,positionX:v.x,positionY:v.y};f===l.scale&&h===l.positionX&&p===l.positionY||(r?.(),Jl(t,b,e,n))}}function Zle(t,e,n,r){var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),s=n.getBoundingClientRect(),l=o.x*r.scale,u=o.y*r.scale;return{x:(i.x-s.x+l)/r.scale,y:(i.y-s.y+u)/r.scale}}function Xle(t,e,n){var r=t.wrapperComponent,i=t.contentComponent,o=t.transformState,s=t.setup,l=s.limitToBounds,u=s.minScale,f=s.maxScale;if(!r||!i)return o;var h=r.getBoundingClientRect(),p=e.getBoundingClientRect(),g=Zle(e,r,i,o),v=g.x,b=g.y,y=p.width/o.scale,_=p.height/o.scale,E=r.offsetWidth/y,A=r.offsetHeight/_,O=Zp(n||Math.min(E,A),u,f,0,!1),T=(h.width-y*O)/2,R=(h.height-_*O)/2,N=(h.left-v)*O+T,j=(h.top-b)*O+R,U=K_(t,O),H=Yp(N,j,U,l,0,0,r),Z=H.x,te=H.y;return{positionX:Z,positionY:te,scale:O}}var Gle=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),sj(t,1,e,n,r)}},Qle=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),sj(t,-1,e,n,r)}},Jle=function(t){return function(e,n,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var s=t.transformState,l=s.positionX,u=s.positionY,f=s.scale,h=t.wrapperComponent,p=t.contentComponent,g=t.setup.disabled;if(!(g||!h||!p)){var v={positionX:Number.isNaN(e)?l:e,positionY:Number.isNaN(n)?u:n,scale:Number.isNaN(r)?f:r};Jl(t,v,i,o)}}},ece=function(t){return function(e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut"),aj(t,e,n)}},tce=function(t){return function(e,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var i=t.transformState,o=t.wrapperComponent,s=t.contentComponent;if(o&&s){var l=lj(e||i.scale,o,s);Jl(t,l,n,r)}}},nce=function(t){return function(e,n,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),jo(t);var o=t.wrapperComponent,s=typeof e=="string"?document.getElementById(e):e;if(o&&s&&o.contains(s)){var l=Xle(t,s,n);Jl(t,l,r,i)}}},wS=function(t){return{instance:t,zoomIn:Gle(t),zoomOut:Qle(t),setTransform:Jle(t),resetTransform:ece(t),centerView:tce(t),zoomToElement:nce(t)}},rce=function(t){return{instance:t,state:t.transformState}},Rn=function(t){var e={};return Object.assign(e,rce(t)),Object.assign(e,wS(t)),e},_w=!1;function Cw(){try{var t={get passive(){return _w=!0,!1}};return t}catch{return _w=!1,_w}}var Zg=".".concat(bS.wrapperClass),b0=function(t,e){return e.some(function(n){return t.matches("".concat(Zg," ").concat(n,", ").concat(Zg," .").concat(n,", ").concat(Zg," ").concat(n," *, ").concat(Zg," .").concat(n," *"))})},xS=function(t){t&&clearTimeout(t)},ice=function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")},lj=function(t,e,n){var r=n.offsetWidth*t,i=n.offsetHeight*t,o=(e.offsetWidth-r)/2,s=(e.offsetHeight-i)/2;return{scale:t,positionX:o,positionY:s}};function oce(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sce=function(t,e){var n=t.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,s=n.excluded,l=t.isInitialized,u=t.isPanning,f=e.target,h=l&&!u&&!r&&f;if(!h||i&&!e.ctrlKey||o&&e.ctrlKey)return!1;var p=b0(f,s);return!p},ace=function(t){return t?t.deltaY<0?1:-1:0};function lce(t,e){var n=ace(t),r=wle(e,n);return r}function cj(t,e,n){var r=e.getBoundingClientRect(),i=0,o=0;if("clientX"in t)i=(t.clientX-r.left)/n,o=(t.clientY-r.top)/n;else{var s=t.touches[0];i=(s.clientX-r.left)/n,o=(s.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var cce=function(t,e,n,r,i){var o=t.transformState.scale,s=t.wrapperComponent,l=t.setup,u=l.maxScale,f=l.minScale,h=l.zoomAnimation,p=l.disablePadding,g=h.size,v=h.disabled;if(!s)throw new Error("Wrapper is not mounted");var b=o+e*n,y=r?!1:!v,_=Zp(go(b,3),f,u,g,y&&!p);return _},uce=function(t,e){var n=t.previousWheelEvent,r=t.transformState.scale,i=t.setup,o=i.maxScale,s=i.minScale;return n?r<o||r>s||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY):!1},fce=function(t,e){var n=t.setup.pinch,r=n.disabled,i=n.excluded,o=t.isInitialized,s=e.target,l=o&&!r&&s;if(!l)return!1;var u=b0(s,i);return!u},dce=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,r=t.pinchStartDistance,i=n&&!e&&r;return!!i},hce=function(t,e,n){var r=n.getBoundingClientRect(),i=t.touches,o=go(i[0].clientX-r.left,5),s=go(i[0].clientY-r.top,5),l=go(i[1].clientX-r.left,5),u=go(i[1].clientY-r.top,5);return{x:(o+l)/2/e,y:(s+u)/2/e}},uj=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},pce=function(t,e){var n=t.pinchStartScale,r=t.pinchStartDistance,i=t.setup,o=i.maxScale,s=i.minScale,l=i.zoomAnimation,u=i.disablePadding,f=l.size,h=l.disabled;if(!n||r===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var p=e/r,g=p*n;return Zp(go(g,2),s,o,f,!h&&!u)},mce=160,gce=100,vce=function(t,e){var n=t.props,r=n.onWheelStart,i=n.onZoomStart;t.wheelStopEventTimer||(jo(t),qn(Rn(t),e,r),qn(Rn(t),e,i))},yce=function(t,e){var n=t.props,r=n.onWheel,i=n.onZoom,o=t.contentComponent,s=t.setup,l=t.transformState,u=l.scale,f=s.limitToBounds,h=s.centerZoomedOut,p=s.zoomAnimation,g=s.wheel,v=s.disablePadding,b=s.smooth,y=p.size,_=p.disabled,E=g.step,A=g.smoothStep;if(!o)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var O=lce(e,null),T=b?A*Math.abs(e.deltaY):E,R=cce(t,O,T,!e.ctrlKey);if(u!==R){var N=Kc(t,R),j=cj(e,o,u),U=_||y===0||h||v,H=f&&U,Z=y0(t,j.x,j.y,R,N,H),te=Z.x,I=Z.y;t.previousWheelEvent=e,t.setTransformState(R,te,I),qn(Rn(t),e,r),qn(Rn(t),e,i)}},bce=function(t,e){var n=t.props,r=n.onWheelStop,i=n.onZoomStop;xS(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(rj(t,e.x,e.y),t.wheelAnimationTimer=null)},gce);var o=uce(t,e);o&&(xS(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,qn(Rn(t),e,r),qn(Rn(t),e,i))},mce))},fj=function(t){for(var e=0,n=0,r=0;r<2;r+=1)e+=t.touches[r].clientX,n+=t.touches[r].clientY;var i=e/2,o=n/2;return{x:i,y:o}},wce=function(t,e){var n=uj(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var r=fj(e);t.pinchLastCenterX=r.x,t.pinchLastCenterY=r.y,jo(t)},xce=function(t,e){var n=t.contentComponent,r=t.pinchStartDistance,i=t.wrapperComponent,o=t.transformState.scale,s=t.setup,l=s.limitToBounds,u=s.centerZoomedOut,f=s.zoomAnimation,h=s.alignmentAnimation,p=f.disabled,g=f.size;if(!(r===null||!n)){var v=hce(e,o,n);if(!(!Number.isFinite(v.x)||!Number.isFinite(v.y))){var b=uj(e),y=pce(t,b),_=fj(e),E=_.x-(t.pinchLastCenterX||0),A=_.y-(t.pinchLastCenterY||0);if(!(y===o&&E===0&&A===0)){t.pinchLastCenterX=_.x,t.pinchLastCenterY=_.y;var O=Kc(t,y),T=p||g===0||u,R=l&&T,N=y0(t,v.x,v.y,y,O,R),j=N.x,U=N.y;t.pinchMidpoint=v,t.lastDistance=b;var H=h.sizeX,Z=h.sizeY,te=Ul(t,H),I=Ul(t,Z),Y=j+E,M=U+A,J=Yp(Y,M,O,l,te,I,i),V=J.x,X=J.y;t.setTransformState(y,V,X)}}}},Sce=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,rj(t,e?.x,e?.y)},dj=function(t,e){var n=t.props.onZoomStop,r=t.setup.doubleClick.animationTime;xS(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,qn(Rn(t),e,n)},r)},_ce=function(t,e){var n=t.props,r=n.onZoomStart,i=n.onZoom,o=t.setup.doubleClick,s=o.animationTime,l=o.animationType;qn(Rn(t),e,r),aj(t,s,l,function(){return qn(Rn(t),e,i)}),dj(t,e)};function Cce(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function kce(t,e){var n=t.setup,r=t.doubleClickStopEventTimer,i=t.transformState,o=t.contentComponent,s=i.scale,l=t.props,u=l.onZoomStart,f=l.onZoom,h=n.doubleClick,p=h.disabled,g=h.mode,v=h.step,b=h.animationTime,y=h.animationType;if(!p&&!r){if(g==="reset")return _ce(t,e);if(!o)return console.error("No ContentComponent found");var _=Cce(g,t.transformState.scale),E=oj(t,_,v);if(s!==E){qn(Rn(t),e,u);var A=cj(e,o,s),O=W_(t,E,A.x,A.y);if(!O)return console.error("Error during zoom event. New transformation state was not calculated.");qn(Rn(t),e,f),Jl(t,O,b,y),dj(t,e)}}}var Ece=function(t,e){var n=t.isInitialized,r=t.setup,i=t.wrapperComponent,o=r.doubleClick,s=o.disabled,l=o.excluded,u=e.target,f=i?.contains(u),h=n&&u&&f&&!s;if(!h)return!1;var p=b0(u,l);return!p},Ace=(function(){function t(e){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,Kc(n,n.transformState.scale),n.setup=NT(r)},this.initializeWindowEvents=function(){var r,i,o=Cw(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;(i=n.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",n.onWheelPanning,o),l?.addEventListener("mousedown",n.onPanningStart,o),l?.addEventListener("mousemove",n.onPanning,o),l?.addEventListener("mouseup",n.onPanningStop,o),s?.addEventListener("mouseleave",n.clearPanning,o),l?.addEventListener("keyup",n.setKeyUnPressed,o),l?.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,i,o=Cw(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;l?.removeEventListener("mousedown",n.onPanningStart,o),l?.removeEventListener("mousemove",n.onPanning,o),l?.removeEventListener("mouseup",n.onPanningStop,o),s?.removeEventListener("mouseleave",n.clearPanning,o),l?.removeEventListener("keyup",n.setKeyUnPressed,o),l?.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),jo(n),(i=n.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=Cw();r.addEventListener("wheel",n.onWheelZoom,i),r.addEventListener("dblclick",n.onDoubleClick,i),r.addEventListener("touchstart",n.onTouchPanningStart,i),r.addEventListener("touchmove",n.onTouchPanning,i),r.addEventListener("touchend",n.onTouchPanningStop,i)},this.handleInitialize=function(r,i){var o=!1,s=n.setup.centerOnInit,l=function(u,f){for(var h=0,p=u;h<p.length;h++){var g=p[h];if(g.target===f)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(u){u(Rn(n))}),n.observer=new ResizeObserver(function(u){if(l(u,r)||l(u,i))if(s&&!o){var f=i.offsetWidth,h=i.offsetHeight;(f>0||h>0)&&(o=!0,n.setCenter())}else jo(n),Kc(n,n.transformState.scale),V_(n,0)}),n.observer.observe(r),n.observer.observe(i)},this.onWheelZoom=function(r){var i=n.setup.disabled;if(!i){var o=sce(n,r);if(o){var s=n.isPressingKeys(n.setup.wheel.activationKeys);s&&(vce(n,r),yce(n,r),bce(n,r))}}},this.onWheelPanning=function(r){var i=n.setup,o=i.disabled,s=i.wheel,l=i.panning;if(!(!n.wrapperComponent||!n.contentComponent||o||!s.wheelDisabled||l.disabled||!l.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var u=n.transformState,f=u.positionX,h=u.positionY,p=f-r.deltaX,g=h-r.deltaY,v=l.lockAxisX?f:p,b=l.lockAxisY?h:g,y=n.setup.alignmentAnimation,_=y.sizeX,E=y.sizeY,A=Ul(n,_),O=Ul(n,E);v===f&&b===h||nj(n,v,b,A,O)}},this.onPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=AT(n,r);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),jo(n),DT(n,r),qn(Rn(n),r,o)))}}},this.onPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(!i){var s=OT(n);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),RT(n,r.clientX,r.clientY),qn(Rn(n),r,o))}}},this.onPanningStop=function(r){var i=n.props.onPanningStop;n.isPanning&&(Yle(n),qn(Rn(n),r,i))},this.onPinchStart=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinchingStart,l=o.onZoomStart;if(!i){var u=fce(n,r);u&&(wce(n,r),jo(n),qn(Rn(n),r,s),qn(Rn(n),r,l))}},this.onPinch=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinching,l=o.onZoom;if(!i){var u=dce(n);u&&(r.preventDefault(),r.stopPropagation(),xce(n,r),qn(Rn(n),r,s),qn(Rn(n),r,l))}},this.onPinchStop=function(r){var i=n.props,o=i.onPinchingStop,s=i.onZoomStop;n.pinchStartScale&&(Sce(n),qn(Rn(n),r,o),qn(Rn(n),r,s))},this.onTouchPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=AT(n,r);if(s){var l=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!l){n.lastTouch=+new Date,jo(n);var u=r.touches,f=u.length===1,h=u.length===2;f&&(jo(n),DT(n,r),qn(Rn(n),r,o)),h&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(i)return;var s=OT(n);if(!s)return;r.preventDefault(),r.stopPropagation();var l=r.touches[0];RT(n,l.clientX,l.clientY),qn(Rn(n),r,o)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var i=n.setup.disabled;if(!i){var o=Ece(n,r);o&&kce(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return n.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var s=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=i,n.transformState.positionY=o,n.applyTransformation();var l=Rn(n);n.onChangeCallbacks.forEach(function(u){return u(l)}),qn(l,{scale:r,positionX:i,positionY:o},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=lj(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return n.props.customTransform?n.props.customTransform(r,i,o):ice(r,i,o)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,i=r.scale,o=r.positionX,s=r.positionY,l=n.handleTransformStyles(o,s,i);n.contentComponent.style.transform=l}},this.getContext=function(){return Rn(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,i){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=i,Kc(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,i),n.initializeWindowEvents(),n.isInitialized=!0;var o=Rn(n);qn(o,void 0,n.props.onInit)},this.props=e,this.setup=NT(this.props),this.transformState=ij(this.props)}return t})(),Y_=Tt.createContext(null),Oce=function(t,e){return typeof t=="function"?t(e):t},Tce=Tt.forwardRef(function(t,e){var n=P.useRef(new Ace(t)).current,r=Oce(t.children,wS(n));return P.useImperativeHandle(e,function(){return wS(n)},[n]),P.useEffect(function(){n.update(t)},[n,t]),Tt.createElement(Y_.Provider,{value:n},r)});Tt.forwardRef(function(t,e){var n=P.useRef(null),r=P.useContext(Y_);return P.useEffect(function(){return r.onChange(function(i){if(n.current){var o=0,s=0;n.current.style.transform=r.handleTransformStyles(o,s,1/i.instance.transformState.scale)}})},[r]),Tt.createElement("div",jl({},t,{ref:oce([n,e])}))});function Dce(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Rce=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,jT={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};Dce(Rce);var Mce=function(t){var e=t.children,n=t.wrapperClass,r=n===void 0?"":n,i=t.contentClass,o=i===void 0?"":i,s=t.wrapperStyle,l=t.contentStyle,u=t.wrapperProps,f=u===void 0?{}:u,h=t.contentProps,p=h===void 0?{}:h,g=P.useContext(Y_),v=g.init,b=g.cleanupWindowEvents,y=P.useRef(null),_=P.useRef(null);return P.useEffect(function(){var E=y.current,A=_.current;return E!==null&&A!==null&&v&&v?.(E,A),function(){b?.()}},[]),Tt.createElement("div",jl({},f,{ref:y,className:"".concat(bS.wrapperClass," ").concat(jT.wrapper," ").concat(r),style:s}),Tt.createElement("div",jl({},p,{ref:_,className:"".concat(bS.contentClass," ").concat(jT.content," ").concat(o),style:l}),e))};const Nce=t=>{const e=gt.c(4);let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M5 12l14 0"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let i;return e[2]!==t?(i=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r]}),e[2]=t,e[3]=i):i=e[3],i},jce=t=>{const e=gt.c(6);let n,r,i,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M21 21l-6 -6"}),i=S.jsx("path",{d:"M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"}),o=S.jsx("path",{d:"M3 4v4h4"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o):(n=e[0],r=e[1],i=e[2],o=e[3]);let s;return e[4]!==t?(s=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o]}),e[4]=t,e[5]=s):s=e[5],s},zce=t=>{const e=gt.c(13),{src:n,alt:r,className:i,style:o,showControls:s}=t,l=r===void 0?"":r,u=s===void 0?!0:s;let f;e[0]!==o?(f={flex:1,minWidth:0,minHeight:0,position:"relative",overflow:"hidden",width:"100%",height:"100%",touchAction:"none",...o},e[0]=o,e[1]=f):f=e[1];let h,p,g;e[2]===Symbol.for("react.memo_cache_sentinel")?(h={step:.1},p={step:5},g={disabled:!0},e[2]=h,e[3]=p,e[4]=g):(h=e[2],p=e[3],g=e[4]);let v;e[5]!==l||e[6]!==u||e[7]!==n?(v=S.jsx(Tce,{minScale:.1,maxScale:10,centerOnInit:!0,limitToBounds:!0,wheel:h,pinch:p,doubleClick:g,children:y=>{const{zoomIn:_,zoomOut:E,resetTransform:A}=y;return S.jsxs(S.Fragment,{children:[u&&S.jsxs("div",{style:{position:"absolute",top:8,right:8,display:"flex",gap:4,zIndex:10},children:[S.jsx(Yr,{onClick:()=>_(),title:"Zoom in",variant:"default",children:S.jsx(fd,{})}),S.jsx(Yr,{onClick:()=>E(),title:"Zoom out",variant:"default",children:S.jsx(Nce,{})}),S.jsx(Yr,{onClick:()=>A(),title:"Reset zoom",variant:"default",children:S.jsx(jce,{})})]}),S.jsx(Mce,{wrapperStyle:{width:"100%",height:"100%"},contentStyle:{width:"100%",height:"100%"},children:S.jsx("img",{src:n,alt:l,style:{width:"100%",height:"100%",objectFit:"contain",display:"block",userSelect:"none",touchAction:"none"}})})]})}}),e[5]=l,e[6]=u,e[7]=n,e[8]=v):v=e[8];let b;return e[9]!==i||e[10]!==f||e[11]!==v?(b=S.jsx("div",{className:i,style:f,children:v}),e[9]=i,e[10]=f,e[11]=v,e[12]=b):b=e[12],b},Pce=t=>{const e=gt.c(8),{src:n}=t,[r,i]=P.useState(null);let o,s;e[0]!==n?(o=()=>{const p=new AbortController,g=n;return i(null),fetch(g,{signal:p.signal}).then(Lce).then(v=>{g===n&&i({src:g,text:v})}).catch(v=>{v.name!=="AbortError"&&i({src:g,text:"",error:v.message})}),()=>p.abort()},s=[n],e[0]=n,e[1]=o,e[2]=s):(o=e[1],s=e[2]),P.useEffect(o,s);const l=r?.error?"red":"inherit";let u;e[3]!==l?(u={color:l,flex:"1 1 0",...Ic,whiteSpace:"pre-wrap",wordBreak:"break-all",overflowX:"hidden",overflowY:"auto",tabSize:2},e[3]=l,e[4]=u):u=e[4];const f=r?.error??r?.text??"Loading...";let h;return e[5]!==u||e[6]!==f?(h=S.jsx(dn,{style:u,children:f}),e[5]=u,e[6]=f,e[7]=h):h=e[7],h};function Lce(t){return t.text()}const Bce=t=>{const e=gt.c(6);let n,r,i,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=S.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r=S.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),i=S.jsx("path",{d:"M7 11l5 5l5 -5"}),o=S.jsx("path",{d:"M12 4l0 12"}),e[0]=n,e[1]=r,e[2]=i,e[3]=o):(n=e[0],r=e[1],i=e[2],o=e[3]);let s;return e[4]!==t?(s=S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[n,r,i,o]}),e[4]=t,e[5]=s):s=e[5],s},kw=Symbol("file not found"),Ice=()=>{const t=gt.c(102),e=ud(),n=bt($ce),{moreMenuOpen:r,labelDropdownOpen:i}=bt(Fce),o=bt(Uce),s=n!==null;let l;t[0]!==n?(l=async()=>n?await et.files_meta.get(n.id)??kw:void 0,t[0]=n,t[1]=l):l=t[1];const u=n?.id;let f;t[2]!==u?(f=[u],t[2]=u,t[3]=f):f=t[3];const h=Xl(l,f);let p;t[4]!==s?(p={id:"open-file-dialog",open:s,onClose:Oh},t[4]=s,t[5]=p):p=t[5],ci(p);let g,v;t[6]!==h?(g=()=>{h===kw&&Oh()},v=[h],t[6]=h,t[7]=g,t[8]=v):(g=t[7],v=t[8]),P.useEffect(g,v);let b;t[9]!==i||t[10]!==r||t[11]!==s?(b=[["Escape",()=>{if(r){wf(!1);const tt=document.querySelector(".open-file-more-menu");tt instanceof HTMLElement&&tt.focus()}else if(i){ux(!1);const tt=document.querySelector(".open-file-label-button");tt instanceof HTMLElement&&tt.focus()}else s&&Oh()}]],t[9]=i,t[10]=r,t[11]=s,t[12]=b):b=t[12];let y;if(t[13]===Symbol.for("react.memo_cache_sentinel")?(y=[],t[13]=y):y=t[13],Gf(b,y,!0),!h||h===kw)return null;const _=h.labels[0],E=_?o[_]?.hue??null:null,A=`/files/${h.id}`,O=e==="dark";let T;t[14]!==E||t[15]!==O?(T=zp(E,O),t[14]=E,t[15]=O,t[16]=T):T=t[16];let R;t[17]!==T?(R={height:"var(--viewport-height, 100dvh)",display:"flex",flexDirection:"column",backgroundColor:T,overflow:"hidden"},t[17]=T,t[18]=R):R=t[18];let N;t[19]===Symbol.for("react.memo_cache_sentinel")?(N={flex:"0 0 100%",height:"100%",display:"flex",flexDirection:"column",gap:"1rem"},t[19]=N):N=t[19];let j;t[20]!==R?(j={content:R,body:N},t[20]=R,t[21]=j):j=t[21];let U;t[22]===Symbol.for("react.memo_cache_sentinel")?(U={flex:"1 1 0",minWidth:"0",border:"none",fontSize:"1.5rem",fontWeight:"bold",outline:"none",background:"transparent"},t[22]=U):U=t[22];const H=n?.title??"";let Z;t[23]!==H?(Z=S.jsx("input",{style:U,autoComplete:"off",placeholder:"Title",name:"title",type:"text",value:H,onChange:Hce}),t[23]=H,t[24]=Z):Z=t[24];let te;t[25]!==h.ext?(te=h.ext&&S.jsx("div",{style:{flex:"0 0 auto",fontSize:"1.5rem",opacity:.5,fontWeight:"bold"},children:h.ext}),t[25]=h.ext,t[26]=te):te=t[26];let I;t[27]!==Z||t[28]!==te?(I=S.jsxs(or,{align:"center",gap:"xs",children:[Z,te]}),t[27]=Z,t[28]=te,t[29]=I):I=t[29];let Y;t[30]!==h.blob_state||t[31]!==h.ext||t[32]!==h.id||t[33]!==h.mime||t[34]!==h.title||t[35]!==A?(Y=h.blob_state==="remote"?S.jsx("div",{style:{flex:"1 1 0",display:"flex",justifyContent:"center",alignItems:"center"},children:"File not downloaded"}):h.mime.startsWith("image/")?S.jsx(zce,{src:A,alt:h.title}):h.mime==="application/pdf"?S.jsx("iframe",{style:{flex:"1 1 0",border:"none"},src:A,title:h.title},h.id):h.mime.startsWith("video/")?S.jsx("video",{style:{flex:"1 1 0",minHeight:0},src:A,controls:!0}):h.mime.startsWith("audio/")?S.jsx("div",{style:{flex:"1 1 0",display:"flex",justifyContent:"center",flexDirection:"column"},children:S.jsx("audio",{style:{flex:"0 0 auto"},src:A,controls:!0})}):h.mime.startsWith("text/")||h.mime==="application/json"?S.jsx(Pce,{src:A}):S.jsx("div",{style:{flex:"1 1 0",display:"flex",justifyContent:"center",alignItems:"center"},children:S.jsx(M6,{ext:h.ext})}),t[30]=h.blob_state,t[31]=h.ext,t[32]=h.id,t[33]=h.mime,t[34]=h.title,t[35]=A,t[36]=Y):Y=t[36];let M;t[37]!==r?(M=()=>wf(!r),t[37]=r,t[38]=M):M=t[38];let J;t[39]===Symbol.for("react.memo_cache_sentinel")?(J=S.jsx(w_,{}),t[39]=J):J=t[39];let V;t[40]!==M?(V=S.jsx(nn.Target,{children:S.jsx(nr,{title:"open menu",text:"more",className:"open-file-more-menu",onClick:M,"data-autofocus":!0,children:J})}),t[40]=M,t[41]=V):V=t[41];let X;t[42]===Symbol.for("react.memo_cache_sentinel")?(X=S.jsx(GN,{}),t[42]=X):X=t[42];let Q;t[43]!==h?(Q=h?kl(h.created_at):"",t[43]=h,t[44]=Q):Q=t[44];let ne;t[45]!==Q?(ne=S.jsx(nn.Item,{leftSection:X,disabled:!0,title:"Created",children:Q}),t[45]=Q,t[46]=ne):ne=t[46];let ue;t[47]===Symbol.for("react.memo_cache_sentinel")?(ue=S.jsx(QN,{}),t[47]=ue):ue=t[47];let $;t[48]!==h?($=h?kl(h.updated_at):"",t[48]=h,t[49]=$):$=t[49];let q;t[50]!==$?(q=S.jsx(nn.Item,{leftSection:ue,disabled:!0,title:"Updated",children:$}),t[50]=$,t[51]=q):q=t[51];let se;t[52]===Symbol.for("react.memo_cache_sentinel")?(se=S.jsx(p_,{}),t[52]=se):se=t[52];const le=!CX(h.mime);let me;t[53]!==h?(me=async()=>{wf(!1),await kX(h)},t[53]=h,t[54]=me):me=t[54];let je;t[55]!==le||t[56]!==me?(je=S.jsx(nn.Item,{leftSection:se,disabled:le,onClick:me,children:"Copy to clipboard"}),t[55]=le,t[56]=me,t[57]=je):je=t[57];let We;t[58]===Symbol.for("react.memo_cache_sentinel")?(We=S.jsx(nn.Item,{leftSection:S.jsx(Bp,{}),onClick:Kce,children:"Delete note"}),t[58]=We):We=t[58];let Xe;t[59]===Symbol.for("react.memo_cache_sentinel")?(Xe=S.jsx(S_,{}),t[59]=Xe):Xe=t[59];const Ae=n?.archived?"Unarchive note":"Archive note";let ht;t[60]!==Ae?(ht=S.jsx(nn.Item,{leftSection:Xe,onClick:Vce,children:Ae}),t[60]=Ae,t[61]=ht):ht=t[61];let Ye;t[62]!==ne||t[63]!==q||t[64]!==je||t[65]!==ht?(Ye=S.jsxs(nn.Dropdown,{children:[ne,q,je,We,ht]}),t[62]=ne,t[63]=q,t[64]=je,t[65]=ht,t[66]=Ye):Ye=t[66];let Je;t[67]!==r||t[68]!==V||t[69]!==Ye?(Je=S.jsxs(nn,{closeOnEscape:!1,opened:r,onDismiss:qce,closeOnClickOutside:!0,children:[V,Ye]}),t[67]=r,t[68]=V,t[69]=Ye,t[70]=Je):Je=t[70];let ct;t[71]===Symbol.for("react.memo_cache_sentinel")?(ct=S.jsx("div",{style:{flex:"1 1 0"}}),t[71]=ct):ct=t[71];let B;t[72]!==i?(B=()=>ux(!i),t[72]=i,t[73]=B):B=t[73];let Ee;t[74]===Symbol.for("react.memo_cache_sentinel")?(Ee=S.jsx(u0,{}),t[74]=Ee):Ee=t[74];let be;t[75]!==B?(be=S.jsx(Zn.Target,{children:S.jsx(nr,{className:"open-file-label-button",title:"Add label",text:"label",onClick:B,children:Ee})}),t[75]=B,t[76]=be):be=t[76];let ee;t[77]!==n?(ee=n&&S.jsx(z6,{fileId:n.id}),t[77]=n,t[78]=ee):ee=t[78];let G;t[79]!==ee?(G=S.jsx(Zn.Dropdown,{children:ee}),t[79]=ee,t[80]=G):G=t[80];let ae;t[81]!==i||t[82]!==be||t[83]!==G?(ae=S.jsxs(Zn,{width:"300px",position:"top",withArrow:!0,shadow:"md",trapFocus:!0,closeOnEscape:!1,closeOnClickOutside:!0,opened:i,onDismiss:Wce,children:[be,G]}),t[81]=i,t[82]=be,t[83]=G,t[84]=ae):ae=t[84];const Ne="Download "+Pv(h);let Me;t[85]!==h?(Me=async()=>{const tt=await et.files_blob.get(h.id);!tt||!tt.blob||(kR(tt.blob,Pv(h)),$V()&&Dt.show({title:"File downloaded",message:"Check notifications to find it."}))},t[85]=h,t[86]=Me):Me=t[86];let pe;t[87]===Symbol.for("react.memo_cache_sentinel")?(pe=S.jsx(Bce,{}),t[87]=pe):pe=t[87];let Ue;t[88]!==Ne||t[89]!==Me?(Ue=S.jsx(nr,{title:Ne,text:"store",onClick:Me,children:pe}),t[88]=Ne,t[89]=Me,t[90]=Ue):Ue=t[90];let ge;t[91]===Symbol.for("react.memo_cache_sentinel")?(ge=S.jsx(nr,{title:"Close note",text:"close",onClick:Oh,children:S.jsx(uu,{})}),t[91]=ge):ge=t[91];let Oe;t[92]!==Je||t[93]!==ae||t[94]!==Ue?(Oe=S.jsxs(or,{gap:"xs",children:[Je,ct,ae,Ue,ge]}),t[92]=Je,t[93]=ae,t[94]=Ue,t[95]=Oe):Oe=t[95];let Ge;return t[96]!==s||t[97]!==j||t[98]!==I||t[99]!==Y||t[100]!==Oe?(Ge=S.jsxs(Qi,{opened:s,onClose:Oh,withCloseButton:!1,closeOnEscape:!1,position:"top",size:"100%",styles:j,children:[I,Y,Oe]}),t[96]=s,t[97]=j,t[98]=I,t[99]=Y,t[100]=Oe,t[101]=Ge):Ge=t[101],Ge};function $ce(t){return t.files.openFile}function Fce(t){return t.files.fileDialog}function Uce(t){return t.labels.labelsCache}function Hce(t){return SX(t.target.value)}function qce(){return wf(!1)}function Kce(){wf(!1),Na({id:"delete-open-file",title:"Delete file?",labels:{confirm:"Delete",cancel:"Cancel"},confirmProps:{color:"red"},onConfirm:xX})}function Vce(){wf(!1),bX()}function Wce(){ux(!1)}const sf=t=>{if(!Number.isFinite(t))return`${t}`;const e=["B","KB","MB","GB","TB"];let n=0,r=t;for(;r>=1024&&n<e.length-1;)r=r/1024,n++;return`${r.toFixed(2)} ${e[n]}`},Yce=()=>{const t=gt.c(31),{open:e,fetching:n,calculating:r,local:i,remote:o}=bt(Zce),s=bt(Xce);let l;t[0]!==e?(l={id:"storage-usage-dialog",open:e,onClose:kO},t[0]=e,t[1]=l):l=t[1],ci(l);const u=i?Math.min(100,i.used/Math.max(1,i.limit)*100):0,f=o?Math.min(100,o.files.used/Math.max(1,o.files.limit)*100):0,h=o?Math.min(100,o.notes.used/Math.max(1,o.notes.limit)*100):0,p=r?.7:1;let g;t[2]!==p?(g={opacity:p},t[2]=p,t[3]=g):g=t[3];let v;t[4]===Symbol.for("react.memo_cache_sentinel")?(v=S.jsx(dn,{fw:500,children:"Local storage"}),t[4]=v):v=t[4];const b=i?`${sf(i.used)} / ${sf(i.limit)}`:"";let y;t[5]!==b?(y=S.jsxs(Pr,{justify:"space-between",children:[v,S.jsx(dn,{size:"sm",c:"dimmed",children:b})]}),t[5]=b,t[6]=y):y=t[6];let _;t[7]===Symbol.for("react.memo_cache_sentinel")?(_={flex:1},t[7]=_):_=t[7];const E=i?u:0;let A;t[8]!==E?(A=S.jsx(Rl,{style:_,value:E}),t[8]=E,t[9]=A):A=t[9];let O;t[10]!==r?(O=r&&S.jsx(xa,{label:"Calculating",children:S.jsx($o,{size:"xs",type:"dots"})}),t[10]=r,t[11]=O):O=t[11];let T;t[12]!==A||t[13]!==O?(T=S.jsxs(Pr,{gap:"xs",align:"center",children:[A,O]}),t[12]=A,t[13]=O,t[14]=T):T=t[14];let R;t[15]!==T||t[16]!==g||t[17]!==y?(R=S.jsxs(mr,{gap:4,style:g,children:[y,T]}),t[15]=T,t[16]=g,t[17]=y,t[18]=R):R=t[18];let N;t[19]!==n||t[20]!==f||t[21]!==s||t[22]!==h||t[23]!==o?(N=s&&S.jsxs(S.Fragment,{children:[S.jsxs(mr,{gap:4,style:{opacity:n?.7:1},children:[S.jsxs(Pr,{justify:"space-between",children:[S.jsx(dn,{fw:500,children:"Remote files"}),S.jsx(dn,{size:"sm",c:"dimmed",children:o?`${sf(o.files.used)} / ${sf(o.files.limit)}`:""})]}),S.jsxs(Pr,{gap:"xs",align:"center",children:[S.jsx(Rl,{style:{flex:1},value:o?f:0,color:"cyan"}),n&&S.jsx(xa,{label:"Fetching",children:S.jsx($o,{size:"xs",type:"dots"})})]})]}),S.jsxs(mr,{gap:4,style:{opacity:n?.7:1},children:[S.jsxs(Pr,{justify:"space-between",children:[S.jsx(dn,{fw:500,children:"Remote notes"}),S.jsx(dn,{size:"sm",c:"dimmed",children:o?`${sf(o.notes.used)} / ${sf(o.notes.limit)}`:""})]}),S.jsxs(Pr,{gap:"xs",align:"center",children:[S.jsx(Rl,{style:{flex:1},value:o?h:0,color:"grape"}),n&&S.jsx(xa,{label:"Fetching",children:S.jsx($o,{size:"xs",type:"dots"})})]})]})]}),t[19]=n,t[20]=f,t[21]=s,t[22]=h,t[23]=o,t[24]=N):N=t[24];let j;t[25]!==R||t[26]!==N?(j=S.jsxs(mr,{gap:"md",children:[R,N]}),t[25]=R,t[26]=N,t[27]=j):j=t[27];let U;return t[28]!==e||t[29]!==j?(U=S.jsx(Nn,{opened:e,onClose:kO,title:"Storage Usage",children:j}),t[28]=e,t[29]=j,t[30]=U):U=t[30],U};function Zce(t){return t.storageUsage}function Xce(t){return t.user.user.loggedIn}window.addEventListener("scroll",Ll(()=>scrollTo(0,0),0));window.visualViewport?window.visualViewport.addEventListener("resize",Ll(()=>{document.documentElement.style.setProperty("--viewport-height",`${window.visualViewport?.height}px`)},0)):window.addEventListener("resize",Ll(()=>{document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`)},0));document.addEventListener("focus",async t=>{const e=t.target;e instanceof HTMLTextAreaElement&&(await Mp(300),e.scrollIntoView({behavior:"smooth",block:"nearest"}))},!0);const Gce=()=>{const t=gt.c(3);let e,n;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[["Escape",Qce]],n=[],t[0]=e,t[1]=n):(e=t[0],n=t[1]),Gf(e,n,!0),ute();let r;return t[2]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsxs(S.Fragment,{children:[S.jsx(Yte,{}),S.jsx(ole,{}),S.jsx(fle,{}),S.jsx(Rae,{}),S.jsx(Ice,{}),S.jsx(wQ,{}),S.jsx(XQ,{}),S.jsx(tle,{}),S.jsx(RJ,{}),S.jsx(QQ,{}),S.jsx(zJ,{}),S.jsx(Yce,{}),S.jsx(Gae,{}),S.jsx(ore,{}),S.jsx(ZJ,{}),S.jsx(Kae,{}),S.jsx(Vae,{}),S.jsx(ple,{}),S.jsx(Hae,{}),S.jsx(QG,{}),S.jsx(Ma,{autoClose:1e4})]}),t[2]=r):r=t[2],r};function Qce(){return Dt.clean()}const Jce={components:{Drawer:{defaultProps:{lockScroll:!1}},Modal:{defaultProps:{lockScroll:!1,closeButtonProps:{title:"Close dialog"}}}}};$z.createRoot(document.getElementById("root")).render(S.jsx(Tt.StrictMode,{children:S.jsx(oD,{theme:Jce,defaultColorScheme:"auto",children:S.jsx(uF,{children:S.jsx(Gce,{})})})}));const eue=new URLSearchParams(window.location.search),zT=eue.get("initialPath");if(zT)try{const t=decodeURIComponent(zT),e=t.startsWith("/")?t:`/${t}`;window.__ciphernotesInitialPath=e,window.history.replaceState(null,"",e)}catch{}
